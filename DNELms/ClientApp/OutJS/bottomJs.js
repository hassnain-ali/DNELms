/*! modernizr 3.5.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-cssanimations-csscolumns-customelements-flexbox-history-picture-pointerevents-postmessage-sizes-srcset-webgl-websockets-webworkers-addtest-domprefixes-hasevent-mq-prefixedcssvalue-prefixes-setclasses-testallprops-testprop-teststyles !*/
!function (e, t, n) { function r(e, t) { return typeof e === t } function o() { var e, t, n, o, i, s, a; for (var l in C) if (C.hasOwnProperty(l)) { if (e = [], t = C[l], t.name && (e.push(t.name.toLowerCase()), t.options && t.options.aliases && t.options.aliases.length)) for (n = 0; n < t.options.aliases.length; n++)e.push(t.options.aliases[n].toLowerCase()); for (o = r(t.fn, "function") ? t.fn() : t.fn, i = 0; i < e.length; i++)s = e[i], a = s.split("."), 1 === a.length ? Modernizr[a[0]] = o : (!Modernizr[a[0]] || Modernizr[a[0]] instanceof Boolean || (Modernizr[a[0]] = new Boolean(Modernizr[a[0]])), Modernizr[a[0]][a[1]] = o), w.push((o ? "" : "no-") + a.join("-")) } } function i(e) { var t = S.className, n = Modernizr._config.classPrefix || ""; if (x && (t = t.baseVal), Modernizr._config.enableJSClass) { var r = new RegExp("(^|\\s)" + n + "no-js(\\s|$)"); t = t.replace(r, "$1" + n + "js$2") } Modernizr._config.enableClasses && (t += " " + n + e.join(" " + n), x ? S.className.baseVal = t : S.className = t) } function s(e, t) { if ("object" == typeof e) for (var n in e) P(e, n) && s(n, e[n]); else { e = e.toLowerCase(); var r = e.split("."), o = Modernizr[r[0]]; if (2 == r.length && (o = o[r[1]]), "undefined" != typeof o) return Modernizr; t = "function" == typeof t ? t() : t, 1 == r.length ? Modernizr[r[0]] = t : (!Modernizr[r[0]] || Modernizr[r[0]] instanceof Boolean || (Modernizr[r[0]] = new Boolean(Modernizr[r[0]])), Modernizr[r[0]][r[1]] = t), i([(t && 0 != t ? "" : "no-") + r.join("-")]), Modernizr._trigger(e, t) } return Modernizr } function a() { return "function" != typeof t.createElement ? t.createElement(arguments[0]) : x ? t.createElementNS.call(t, "http://www.w3.org/2000/svg", arguments[0]) : t.createElement.apply(t, arguments) } function l() { var e = t.body; return e || (e = a(x ? "svg" : "body"), e.fake = !0), e } function u(e, n, r, o) { var i, s, u, f, d = "modernizr", c = a("div"), p = l(); if (parseInt(r, 10)) for (; r--;)u = a("div"), u.id = o ? o[r] : d + (r + 1), c.appendChild(u); return i = a("style"), i.type = "text/css", i.id = "s" + d, (p.fake ? p : c).appendChild(i), p.appendChild(c), i.styleSheet ? i.styleSheet.cssText = e : i.appendChild(t.createTextNode(e)), c.id = d, p.fake && (p.style.background = "", p.style.overflow = "hidden", f = S.style.overflow, S.style.overflow = "hidden", S.appendChild(p)), s = n(c, e), p.fake ? (p.parentNode.removeChild(p), S.style.overflow = f, S.offsetHeight) : c.parentNode.removeChild(c), !!s } function f(e, t) { return !!~("" + e).indexOf(t) } function d(e) { return e.replace(/([A-Z])/g, function (e, t) { return "-" + t.toLowerCase() }).replace(/^ms-/, "-ms-") } function c(t, n, r) { var o; if ("getComputedStyle" in e) { o = getComputedStyle.call(e, t, n); var i = e.console; if (null !== o) r && (o = o.getPropertyValue(r)); else if (i) { var s = i.error ? "error" : "log"; i[s].call(i, "getComputedStyle returning null, its possible modernizr test results are inaccurate") } } else o = !n && t.currentStyle && t.currentStyle[r]; return o } function p(t, r) { var o = t.length; if ("CSS" in e && "supports" in e.CSS) { for (; o--;)if (e.CSS.supports(d(t[o]), r)) return !0; return !1 } if ("CSSSupportsRule" in e) { for (var i = []; o--;)i.push("(" + d(t[o]) + ":" + r + ")"); return i = i.join(" or "), u("@supports (" + i + ") { #modernizr { position: absolute; } }", function (e) { return "absolute" == c(e, null, "position") }) } return n } function m(e) { return e.replace(/([a-z])-([a-z])/g, function (e, t, n) { return t + n.toUpperCase() }).replace(/^-/, "") } function h(e, t, o, i) { function s() { u && (delete N.style, delete N.modElem) } if (i = r(i, "undefined") ? !1 : i, !r(o, "undefined")) { var l = p(e, o); if (!r(l, "undefined")) return l } for (var u, d, c, h, v, A = ["modernizr", "tspan", "samp"]; !N.style && A.length;)u = !0, N.modElem = a(A.shift()), N.style = N.modElem.style; for (c = e.length, d = 0; c > d; d++)if (h = e[d], v = N.style[h], f(h, "-") && (h = m(h)), N.style[h] !== n) { if (i || r(o, "undefined")) return s(), "pfx" == t ? h : !0; try { N.style[h] = o } catch (g) { } if (N.style[h] != v) return s(), "pfx" == t ? h : !0 } return s(), !1 } function v(e, t) { return function () { return e.apply(t, arguments) } } function A(e, t, n) { var o; for (var i in e) if (e[i] in t) return n === !1 ? e[i] : (o = t[e[i]], r(o, "function") ? v(o, n || t) : o); return !1 } function g(e, t, n, o, i) { var s = e.charAt(0).toUpperCase() + e.slice(1), a = (e + " " + O.join(s + " ") + s).split(" "); return r(t, "string") || r(t, "undefined") ? h(a, t, o, i) : (a = (e + " " + T.join(s + " ") + s).split(" "), A(a, t, n)) } function y(e, t, r) { return g(e, n, n, t, r) } var C = [], b = { _version: "3.5.0", _config: { classPrefix: "", enableClasses: !0, enableJSClass: !0, usePrefixes: !0 }, _q: [], on: function (e, t) { var n = this; setTimeout(function () { t(n[e]) }, 0) }, addTest: function (e, t, n) { C.push({ name: e, fn: t, options: n }) }, addAsyncTest: function (e) { C.push({ name: null, fn: e }) } }, Modernizr = function () { }; Modernizr.prototype = b, Modernizr = new Modernizr; var w = [], S = t.documentElement, x = "svg" === S.nodeName.toLowerCase(), _ = "Moz O ms Webkit", T = b._config.usePrefixes ? _.toLowerCase().split(" ") : []; b._domPrefixes = T; var E = b._config.usePrefixes ? " -webkit- -moz- -o- -ms- ".split(" ") : ["", ""]; b._prefixes = E; var P; !function () { var e = {}.hasOwnProperty; P = r(e, "undefined") || r(e.call, "undefined") ? function (e, t) { return t in e && r(e.constructor.prototype[t], "undefined") } : function (t, n) { return e.call(t, n) } }(), b._l = {}, b.on = function (e, t) { this._l[e] || (this._l[e] = []), this._l[e].push(t), Modernizr.hasOwnProperty(e) && setTimeout(function () { Modernizr._trigger(e, Modernizr[e]) }, 0) }, b._trigger = function (e, t) { if (this._l[e]) { var n = this._l[e]; setTimeout(function () { var e, r; for (e = 0; e < n.length; e++)(r = n[e])(t) }, 0), delete this._l[e] } }, Modernizr._q.push(function () { b.addTest = s }); var k = function () { function e(e, t) { var o; return e ? (t && "string" != typeof t || (t = a(t || "div")), e = "on" + e, o = e in t, !o && r && (t.setAttribute || (t = a("div")), t.setAttribute(e, ""), o = "function" == typeof t[e], t[e] !== n && (t[e] = n), t.removeAttribute(e)), o) : !1 } var r = !("onblur" in t.documentElement); return e }(); b.hasEvent = k; var z = function () { var t = e.matchMedia || e.msMatchMedia; return t ? function (e) { var n = t(e); return n && n.matches || !1 } : function (t) { var n = !1; return u("@media " + t + " { #modernizr { position: absolute; } }", function (t) { n = "absolute" == (e.getComputedStyle ? e.getComputedStyle(t, null) : t.currentStyle).position }), n } }(); b.mq = z; var B = function (e, t) { var n = !1, r = a("div"), o = r.style; if (e in o) { var i = T.length; for (o[e] = t, n = o[e]; i-- && !n;)o[e] = "-" + T[i] + "-" + t, n = o[e] } return "" === n && (n = !1), n }; b.prefixedCSSValue = B; var O = b._config.usePrefixes ? _.split(" ") : []; b._cssomPrefixes = O; var L = { elem: a("modernizr") }; Modernizr._q.push(function () { delete L.elem }); var N = { style: L.elem.style }; Modernizr._q.unshift(function () { delete N.style }), b.testAllProps = g, b.testAllProps = y; b.testProp = function (e, t, r) { return h([e], n, t, r) }, b.testStyles = u; Modernizr.addTest("customelements", "customElements" in e), Modernizr.addTest("history", function () { var t = navigator.userAgent; return -1 === t.indexOf("Android 2.") && -1 === t.indexOf("Android 4.0") || -1 === t.indexOf("Mobile Safari") || -1 !== t.indexOf("Chrome") || -1 !== t.indexOf("Windows Phone") || "file:" === location.protocol ? e.history && "pushState" in e.history : !1 }), Modernizr.addTest("pointerevents", function () { var e = !1, t = T.length; for (e = Modernizr.hasEvent("pointerdown"); t-- && !e;)k(T[t] + "pointerdown") && (e = !0); return e }), Modernizr.addTest("postmessage", "postMessage" in e), Modernizr.addTest("webgl", function () { var t = a("canvas"), n = "probablySupportsContext" in t ? "probablySupportsContext" : "supportsContext"; return n in t ? t[n]("webgl") || t[n]("experimental-webgl") : "WebGLRenderingContext" in e }); var R = !1; try { R = "WebSocket" in e && 2 === e.WebSocket.CLOSING } catch (j) { } Modernizr.addTest("websockets", R), Modernizr.addTest("cssanimations", y("animationName", "a", !0)), function () { Modernizr.addTest("csscolumns", function () { var e = !1, t = y("columnCount"); try { e = !!t, e && (e = new Boolean(e)) } catch (n) { } return e }); for (var e, t, n = ["Width", "Span", "Fill", "Gap", "Rule", "RuleColor", "RuleStyle", "RuleWidth", "BreakBefore", "BreakAfter", "BreakInside"], r = 0; r < n.length; r++)e = n[r].toLowerCase(), t = y("column" + n[r]), ("breakbefore" === e || "breakafter" === e || "breakinside" == e) && (t = t || y(n[r])), Modernizr.addTest("csscolumns." + e, t) }(), Modernizr.addTest("flexbox", y("flexBasis", "1px", !0)), Modernizr.addTest("picture", "HTMLPictureElement" in e), Modernizr.addAsyncTest(function () { var e, t, n, r = a("img"), o = "sizes" in r; !o && "srcset" in r ? (t = "data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==", e = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", n = function () { s("sizes", 2 == r.width) }, r.onload = n, r.onerror = n, r.setAttribute("sizes", "9px"), r.srcset = e + " 1w," + t + " 8w", r.src = e) : s("sizes", o) }), Modernizr.addTest("srcset", "srcset" in a("img")), Modernizr.addTest("webworkers", "Worker" in e), o(), i(w), delete b.addTest, delete b.addAsyncTest; for (var M = 0; M < Modernizr._q.length; M++)Modernizr._q[M](); e.Modernizr = Modernizr }(window, document);

/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function (a, b) { "use strict"; "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) { if (!a.document) throw new Error("jQuery requires a window with a document"); return b(a) } : b(a) }("undefined" != typeof window ? window : this, function (a, b) {
    "use strict"; var c = [], d = a.document, e = Object.getPrototypeOf, f = c.slice, g = c.concat, h = c.push, i = c.indexOf, j = {}, k = j.toString, l = j.hasOwnProperty, m = l.toString, n = m.call(Object), o = {}; function p(a, b) { b = b || d; var c = b.createElement("script"); c.text = a, b.head.appendChild(c).parentNode.removeChild(c) } var q = "3.2.1", r = function (a, b) { return new r.fn.init(a, b) }, s = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, t = /^-ms-/, u = /-([a-z])/g, v = function (a, b) { return b.toUpperCase() }; r.fn = r.prototype = { jquery: q, constructor: r, length: 0, toArray: function () { return f.call(this) }, get: function (a) { return null == a ? f.call(this) : a < 0 ? this[a + this.length] : this[a] }, pushStack: function (a) { var b = r.merge(this.constructor(), a); return b.prevObject = this, b }, each: function (a) { return r.each(this, a) }, map: function (a) { return this.pushStack(r.map(this, function (b, c) { return a.call(b, c, b) })) }, slice: function () { return this.pushStack(f.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (a) { var b = this.length, c = +a + (a < 0 ? b : 0); return this.pushStack(c >= 0 && c < b ? [this[c]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: h, sort: c.sort, splice: c.splice }, r.extend = r.fn.extend = function () { var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1; for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || r.isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)if (null != (a = arguments[h])) for (b in a) c = g[b], d = a[b], g !== d && (j && d && (r.isPlainObject(d) || (e = Array.isArray(d))) ? (e ? (e = !1, f = c && Array.isArray(c) ? c : []) : f = c && r.isPlainObject(c) ? c : {}, g[b] = r.extend(j, f, d)) : void 0 !== d && (g[b] = d)); return g }, r.extend({ expando: "jQuery" + (q + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) { throw new Error(a) }, noop: function () { }, isFunction: function (a) { return "function" === r.type(a) }, isWindow: function (a) { return null != a && a === a.window }, isNumeric: function (a) { var b = r.type(a); return ("number" === b || "string" === b) && !isNaN(a - parseFloat(a)) }, isPlainObject: function (a) { var b, c; return !(!a || "[object Object]" !== k.call(a)) && (!(b = e(a)) || (c = l.call(b, "constructor") && b.constructor, "function" == typeof c && m.call(c) === n)) }, isEmptyObject: function (a) { var b; for (b in a) return !1; return !0 }, type: function (a) { return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? j[k.call(a)] || "object" : typeof a }, globalEval: function (a) { p(a) }, camelCase: function (a) { return a.replace(t, "ms-").replace(u, v) }, each: function (a, b) { var c, d = 0; if (w(a)) { for (c = a.length; d < c; d++)if (b.call(a[d], d, a[d]) === !1) break } else for (d in a) if (b.call(a[d], d, a[d]) === !1) break; return a }, trim: function (a) { return null == a ? "" : (a + "").replace(s, "") }, makeArray: function (a, b) { var c = b || []; return null != a && (w(Object(a)) ? r.merge(c, "string" == typeof a ? [a] : a) : h.call(c, a)), c }, inArray: function (a, b, c) { return null == b ? -1 : i.call(b, a, c) }, merge: function (a, b) { for (var c = +b.length, d = 0, e = a.length; d < c; d++)a[e++] = b[d]; return a.length = e, a }, grep: function (a, b, c) { for (var d, e = [], f = 0, g = a.length, h = !c; f < g; f++)d = !b(a[f], f), d !== h && e.push(a[f]); return e }, map: function (a, b, c) { var d, e, f = 0, h = []; if (w(a)) for (d = a.length; f < d; f++)e = b(a[f], f, c), null != e && h.push(e); else for (f in a) e = b(a[f], f, c), null != e && h.push(e); return g.apply([], h) }, guid: 1, proxy: function (a, b) { var c, d, e; if ("string" == typeof b && (c = a[b], b = a, a = c), r.isFunction(a)) return d = f.call(arguments, 2), e = function () { return a.apply(b || this, d.concat(f.call(arguments))) }, e.guid = a.guid = a.guid || r.guid++, e }, now: Date.now, support: o }), "function" == typeof Symbol && (r.fn[Symbol.iterator] = c[Symbol.iterator]), r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (a, b) { j["[object " + b + "]"] = b.toLowerCase() }); function w(a) { var b = !!a && "length" in a && a.length, c = r.type(a); return "function" !== c && !r.isWindow(a) && ("array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a) } var x = function (a) { var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date, v = a.document, w = 0, x = 0, y = ha(), z = ha(), A = ha(), B = function (a, b) { return a === b && (l = !0), 0 }, C = {}.hasOwnProperty, D = [], E = D.pop, F = D.push, G = D.push, H = D.slice, I = function (a, b) { for (var c = 0, d = a.length; c < d; c++)if (a[c] === b) return c; return -1 }, J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", K = "[\\x20\\t\\r\\n\\f]", L = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", M = "\\[" + K + "*(" + L + ")(?:" + K + "*([*^$|!~]?=)" + K + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + L + "))|)" + K + "*\\]", N = ":(" + L + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + M + ")*)|.*)\\)|)", O = new RegExp(K + "+", "g"), P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"), Q = new RegExp("^" + K + "*," + K + "*"), R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"), S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"), T = new RegExp(N), U = new RegExp("^" + L + "$"), V = { ID: new RegExp("^#(" + L + ")"), CLASS: new RegExp("^\\.(" + L + ")"), TAG: new RegExp("^(" + L + "|[*])"), ATTR: new RegExp("^" + M), PSEUDO: new RegExp("^" + N), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"), bool: new RegExp("^(?:" + J + ")$", "i"), needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i") }, W = /^(?:input|select|textarea|button)$/i, X = /^h\d$/i, Y = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, $ = /[+~]/, _ = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"), aa = function (a, b, c) { var d = "0x" + b - 65536; return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320) }, ba = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ca = function (a, b) { return b ? "\0" === a ? "\ufffd" : a.slice(0, -1) + "\\" + a.charCodeAt(a.length - 1).toString(16) + " " : "\\" + a }, da = function () { m() }, ea = ta(function (a) { return a.disabled === !0 && ("form" in a || "label" in a) }, { dir: "parentNode", next: "legend" }); try { G.apply(D = H.call(v.childNodes), v.childNodes), D[v.childNodes.length].nodeType } catch (fa) { G = { apply: D.length ? function (a, b) { F.apply(a, H.call(b)) } : function (a, b) { var c = a.length, d = 0; while (a[c++] = b[d++]); a.length = c - 1 } } } function ga(a, b, d, e) { var f, h, j, k, l, o, r, s = b && b.ownerDocument, w = b ? b.nodeType : 9; if (d = d || [], "string" != typeof a || !a || 1 !== w && 9 !== w && 11 !== w) return d; if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) { if (11 !== w && (l = Z.exec(a))) if (f = l[1]) { if (9 === w) { if (!(j = b.getElementById(f))) return d; if (j.id === f) return d.push(j), d } else if (s && (j = s.getElementById(f)) && t(b, j) && j.id === f) return d.push(j), d } else { if (l[2]) return G.apply(d, b.getElementsByTagName(a)), d; if ((f = l[3]) && c.getElementsByClassName && b.getElementsByClassName) return G.apply(d, b.getElementsByClassName(f)), d } if (c.qsa && !A[a + " "] && (!q || !q.test(a))) { if (1 !== w) s = b, r = a; else if ("object" !== b.nodeName.toLowerCase()) { (k = b.getAttribute("id")) ? k = k.replace(ba, ca) : b.setAttribute("id", k = u), o = g(a), h = o.length; while (h--) o[h] = "#" + k + " " + sa(o[h]); r = o.join(","), s = $.test(a) && qa(b.parentNode) || b } if (r) try { return G.apply(d, s.querySelectorAll(r)), d } catch (x) { } finally { k === u && b.removeAttribute("id") } } } return i(a.replace(P, "$1"), b, d, e) } function ha() { var a = []; function b(c, e) { return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e } return b } function ia(a) { return a[u] = !0, a } function ja(a) { var b = n.createElement("fieldset"); try { return !!a(b) } catch (c) { return !1 } finally { b.parentNode && b.parentNode.removeChild(b), b = null } } function ka(a, b) { var c = a.split("|"), e = c.length; while (e--) d.attrHandle[c[e]] = b } function la(a, b) { var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && a.sourceIndex - b.sourceIndex; if (d) return d; if (c) while (c = c.nextSibling) if (c === b) return -1; return a ? 1 : -1 } function ma(a) { return function (b) { var c = b.nodeName.toLowerCase(); return "input" === c && b.type === a } } function na(a) { return function (b) { var c = b.nodeName.toLowerCase(); return ("input" === c || "button" === c) && b.type === a } } function oa(a) { return function (b) { return "form" in b ? b.parentNode && b.disabled === !1 ? "label" in b ? "label" in b.parentNode ? b.parentNode.disabled === a : b.disabled === a : b.isDisabled === a || b.isDisabled !== !a && ea(b) === a : b.disabled === a : "label" in b && b.disabled === a } } function pa(a) { return ia(function (b) { return b = +b, ia(function (c, d) { var e, f = a([], c.length, b), g = f.length; while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e])) }) }) } function qa(a) { return a && "undefined" != typeof a.getElementsByTagName && a } c = ga.support = {}, f = ga.isXML = function (a) { var b = a && (a.ownerDocument || a).documentElement; return !!b && "HTML" !== b.nodeName }, m = ga.setDocument = function (a) { var b, e, g = a ? a.ownerDocument || a : v; return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement, p = !f(n), v !== n && (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)), c.attributes = ja(function (a) { return a.className = "i", !a.getAttribute("className") }), c.getElementsByTagName = ja(function (a) { return a.appendChild(n.createComment("")), !a.getElementsByTagName("*").length }), c.getElementsByClassName = Y.test(n.getElementsByClassName), c.getById = ja(function (a) { return o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length }), c.getById ? (d.filter.ID = function (a) { var b = a.replace(_, aa); return function (a) { return a.getAttribute("id") === b } }, d.find.ID = function (a, b) { if ("undefined" != typeof b.getElementById && p) { var c = b.getElementById(a); return c ? [c] : [] } }) : (d.filter.ID = function (a) { var b = a.replace(_, aa); return function (a) { var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id"); return c && c.value === b } }, d.find.ID = function (a, b) { if ("undefined" != typeof b.getElementById && p) { var c, d, e, f = b.getElementById(a); if (f) { if (c = f.getAttributeNode("id"), c && c.value === a) return [f]; e = b.getElementsByName(a), d = 0; while (f = e[d++]) if (c = f.getAttributeNode("id"), c && c.value === a) return [f] } return [] } }), d.find.TAG = c.getElementsByTagName ? function (a, b) { return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0 } : function (a, b) { var c, d = [], e = 0, f = b.getElementsByTagName(a); if ("*" === a) { while (c = f[e++]) 1 === c.nodeType && d.push(c); return d } return f }, d.find.CLASS = c.getElementsByClassName && function (a, b) { if ("undefined" != typeof b.getElementsByClassName && p) return b.getElementsByClassName(a) }, r = [], q = [], (c.qsa = Y.test(n.querySelectorAll)) && (ja(function (a) { o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + K + "*(?:value|" + J + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]") }), ja(function (a) { a.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>"; var b = n.createElement("input"); b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + K + "*[*^$|!~]?="), 2 !== a.querySelectorAll(":enabled").length && q.push(":enabled", ":disabled"), o.appendChild(a).disabled = !0, 2 !== a.querySelectorAll(":disabled").length && q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:") })), (c.matchesSelector = Y.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ja(function (a) { c.disconnectedMatch = s.call(a, "*"), s.call(a, "[s!='']:x"), r.push("!=", N) }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = Y.test(o.compareDocumentPosition), t = b || Y.test(o.contains) ? function (a, b) { var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode; return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d))) } : function (a, b) { if (b) while (b = b.parentNode) if (b === a) return !0; return !1 }, B = b ? function (a, b) { if (a === b) return l = !0, 0; var d = !a.compareDocumentPosition - !b.compareDocumentPosition; return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? I(k, a) - I(k, b) : 0 : 4 & d ? -1 : 1) } : function (a, b) { if (a === b) return l = !0, 0; var c, d = 0, e = a.parentNode, f = b.parentNode, g = [a], h = [b]; if (!e || !f) return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? I(k, a) - I(k, b) : 0; if (e === f) return la(a, b); c = a; while (c = c.parentNode) g.unshift(c); c = b; while (c = c.parentNode) h.unshift(c); while (g[d] === h[d]) d++; return d ? la(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0 }, n) : n }, ga.matches = function (a, b) { return ga(a, null, null, b) }, ga.matchesSelector = function (a, b) { if ((a.ownerDocument || a) !== n && m(a), b = b.replace(S, "='$1']"), c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b))) try { var d = s.call(a, b); if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d } catch (e) { } return ga(b, n, null, [a]).length > 0 }, ga.contains = function (a, b) { return (a.ownerDocument || a) !== n && m(a), t(a, b) }, ga.attr = function (a, b) { (a.ownerDocument || a) !== n && m(a); var e = d.attrHandle[b.toLowerCase()], f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0; return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null }, ga.escape = function (a) { return (a + "").replace(ba, ca) }, ga.error = function (a) { throw new Error("Syntax error, unrecognized expression: " + a) }, ga.uniqueSort = function (a) { var b, d = [], e = 0, f = 0; if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) { while (b = a[f++]) b === a[f] && (e = d.push(f)); while (e--) a.splice(d[e], 1) } return k = null, a }, e = ga.getText = function (a) { var b, c = "", d = 0, f = a.nodeType; if (f) { if (1 === f || 9 === f || 11 === f) { if ("string" == typeof a.textContent) return a.textContent; for (a = a.firstChild; a; a = a.nextSibling)c += e(a) } else if (3 === f || 4 === f) return a.nodeValue } else while (b = a[d++]) c += e(b); return c }, d = ga.selectors = { cacheLength: 50, createPseudo: ia, match: V, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (a) { return a[1] = a[1].replace(_, aa), a[3] = (a[3] || a[4] || a[5] || "").replace(_, aa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4) }, CHILD: function (a) { return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || ga.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && ga.error(a[0]), a }, PSEUDO: function (a) { var b, c = !a[6] && a[2]; return V.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && T.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3)) } }, filter: { TAG: function (a) { var b = a.replace(_, aa).toLowerCase(); return "*" === a ? function () { return !0 } : function (a) { return a.nodeName && a.nodeName.toLowerCase() === b } }, CLASS: function (a) { var b = y[a + " "]; return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && y(a, function (a) { return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "") }) }, ATTR: function (a, b, c) { return function (d) { var e = ga.attr(d, a); return null == e ? "!=" === b : !b || (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(O, " ") + " ").indexOf(c) > -1 : "|=" === b && (e === c || e.slice(0, c.length + 1) === c + "-")) } }, CHILD: function (a, b, c, d, e) { var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b; return 1 === d && 0 === e ? function (a) { return !!a.parentNode } : function (b, c, i) { var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h, t = !1; if (q) { if (f) { while (p) { m = b; while (m = m[p]) if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) return !1; o = p = "only" === a && !o && "nextSibling" } return !0 } if (o = [g ? q.firstChild : q.lastChild], g && s) { m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n && j[2], m = n && q.childNodes[n]; while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if (1 === m.nodeType && ++t && m === b) { k[a] = [w, n, t]; break } } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n), t === !1) while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b)) break; return t -= e, t === d || t % d === 0 && t / d >= 0 } } }, PSEUDO: function (a, b) { var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || ga.error("unsupported pseudo: " + a); return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ia(function (a, c) { var d, f = e(a, b), g = f.length; while (g--) d = I(a, f[g]), a[d] = !(c[d] = f[g]) }) : function (a) { return e(a, 0, c) }) : e } }, pseudos: { not: ia(function (a) { var b = [], c = [], d = h(a.replace(P, "$1")); return d[u] ? ia(function (a, b, c, e) { var f, g = d(a, null, e, []), h = a.length; while (h--) (f = g[h]) && (a[h] = !(b[h] = f)) }) : function (a, e, f) { return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop() } }), has: ia(function (a) { return function (b) { return ga(a, b).length > 0 } }), contains: ia(function (a) { return a = a.replace(_, aa), function (b) { return (b.textContent || b.innerText || e(b)).indexOf(a) > -1 } }), lang: ia(function (a) { return U.test(a || "") || ga.error("unsupported lang: " + a), a = a.replace(_, aa).toLowerCase(), function (b) { var c; do if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType); return !1 } }), target: function (b) { var c = a.location && a.location.hash; return c && c.slice(1) === b.id }, root: function (a) { return a === o }, focus: function (a) { return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex) }, enabled: oa(!1), disabled: oa(!0), checked: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && !!a.checked || "option" === b && !!a.selected }, selected: function (a) { return a.parentNode && a.parentNode.selectedIndex, a.selected === !0 }, empty: function (a) { for (a = a.firstChild; a; a = a.nextSibling)if (a.nodeType < 6) return !1; return !0 }, parent: function (a) { return !d.pseudos.empty(a) }, header: function (a) { return X.test(a.nodeName) }, input: function (a) { return W.test(a.nodeName) }, button: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && "button" === a.type || "button" === b }, text: function (a) { var b; return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase()) }, first: pa(function () { return [0] }), last: pa(function (a, b) { return [b - 1] }), eq: pa(function (a, b, c) { return [c < 0 ? c + b : c] }), even: pa(function (a, b) { for (var c = 0; c < b; c += 2)a.push(c); return a }), odd: pa(function (a, b) { for (var c = 1; c < b; c += 2)a.push(c); return a }), lt: pa(function (a, b, c) { for (var d = c < 0 ? c + b : c; --d >= 0;)a.push(d); return a }), gt: pa(function (a, b, c) { for (var d = c < 0 ? c + b : c; ++d < b;)a.push(d); return a }) } }, d.pseudos.nth = d.pseudos.eq; for (b in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) d.pseudos[b] = ma(b); for (b in { submit: !0, reset: !0 }) d.pseudos[b] = na(b); function ra() { } ra.prototype = d.filters = d.pseudos, d.setFilters = new ra, g = ga.tokenize = function (a, b) { var c, e, f, g, h, i, j, k = z[a + " "]; if (k) return b ? 0 : k.slice(0); h = a, i = [], j = d.preFilter; while (h) { c && !(e = Q.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({ value: c, type: e[0].replace(P, " ") }), h = h.slice(c.length)); for (g in d.filter) !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({ value: c, type: g, matches: e }), h = h.slice(c.length)); if (!c) break } return b ? h.length : h ? ga.error(a) : z(a, i).slice(0) }; function sa(a) { for (var b = 0, c = a.length, d = ""; b < c; b++)d += a[b].value; return d } function ta(a, b, c) { var d = b.dir, e = b.next, f = e || d, g = c && "parentNode" === f, h = x++; return b.first ? function (b, c, e) { while (b = b[d]) if (1 === b.nodeType || g) return a(b, c, e); return !1 } : function (b, c, i) { var j, k, l, m = [w, h]; if (i) { while (b = b[d]) if ((1 === b.nodeType || g) && a(b, c, i)) return !0 } else while (b = b[d]) if (1 === b.nodeType || g) if (l = b[u] || (b[u] = {}), k = l[b.uniqueID] || (l[b.uniqueID] = {}), e && e === b.nodeName.toLowerCase()) b = b[d] || b; else { if ((j = k[f]) && j[0] === w && j[1] === h) return m[2] = j[2]; if (k[f] = m, m[2] = a(b, c, i)) return !0 } return !1 } } function ua(a) { return a.length > 1 ? function (b, c, d) { var e = a.length; while (e--) if (!a[e](b, c, d)) return !1; return !0 } : a[0] } function va(a, b, c) { for (var d = 0, e = b.length; d < e; d++)ga(a, b[d], c); return c } function wa(a, b, c, d, e) { for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h))); return g } function xa(a, b, c, d, e, f) { return d && !d[u] && (d = xa(d)), e && !e[u] && (e = xa(e, f)), ia(function (f, g, h, i) { var j, k, l, m = [], n = [], o = g.length, p = f || va(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : wa(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q; if (c && c(q, r, h, i), d) { j = wa(r, n), d(j, [], h, i), k = j.length; while (k--) (l = j[k]) && (r[n[k]] = !(q[n[k]] = l)) } if (f) { if (e || a) { if (e) { j = [], k = r.length; while (k--) (l = r[k]) && j.push(q[k] = l); e(null, r = [], j, i) } k = r.length; while (k--) (l = r[k]) && (j = e ? I(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l)) } } else r = wa(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G.apply(g, r) }) } function ya(a) { for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ta(function (a) { return a === b }, h, !0), l = ta(function (a) { return I(b, a) > -1 }, h, !0), m = [function (a, c, d) { var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d)); return b = null, e }]; i < f; i++)if (c = d.relative[a[i].type]) m = [ta(ua(m), c)]; else { if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) { for (e = ++i; e < f; e++)if (d.relative[a[e].type]) break; return xa(i > 1 && ua(m), i > 1 && sa(a.slice(0, i - 1).concat({ value: " " === a[i - 2].type ? "*" : "" })).replace(P, "$1"), c, i < e && ya(a.slice(i, e)), e < f && ya(a = a.slice(e)), e < f && sa(a)) } m.push(c) } return ua(m) } function za(a, b) { var c = b.length > 0, e = a.length > 0, f = function (f, g, h, i, k) { var l, o, q, r = 0, s = "0", t = f && [], u = [], v = j, x = f || e && d.find.TAG("*", k), y = w += null == v ? 1 : Math.random() || .1, z = x.length; for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) { if (e && l) { o = 0, g || l.ownerDocument === n || (m(l), h = !p); while (q = a[o++]) if (q(l, g || n, h)) { i.push(l); break } k && (w = y) } c && ((l = !q && l) && r--, f && t.push(l)) } if (r += s, c && s !== r) { o = 0; while (q = b[o++]) q(t, u, g, h); if (f) { if (r > 0) while (s--) t[s] || u[s] || (u[s] = E.call(i)); u = wa(u) } G.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && ga.uniqueSort(i) } return k && (w = y, j = v), t }; return c ? ia(f) : f } return h = ga.compile = function (a, b) { var c, d = [], e = [], f = A[a + " "]; if (!f) { b || (b = g(a)), c = b.length; while (c--) f = ya(b[c]), f[u] ? d.push(f) : e.push(f); f = A(a, za(e, d)), f.selector = a } return f }, i = ga.select = function (a, b, c, e) { var f, i, j, k, l, m = "function" == typeof a && a, n = !e && g(a = m.selector || a); if (c = c || [], 1 === n.length) { if (i = n[0] = n[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && 9 === b.nodeType && p && d.relative[i[1].type]) { if (b = (d.find.ID(j.matches[0].replace(_, aa), b) || [])[0], !b) return c; m && (b = b.parentNode), a = a.slice(i.shift().value.length) } f = V.needsContext.test(a) ? 0 : i.length; while (f--) { if (j = i[f], d.relative[k = j.type]) break; if ((l = d.find[k]) && (e = l(j.matches[0].replace(_, aa), $.test(i[0].type) && qa(b.parentNode) || b))) { if (i.splice(f, 1), a = e.length && sa(i), !a) return G.apply(c, e), c; break } } } return (m || h(a, n))(e, b, !p, c, !b || $.test(a) && qa(b.parentNode) || b), c }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ja(function (a) { return 1 & a.compareDocumentPosition(n.createElement("fieldset")) }), ja(function (a) { return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href") }) || ka("type|href|height|width", function (a, b, c) { if (!c) return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2) }), c.attributes && ja(function (a) { return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value") }) || ka("value", function (a, b, c) { if (!c && "input" === a.nodeName.toLowerCase()) return a.defaultValue }), ja(function (a) { return null == a.getAttribute("disabled") }) || ka(J, function (a, b, c) { var d; if (!c) return a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null }), ga }(a); r.find = x, r.expr = x.selectors, r.expr[":"] = r.expr.pseudos, r.uniqueSort = r.unique = x.uniqueSort, r.text = x.getText, r.isXMLDoc = x.isXML, r.contains = x.contains, r.escapeSelector = x.escape; var y = function (a, b, c) { var d = [], e = void 0 !== c; while ((a = a[b]) && 9 !== a.nodeType) if (1 === a.nodeType) { if (e && r(a).is(c)) break; d.push(a) } return d }, z = function (a, b) { for (var c = []; a; a = a.nextSibling)1 === a.nodeType && a !== b && c.push(a); return c }, A = r.expr.match.needsContext; function B(a, b) { return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase() } var C = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i, D = /^.[^:#\[\.,]*$/; function E(a, b, c) { return r.isFunction(b) ? r.grep(a, function (a, d) { return !!b.call(a, d, a) !== c }) : b.nodeType ? r.grep(a, function (a) { return a === b !== c }) : "string" != typeof b ? r.grep(a, function (a) { return i.call(b, a) > -1 !== c }) : D.test(b) ? r.filter(b, a, c) : (b = r.filter(b, a), r.grep(a, function (a) { return i.call(b, a) > -1 !== c && 1 === a.nodeType })) } r.filter = function (a, b, c) { var d = b[0]; return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? r.find.matchesSelector(d, a) ? [d] : [] : r.find.matches(a, r.grep(b, function (a) { return 1 === a.nodeType })) }, r.fn.extend({ find: function (a) { var b, c, d = this.length, e = this; if ("string" != typeof a) return this.pushStack(r(a).filter(function () { for (b = 0; b < d; b++)if (r.contains(e[b], this)) return !0 })); for (c = this.pushStack([]), b = 0; b < d; b++)r.find(a, e[b], c); return d > 1 ? r.uniqueSort(c) : c }, filter: function (a) { return this.pushStack(E(this, a || [], !1)) }, not: function (a) { return this.pushStack(E(this, a || [], !0)) }, is: function (a) { return !!E(this, "string" == typeof a && A.test(a) ? r(a) : a || [], !1).length } }); var F, G = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/, H = r.fn.init = function (a, b, c) { var e, f; if (!a) return this; if (c = c || F, "string" == typeof a) { if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : G.exec(a), !e || !e[1] && b) return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a); if (e[1]) { if (b = b instanceof r ? b[0] : b, r.merge(this, r.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)), C.test(e[1]) && r.isPlainObject(b)) for (e in b) r.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]); return this } return f = d.getElementById(e[2]), f && (this[0] = f, this.length = 1), this } return a.nodeType ? (this[0] = a, this.length = 1, this) : r.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(r) : r.makeArray(a, this) }; H.prototype = r.fn, F = r(d); var I = /^(?:parents|prev(?:Until|All))/, J = { children: !0, contents: !0, next: !0, prev: !0 }; r.fn.extend({ has: function (a) { var b = r(a, this), c = b.length; return this.filter(function () { for (var a = 0; a < c; a++)if (r.contains(this, b[a])) return !0 }) }, closest: function (a, b) { var c, d = 0, e = this.length, f = [], g = "string" != typeof a && r(a); if (!A.test(a)) for (; d < e; d++)for (c = this[d]; c && c !== b; c = c.parentNode)if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && r.find.matchesSelector(c, a))) { f.push(c); break } return this.pushStack(f.length > 1 ? r.uniqueSort(f) : f) }, index: function (a) { return a ? "string" == typeof a ? i.call(r(a), this[0]) : i.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (a, b) { return this.pushStack(r.uniqueSort(r.merge(this.get(), r(a, b)))) }, addBack: function (a) { return this.add(null == a ? this.prevObject : this.prevObject.filter(a)) } }); function K(a, b) { while ((a = a[b]) && 1 !== a.nodeType); return a } r.each({ parent: function (a) { var b = a.parentNode; return b && 11 !== b.nodeType ? b : null }, parents: function (a) { return y(a, "parentNode") }, parentsUntil: function (a, b, c) { return y(a, "parentNode", c) }, next: function (a) { return K(a, "nextSibling") }, prev: function (a) { return K(a, "previousSibling") }, nextAll: function (a) { return y(a, "nextSibling") }, prevAll: function (a) { return y(a, "previousSibling") }, nextUntil: function (a, b, c) { return y(a, "nextSibling", c) }, prevUntil: function (a, b, c) { return y(a, "previousSibling", c) }, siblings: function (a) { return z((a.parentNode || {}).firstChild, a) }, children: function (a) { return z(a.firstChild) }, contents: function (a) { return B(a, "iframe") ? a.contentDocument : (B(a, "template") && (a = a.content || a), r.merge([], a.childNodes)) } }, function (a, b) { r.fn[a] = function (c, d) { var e = r.map(this, b, c); return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = r.filter(d, e)), this.length > 1 && (J[a] || r.uniqueSort(e), I.test(a) && e.reverse()), this.pushStack(e) } }); var L = /[^\x20\t\r\n\f]+/g; function M(a) { var b = {}; return r.each(a.match(L) || [], function (a, c) { b[c] = !0 }), b } r.Callbacks = function (a) { a = "string" == typeof a ? M(a) : r.extend({}, a); var b, c, d, e, f = [], g = [], h = -1, i = function () { for (e = e || a.once, d = b = !0; g.length; h = -1) { c = g.shift(); while (++h < f.length) f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length, c = !1) } a.memory || (c = !1), b = !1, e && (f = c ? [] : "") }, j = { add: function () { return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) { r.each(b, function (b, c) { r.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== r.type(c) && d(c) }) }(arguments), c && !b && i()), this }, remove: function () { return r.each(arguments, function (a, b) { var c; while ((c = r.inArray(b, f, c)) > -1) f.splice(c, 1), c <= h && h-- }), this }, has: function (a) { return a ? r.inArray(a, f) > -1 : f.length > 0 }, empty: function () { return f && (f = []), this }, disable: function () { return e = g = [], f = c = "", this }, disabled: function () { return !f }, lock: function () { return e = g = [], c || b || (f = c = ""), this }, locked: function () { return !!e }, fireWith: function (a, c) { return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), this }, fire: function () { return j.fireWith(this, arguments), this }, fired: function () { return !!d } }; return j }; function N(a) { return a } function O(a) { throw a } function P(a, b, c, d) { var e; try { a && r.isFunction(e = a.promise) ? e.call(a).done(b).fail(c) : a && r.isFunction(e = a.then) ? e.call(a, b, c) : b.apply(void 0, [a].slice(d)) } catch (a) { c.apply(void 0, [a]) } } r.extend({ Deferred: function (b) { var c = [["notify", "progress", r.Callbacks("memory"), r.Callbacks("memory"), 2], ["resolve", "done", r.Callbacks("once memory"), r.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", r.Callbacks("once memory"), r.Callbacks("once memory"), 1, "rejected"]], d = "pending", e = { state: function () { return d }, always: function () { return f.done(arguments).fail(arguments), this }, "catch": function (a) { return e.then(null, a) }, pipe: function () { var a = arguments; return r.Deferred(function (b) { r.each(c, function (c, d) { var e = r.isFunction(a[d[4]]) && a[d[4]]; f[d[1]](function () { var a = e && e.apply(this, arguments); a && r.isFunction(a.promise) ? a.promise().progress(b.notify).done(b.resolve).fail(b.reject) : b[d[0] + "With"](this, e ? [a] : arguments) }) }), a = null }).promise() }, then: function (b, d, e) { var f = 0; function g(b, c, d, e) { return function () { var h = this, i = arguments, j = function () { var a, j; if (!(b < f)) { if (a = d.apply(h, i), a === c.promise()) throw new TypeError("Thenable self-resolution"); j = a && ("object" == typeof a || "function" == typeof a) && a.then, r.isFunction(j) ? e ? j.call(a, g(f, c, N, e), g(f, c, O, e)) : (f++, j.call(a, g(f, c, N, e), g(f, c, O, e), g(f, c, N, c.notifyWith))) : (d !== N && (h = void 0, i = [a]), (e || c.resolveWith)(h, i)) } }, k = e ? j : function () { try { j() } catch (a) { r.Deferred.exceptionHook && r.Deferred.exceptionHook(a, k.stackTrace), b + 1 >= f && (d !== O && (h = void 0, i = [a]), c.rejectWith(h, i)) } }; b ? k() : (r.Deferred.getStackHook && (k.stackTrace = r.Deferred.getStackHook()), a.setTimeout(k)) } } return r.Deferred(function (a) { c[0][3].add(g(0, a, r.isFunction(e) ? e : N, a.notifyWith)), c[1][3].add(g(0, a, r.isFunction(b) ? b : N)), c[2][3].add(g(0, a, r.isFunction(d) ? d : O)) }).promise() }, promise: function (a) { return null != a ? r.extend(a, e) : e } }, f = {}; return r.each(c, function (a, b) { var g = b[2], h = b[5]; e[b[1]] = g.add, h && g.add(function () { d = h }, c[3 - a][2].disable, c[0][2].lock), g.add(b[3].fire), f[b[0]] = function () { return f[b[0] + "With"](this === f ? void 0 : this, arguments), this }, f[b[0] + "With"] = g.fireWith }), e.promise(f), b && b.call(f, f), f }, when: function (a) { var b = arguments.length, c = b, d = Array(c), e = f.call(arguments), g = r.Deferred(), h = function (a) { return function (c) { d[a] = this, e[a] = arguments.length > 1 ? f.call(arguments) : c, --b || g.resolveWith(d, e) } }; if (b <= 1 && (P(a, g.done(h(c)).resolve, g.reject, !b), "pending" === g.state() || r.isFunction(e[c] && e[c].then))) return g.then(); while (c--) P(e[c], h(c), g.reject); return g.promise() } }); var Q = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; r.Deferred.exceptionHook = function (b, c) { a.console && a.console.warn && b && Q.test(b.name) && a.console.warn("jQuery.Deferred exception: " + b.message, b.stack, c) }, r.readyException = function (b) { a.setTimeout(function () { throw b }) }; var R = r.Deferred(); r.fn.ready = function (a) { return R.then(a)["catch"](function (a) { r.readyException(a) }), this }, r.extend({ isReady: !1, readyWait: 1, ready: function (a) { (a === !0 ? --r.readyWait : r.isReady) || (r.isReady = !0, a !== !0 && --r.readyWait > 0 || R.resolveWith(d, [r])) } }), r.ready.then = R.then; function S() {
        d.removeEventListener("DOMContentLoaded", S),
            a.removeEventListener("load", S), r.ready()
    } "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(r.ready) : (d.addEventListener("DOMContentLoaded", S), a.addEventListener("load", S)); var T = function (a, b, c, d, e, f, g) { var h = 0, i = a.length, j = null == c; if ("object" === r.type(c)) { e = !0; for (h in c) T(a, b, h, c[h], !0, f, g) } else if (void 0 !== d && (e = !0, r.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) { return j.call(r(a), c) })), b)) for (; h < i; h++)b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c))); return e ? a : j ? b.call(a) : i ? b(a[0], c) : f }, U = function (a) { return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType }; function V() { this.expando = r.expando + V.uid++ } V.uid = 1, V.prototype = { cache: function (a) { var b = a[this.expando]; return b || (b = {}, U(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(a, this.expando, { value: b, configurable: !0 }))), b }, set: function (a, b, c) { var d, e = this.cache(a); if ("string" == typeof b) e[r.camelCase(b)] = c; else for (d in b) e[r.camelCase(d)] = b[d]; return e }, get: function (a, b) { return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][r.camelCase(b)] }, access: function (a, b, c) { return void 0 === b || b && "string" == typeof b && void 0 === c ? this.get(a, b) : (this.set(a, b, c), void 0 !== c ? c : b) }, remove: function (a, b) { var c, d = a[this.expando]; if (void 0 !== d) { if (void 0 !== b) { Array.isArray(b) ? b = b.map(r.camelCase) : (b = r.camelCase(b), b = b in d ? [b] : b.match(L) || []), c = b.length; while (c--) delete d[b[c]] } (void 0 === b || r.isEmptyObject(d)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando]) } }, hasData: function (a) { var b = a[this.expando]; return void 0 !== b && !r.isEmptyObject(b) } }; var W = new V, X = new V, Y = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, Z = /[A-Z]/g; function $(a) { return "true" === a || "false" !== a && ("null" === a ? null : a === +a + "" ? +a : Y.test(a) ? JSON.parse(a) : a) } function _(a, b, c) { var d; if (void 0 === c && 1 === a.nodeType) if (d = "data-" + b.replace(Z, "-$&").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) { try { c = $(c) } catch (e) { } X.set(a, b, c) } else c = void 0; return c } r.extend({ hasData: function (a) { return X.hasData(a) || W.hasData(a) }, data: function (a, b, c) { return X.access(a, b, c) }, removeData: function (a, b) { X.remove(a, b) }, _data: function (a, b, c) { return W.access(a, b, c) }, _removeData: function (a, b) { W.remove(a, b) } }), r.fn.extend({ data: function (a, b) { var c, d, e, f = this[0], g = f && f.attributes; if (void 0 === a) { if (this.length && (e = X.get(f), 1 === f.nodeType && !W.get(f, "hasDataAttrs"))) { c = g.length; while (c--) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = r.camelCase(d.slice(5)), _(f, d, e[d]))); W.set(f, "hasDataAttrs", !0) } return e } return "object" == typeof a ? this.each(function () { X.set(this, a) }) : T(this, function (b) { var c; if (f && void 0 === b) { if (c = X.get(f, a), void 0 !== c) return c; if (c = _(f, a), void 0 !== c) return c } else this.each(function () { X.set(this, a, b) }) }, null, b, arguments.length > 1, null, !0) }, removeData: function (a) { return this.each(function () { X.remove(this, a) }) } }), r.extend({ queue: function (a, b, c) { var d; if (a) return b = (b || "fx") + "queue", d = W.get(a, b), c && (!d || Array.isArray(c) ? d = W.access(a, b, r.makeArray(c)) : d.push(c)), d || [] }, dequeue: function (a, b) { b = b || "fx"; var c = r.queue(a, b), d = c.length, e = c.shift(), f = r._queueHooks(a, b), g = function () { r.dequeue(a, b) }; "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire() }, _queueHooks: function (a, b) { var c = b + "queueHooks"; return W.get(a, c) || W.access(a, c, { empty: r.Callbacks("once memory").add(function () { W.remove(a, [b + "queue", c]) }) }) } }), r.fn.extend({ queue: function (a, b) { var c = 2; return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? r.queue(this[0], a) : void 0 === b ? this : this.each(function () { var c = r.queue(this, a, b); r._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && r.dequeue(this, a) }) }, dequeue: function (a) { return this.each(function () { r.dequeue(this, a) }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }, promise: function (a, b) { var c, d = 1, e = r.Deferred(), f = this, g = this.length, h = function () { --d || e.resolveWith(f, [f]) }; "string" != typeof a && (b = a, a = void 0), a = a || "fx"; while (g--) c = W.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h)); return h(), e.promise(b) } }); var aa = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, ba = new RegExp("^(?:([+-])=|)(" + aa + ")([a-z%]*)$", "i"), ca = ["Top", "Right", "Bottom", "Left"], da = function (a, b) { return a = b || a, "none" === a.style.display || "" === a.style.display && r.contains(a.ownerDocument, a) && "none" === r.css(a, "display") }, ea = function (a, b, c, d) { var e, f, g = {}; for (f in b) g[f] = a.style[f], a.style[f] = b[f]; e = c.apply(a, d || []); for (f in b) a.style[f] = g[f]; return e }; function fa(a, b, c, d) { var e, f = 1, g = 20, h = d ? function () { return d.cur() } : function () { return r.css(a, b, "") }, i = h(), j = c && c[3] || (r.cssNumber[b] ? "" : "px"), k = (r.cssNumber[b] || "px" !== j && +i) && ba.exec(r.css(a, b)); if (k && k[3] !== j) { j = j || k[3], c = c || [], k = +i || 1; do f = f || ".5", k /= f, r.style(a, b, k + j); while (f !== (f = h() / i) && 1 !== f && --g) } return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)), e } var ga = {}; function ha(a) { var b, c = a.ownerDocument, d = a.nodeName, e = ga[d]; return e ? e : (b = c.body.appendChild(c.createElement(d)), e = r.css(b, "display"), b.parentNode.removeChild(b), "none" === e && (e = "block"), ga[d] = e, e) } function ia(a, b) { for (var c, d, e = [], f = 0, g = a.length; f < g; f++)d = a[f], d.style && (c = d.style.display, b ? ("none" === c && (e[f] = W.get(d, "display") || null, e[f] || (d.style.display = "")), "" === d.style.display && da(d) && (e[f] = ha(d))) : "none" !== c && (e[f] = "none", W.set(d, "display", c))); for (f = 0; f < g; f++)null != e[f] && (a[f].style.display = e[f]); return a } r.fn.extend({ show: function () { return ia(this, !0) }, hide: function () { return ia(this) }, toggle: function (a) { return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () { da(this) ? r(this).show() : r(this).hide() }) } }); var ja = /^(?:checkbox|radio)$/i, ka = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i, la = /^$|\/(?:java|ecma)script/i, ma = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; ma.optgroup = ma.option, ma.tbody = ma.tfoot = ma.colgroup = ma.caption = ma.thead, ma.th = ma.td; function na(a, b) { var c; return c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [], void 0 === b || b && B(a, b) ? r.merge([a], c) : c } function oa(a, b) { for (var c = 0, d = a.length; c < d; c++)W.set(a[c], "globalEval", !b || W.get(b[c], "globalEval")) } var pa = /<|&#?\w+;/; function qa(a, b, c, d, e) { for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], n = 0, o = a.length; n < o; n++)if (f = a[n], f || 0 === f) if ("object" === r.type(f)) r.merge(m, f.nodeType ? [f] : f); else if (pa.test(f)) { g = g || l.appendChild(b.createElement("div")), h = (ka.exec(f) || ["", ""])[1].toLowerCase(), i = ma[h] || ma._default, g.innerHTML = i[1] + r.htmlPrefilter(f) + i[2], k = i[0]; while (k--) g = g.lastChild; r.merge(m, g.childNodes), g = l.firstChild, g.textContent = "" } else m.push(b.createTextNode(f)); l.textContent = "", n = 0; while (f = m[n++]) if (d && r.inArray(f, d) > -1) e && e.push(f); else if (j = r.contains(f.ownerDocument, f), g = na(l.appendChild(f), "script"), j && oa(g), c) { k = 0; while (f = g[k++]) la.test(f.type || "") && c.push(f) } return l } !function () { var a = d.createDocumentFragment(), b = a.appendChild(d.createElement("div")), c = d.createElement("input"); c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), o.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", o.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue }(); var ra = d.documentElement, sa = /^key/, ta = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, ua = /^([^.]*)(?:\.(.+)|)/; function va() { return !0 } function wa() { return !1 } function xa() { try { return d.activeElement } catch (a) { } } function ya(a, b, c, d, e, f) { var g, h; if ("object" == typeof b) { "string" != typeof c && (d = d || c, c = void 0); for (h in b) ya(a, h, c, d, b[h], f); return a } if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = wa; else if (!e) return a; return 1 === f && (g = e, e = function (a) { return r().off(a), g.apply(this, arguments) }, e.guid = g.guid || (g.guid = r.guid++)), a.each(function () { r.event.add(this, b, e, d, c) }) } r.event = { global: {}, add: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, n, o, p, q = W.get(a); if (q) { c.handler && (f = c, c = f.handler, e = f.selector), e && r.find.matchesSelector(ra, e), c.guid || (c.guid = r.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function (b) { return "undefined" != typeof r && r.event.triggered !== b.type ? r.event.dispatch.apply(a, arguments) : void 0 }), b = (b || "").match(L) || [""], j = b.length; while (j--) h = ua.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = r.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = r.event.special[n] || {}, k = r.extend({ type: n, origType: p, data: d, handler: c, guid: c.guid, selector: e, needsContext: e && r.expr.match.needsContext.test(e), namespace: o.join(".") }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), r.event.global[n] = !0) } }, remove: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, n, o, p, q = W.hasData(a) && W.get(a); if (q && (i = q.events)) { b = (b || "").match(L) || [""], j = b.length; while (j--) if (h = ua.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) { l = r.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; while (f--) k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k)); g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || r.removeEvent(a, n, q.handle), delete i[n]) } else for (n in i) r.event.remove(a, n + b[j], c, d, !0); r.isEmptyObject(i) && W.remove(a, "handle events") } }, dispatch: function (a) { var b = r.event.fix(a), c, d, e, f, g, h, i = new Array(arguments.length), j = (W.get(this, "events") || {})[b.type] || [], k = r.event.special[b.type] || {}; for (i[0] = b, c = 1; c < arguments.length; c++)i[c] = arguments[c]; if (b.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, b) !== !1) { h = r.event.handlers.call(this, b, j), c = 0; while ((f = h[c++]) && !b.isPropagationStopped()) { b.currentTarget = f.elem, d = 0; while ((g = f.handlers[d++]) && !b.isImmediatePropagationStopped()) b.rnamespace && !b.rnamespace.test(g.namespace) || (b.handleObj = g, b.data = g.data, e = ((r.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== e && (b.result = e) === !1 && (b.preventDefault(), b.stopPropagation())) } return k.postDispatch && k.postDispatch.call(this, b), b.result } }, handlers: function (a, b) { var c, d, e, f, g, h = [], i = b.delegateCount, j = a.target; if (i && j.nodeType && !("click" === a.type && a.button >= 1)) for (; j !== this; j = j.parentNode || this)if (1 === j.nodeType && ("click" !== a.type || j.disabled !== !0)) { for (f = [], g = {}, c = 0; c < i; c++)d = b[c], e = d.selector + " ", void 0 === g[e] && (g[e] = d.needsContext ? r(e, this).index(j) > -1 : r.find(e, this, null, [j]).length), g[e] && f.push(d); f.length && h.push({ elem: j, handlers: f }) } return j = this, i < b.length && h.push({ elem: j, handlers: b.slice(i) }), h }, addProp: function (a, b) { Object.defineProperty(r.Event.prototype, a, { enumerable: !0, configurable: !0, get: r.isFunction(b) ? function () { if (this.originalEvent) return b(this.originalEvent) } : function () { if (this.originalEvent) return this.originalEvent[a] }, set: function (b) { Object.defineProperty(this, a, { enumerable: !0, configurable: !0, writable: !0, value: b }) } }) }, fix: function (a) { return a[r.expando] ? a : new r.Event(a) }, special: { load: { noBubble: !0 }, focus: { trigger: function () { if (this !== xa() && this.focus) return this.focus(), !1 }, delegateType: "focusin" }, blur: { trigger: function () { if (this === xa() && this.blur) return this.blur(), !1 }, delegateType: "focusout" }, click: { trigger: function () { if ("checkbox" === this.type && this.click && B(this, "input")) return this.click(), !1 }, _default: function (a) { return B(a.target, "a") } }, beforeunload: { postDispatch: function (a) { void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result) } } } }, r.removeEvent = function (a, b, c) { a.removeEventListener && a.removeEventListener(b, c) }, r.Event = function (a, b) { return this instanceof r.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? va : wa, this.target = a.target && 3 === a.target.nodeType ? a.target.parentNode : a.target, this.currentTarget = a.currentTarget, this.relatedTarget = a.relatedTarget) : this.type = a, b && r.extend(this, b), this.timeStamp = a && a.timeStamp || r.now(), void (this[r.expando] = !0)) : new r.Event(a, b) }, r.Event.prototype = { constructor: r.Event, isDefaultPrevented: wa, isPropagationStopped: wa, isImmediatePropagationStopped: wa, isSimulated: !1, preventDefault: function () { var a = this.originalEvent; this.isDefaultPrevented = va, a && !this.isSimulated && a.preventDefault() }, stopPropagation: function () { var a = this.originalEvent; this.isPropagationStopped = va, a && !this.isSimulated && a.stopPropagation() }, stopImmediatePropagation: function () { var a = this.originalEvent; this.isImmediatePropagationStopped = va, a && !this.isSimulated && a.stopImmediatePropagation(), this.stopPropagation() } }, r.each({ altKey: !0, bubbles: !0, cancelable: !0, changedTouches: !0, ctrlKey: !0, detail: !0, eventPhase: !0, metaKey: !0, pageX: !0, pageY: !0, shiftKey: !0, view: !0, "char": !0, charCode: !0, key: !0, keyCode: !0, button: !0, buttons: !0, clientX: !0, clientY: !0, offsetX: !0, offsetY: !0, pointerId: !0, pointerType: !0, screenX: !0, screenY: !0, targetTouches: !0, toElement: !0, touches: !0, which: function (a) { var b = a.button; return null == a.which && sa.test(a.type) ? null != a.charCode ? a.charCode : a.keyCode : !a.which && void 0 !== b && ta.test(a.type) ? 1 & b ? 1 : 2 & b ? 3 : 4 & b ? 2 : 0 : a.which } }, r.event.addProp), r.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (a, b) { r.event.special[a] = { delegateType: b, bindType: b, handle: function (a) { var c, d = this, e = a.relatedTarget, f = a.handleObj; return e && (e === d || r.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c } } }), r.fn.extend({ on: function (a, b, c, d) { return ya(this, a, b, c, d) }, one: function (a, b, c, d) { return ya(this, a, b, c, d, 1) }, off: function (a, b, c) { var d, e; if (a && a.preventDefault && a.handleObj) return d = a.handleObj, r(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this; if ("object" == typeof a) { for (e in a) this.off(e, b, a[e]); return this } return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = wa), this.each(function () { r.event.remove(this, a, c, b) }) } }); var za = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, Aa = /<script|<style|<link/i, Ba = /checked\s*(?:[^=]|=\s*.checked.)/i, Ca = /^true\/(.*)/, Da = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function Ea(a, b) { return B(a, "table") && B(11 !== b.nodeType ? b : b.firstChild, "tr") ? r(">tbody", a)[0] || a : a } function Fa(a) { return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a } function Ga(a) { var b = Ca.exec(a.type); return b ? a.type = b[1] : a.removeAttribute("type"), a } function Ha(a, b) { var c, d, e, f, g, h, i, j; if (1 === b.nodeType) { if (W.hasData(a) && (f = W.access(a), g = W.set(b, f), j = f.events)) { delete g.handle, g.events = {}; for (e in j) for (c = 0, d = j[e].length; c < d; c++)r.event.add(b, e, j[e][c]) } X.hasData(a) && (h = X.access(a), i = r.extend({}, h), X.set(b, i)) } } function Ia(a, b) { var c = b.nodeName.toLowerCase(); "input" === c && ja.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue) } function Ja(a, b, c, d) { b = g.apply([], b); var e, f, h, i, j, k, l = 0, m = a.length, n = m - 1, q = b[0], s = r.isFunction(q); if (s || m > 1 && "string" == typeof q && !o.checkClone && Ba.test(q)) return a.each(function (e) { var f = a.eq(e); s && (b[0] = q.call(this, e, f.html())), Ja(f, b, c, d) }); if (m && (e = qa(b, a[0].ownerDocument, !1, a, d), f = e.firstChild, 1 === e.childNodes.length && (e = f), f || d)) { for (h = r.map(na(e, "script"), Fa), i = h.length; l < m; l++)j = e, l !== n && (j = r.clone(j, !0, !0), i && r.merge(h, na(j, "script"))), c.call(a[l], j, l); if (i) for (k = h[h.length - 1].ownerDocument, r.map(h, Ga), l = 0; l < i; l++)j = h[l], la.test(j.type || "") && !W.access(j, "globalEval") && r.contains(k, j) && (j.src ? r._evalUrl && r._evalUrl(j.src) : p(j.textContent.replace(Da, ""), k)) } return a } function Ka(a, b, c) { for (var d, e = b ? r.filter(b, a) : a, f = 0; null != (d = e[f]); f++)c || 1 !== d.nodeType || r.cleanData(na(d)), d.parentNode && (c && r.contains(d.ownerDocument, d) && oa(na(d, "script")), d.parentNode.removeChild(d)); return a } r.extend({ htmlPrefilter: function (a) { return a.replace(za, "<$1></$2>") }, clone: function (a, b, c) { var d, e, f, g, h = a.cloneNode(!0), i = r.contains(a.ownerDocument, a); if (!(o.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || r.isXMLDoc(a))) for (g = na(h), f = na(a), d = 0, e = f.length; d < e; d++)Ia(f[d], g[d]); if (b) if (c) for (f = f || na(a), g = g || na(h), d = 0, e = f.length; d < e; d++)Ha(f[d], g[d]); else Ha(a, h); return g = na(h, "script"), g.length > 0 && oa(g, !i && na(a, "script")), h }, cleanData: function (a) { for (var b, c, d, e = r.event.special, f = 0; void 0 !== (c = a[f]); f++)if (U(c)) { if (b = c[W.expando]) { if (b.events) for (d in b.events) e[d] ? r.event.remove(c, d) : r.removeEvent(c, d, b.handle); c[W.expando] = void 0 } c[X.expando] && (c[X.expando] = void 0) } } }), r.fn.extend({ detach: function (a) { return Ka(this, a, !0) }, remove: function (a) { return Ka(this, a) }, text: function (a) { return T(this, function (a) { return void 0 === a ? r.text(this) : this.empty().each(function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a) }) }, null, a, arguments.length) }, append: function () { return Ja(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = Ea(this, a); b.appendChild(a) } }) }, prepend: function () { return Ja(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = Ea(this, a); b.insertBefore(a, b.firstChild) } }) }, before: function () { return Ja(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this) }) }, after: function () { return Ja(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this.nextSibling) }) }, empty: function () { for (var a, b = 0; null != (a = this[b]); b++)1 === a.nodeType && (r.cleanData(na(a, !1)), a.textContent = ""); return this }, clone: function (a, b) { return a = null != a && a, b = null == b ? a : b, this.map(function () { return r.clone(this, a, b) }) }, html: function (a) { return T(this, function (a) { var b = this[0] || {}, c = 0, d = this.length; if (void 0 === a && 1 === b.nodeType) return b.innerHTML; if ("string" == typeof a && !Aa.test(a) && !ma[(ka.exec(a) || ["", ""])[1].toLowerCase()]) { a = r.htmlPrefilter(a); try { for (; c < d; c++)b = this[c] || {}, 1 === b.nodeType && (r.cleanData(na(b, !1)), b.innerHTML = a); b = 0 } catch (e) { } } b && this.empty().append(a) }, null, a, arguments.length) }, replaceWith: function () { var a = []; return Ja(this, arguments, function (b) { var c = this.parentNode; r.inArray(this, a) < 0 && (r.cleanData(na(this)), c && c.replaceChild(b, this)) }, a) } }), r.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) { r.fn[a] = function (a) { for (var c, d = [], e = r(a), f = e.length - 1, g = 0; g <= f; g++)c = g === f ? this : this.clone(!0), r(e[g])[b](c), h.apply(d, c.get()); return this.pushStack(d) } }); var La = /^margin/, Ma = new RegExp("^(" + aa + ")(?!px)[a-z%]+$", "i"), Na = function (b) { var c = b.ownerDocument.defaultView; return c && c.opener || (c = a), c.getComputedStyle(b) }; !function () { function b() { if (i) { i.style.cssText = "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", i.innerHTML = "", ra.appendChild(h); var b = a.getComputedStyle(i); c = "1%" !== b.top, g = "2px" === b.marginLeft, e = "4px" === b.width, i.style.marginRight = "50%", f = "4px" === b.marginRight, ra.removeChild(h), i = null } } var c, e, f, g, h = d.createElement("div"), i = d.createElement("div"); i.style && (i.style.backgroundClip = "content-box", i.cloneNode(!0).style.backgroundClip = "", o.clearCloneStyle = "content-box" === i.style.backgroundClip, h.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", h.appendChild(i), r.extend(o, { pixelPosition: function () { return b(), c }, boxSizingReliable: function () { return b(), e }, pixelMarginRight: function () { return b(), f }, reliableMarginLeft: function () { return b(), g } })) }(); function Oa(a, b, c) { var d, e, f, g, h = a.style; return c = c || Na(a), c && (g = c.getPropertyValue(b) || c[b], "" !== g || r.contains(a.ownerDocument, a) || (g = r.style(a, b)), !o.pixelMarginRight() && Ma.test(g) && La.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g } function Pa(a, b) { return { get: function () { return a() ? void delete this.get : (this.get = b).apply(this, arguments) } } } var Qa = /^(none|table(?!-c[ea]).+)/, Ra = /^--/, Sa = { position: "absolute", visibility: "hidden", display: "block" }, Ta = { letterSpacing: "0", fontWeight: "400" }, Ua = ["Webkit", "Moz", "ms"], Va = d.createElement("div").style; function Wa(a) { if (a in Va) return a; var b = a[0].toUpperCase() + a.slice(1), c = Ua.length; while (c--) if (a = Ua[c] + b, a in Va) return a } function Xa(a) { var b = r.cssProps[a]; return b || (b = r.cssProps[a] = Wa(a) || a), b } function Ya(a, b, c) { var d = ba.exec(b); return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b } function Za(a, b, c, d, e) { var f, g = 0; for (f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0; f < 4; f += 2)"margin" === c && (g += r.css(a, c + ca[f], !0, e)), d ? ("content" === c && (g -= r.css(a, "padding" + ca[f], !0, e)), "margin" !== c && (g -= r.css(a, "border" + ca[f] + "Width", !0, e))) : (g += r.css(a, "padding" + ca[f], !0, e), "padding" !== c && (g += r.css(a, "border" + ca[f] + "Width", !0, e))); return g } function $a(a, b, c) { var d, e = Na(a), f = Oa(a, b, e), g = "border-box" === r.css(a, "boxSizing", !1, e); return Ma.test(f) ? f : (d = g && (o.boxSizingReliable() || f === a.style[b]), "auto" === f && (f = a["offset" + b[0].toUpperCase() + b.slice(1)]), f = parseFloat(f) || 0, f + Za(a, b, c || (g ? "border" : "content"), d, e) + "px") } r.extend({ cssHooks: { opacity: { get: function (a, b) { if (b) { var c = Oa(a, "opacity"); return "" === c ? "1" : c } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": "cssFloat" }, style: function (a, b, c, d) { if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) { var e, f, g, h = r.camelCase(b), i = Ra.test(b), j = a.style; return i || (b = Xa(h)), g = r.cssHooks[b] || r.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : j[b] : (f = typeof c, "string" === f && (e = ba.exec(c)) && e[1] && (c = fa(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (r.cssNumber[h] ? "" : "px")), o.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (j[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i ? j.setProperty(b, c) : j[b] = c)), void 0) } }, css: function (a, b, c, d) { var e, f, g, h = r.camelCase(b), i = Ra.test(b); return i || (b = Xa(h)), g = r.cssHooks[b] || r.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = Oa(a, b, d)), "normal" === e && b in Ta && (e = Ta[b]), "" === c || c ? (f = parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e } }), r.each(["height", "width"], function (a, b) { r.cssHooks[b] = { get: function (a, c, d) { if (c) return !Qa.test(r.css(a, "display")) || a.getClientRects().length && a.getBoundingClientRect().width ? $a(a, b, d) : ea(a, Sa, function () { return $a(a, b, d) }) }, set: function (a, c, d) { var e, f = d && Na(a), g = d && Za(a, b, d, "border-box" === r.css(a, "boxSizing", !1, f), f); return g && (e = ba.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c, c = r.css(a, b)), Ya(a, c, g) } } }), r.cssHooks.marginLeft = Pa(o.reliableMarginLeft, function (a, b) { if (b) return (parseFloat(Oa(a, "marginLeft")) || a.getBoundingClientRect().left - ea(a, { marginLeft: 0 }, function () { return a.getBoundingClientRect().left })) + "px" }), r.each({ margin: "", padding: "", border: "Width" }, function (a, b) { r.cssHooks[a + b] = { expand: function (c) { for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d < 4; d++)e[a + ca[d] + b] = f[d] || f[d - 2] || f[0]; return e } }, La.test(a) || (r.cssHooks[a + b].set = Ya) }), r.fn.extend({ css: function (a, b) { return T(this, function (a, b, c) { var d, e, f = {}, g = 0; if (Array.isArray(b)) { for (d = Na(a), e = b.length; g < e; g++)f[b[g]] = r.css(a, b[g], !1, d); return f } return void 0 !== c ? r.style(a, b, c) : r.css(a, b) }, a, b, arguments.length > 1) } }); function _a(a, b, c, d, e) { return new _a.prototype.init(a, b, c, d, e) } r.Tween = _a, _a.prototype = { constructor: _a, init: function (a, b, c, d, e, f) { this.elem = a, this.prop = c, this.easing = e || r.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (r.cssNumber[c] ? "" : "px") }, cur: function () { var a = _a.propHooks[this.prop]; return a && a.get ? a.get(this) : _a.propHooks._default.get(this) }, run: function (a) { var b, c = _a.propHooks[this.prop]; return this.options.duration ? this.pos = b = r.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : _a.propHooks._default.set(this), this } }, _a.prototype.init.prototype = _a.prototype, _a.propHooks = { _default: { get: function (a) { var b; return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = r.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) }, set: function (a) { r.fx.step[a.prop] ? r.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[r.cssProps[a.prop]] && !r.cssHooks[a.prop] ? a.elem[a.prop] = a.now : r.style(a.elem, a.prop, a.now + a.unit) } } }, _a.propHooks.scrollTop = _a.propHooks.scrollLeft = { set: function (a) { a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now) } }, r.easing = { linear: function (a) { return a }, swing: function (a) { return .5 - Math.cos(a * Math.PI) / 2 }, _default: "swing" }, r.fx = _a.prototype.init, r.fx.step = {}; var ab, bb, cb = /^(?:toggle|show|hide)$/, db = /queueHooks$/; function eb() { bb && (d.hidden === !1 && a.requestAnimationFrame ? a.requestAnimationFrame(eb) : a.setTimeout(eb, r.fx.interval), r.fx.tick()) } function fb() { return a.setTimeout(function () { ab = void 0 }), ab = r.now() } function gb(a, b) { var c, d = 0, e = { height: a }; for (b = b ? 1 : 0; d < 4; d += 2 - b)c = ca[d], e["margin" + c] = e["padding" + c] = a; return b && (e.opacity = e.width = a), e } function hb(a, b, c) { for (var d, e = (kb.tweeners[b] || []).concat(kb.tweeners["*"]), f = 0, g = e.length; f < g; f++)if (d = e[f].call(c, b, a)) return d } function ib(a, b, c) { var d, e, f, g, h, i, j, k, l = "width" in b || "height" in b, m = this, n = {}, o = a.style, p = a.nodeType && da(a), q = W.get(a, "fxshow"); c.queue || (g = r._queueHooks(a, "fx"), null == g.unqueued && (g.unqueued = 0, h = g.empty.fire, g.empty.fire = function () { g.unqueued || h() }), g.unqueued++, m.always(function () { m.always(function () { g.unqueued--, r.queue(a, "fx").length || g.empty.fire() }) })); for (d in b) if (e = b[d], cb.test(e)) { if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) { if ("show" !== e || !q || void 0 === q[d]) continue; p = !0 } n[d] = q && q[d] || r.style(a, d) } if (i = !r.isEmptyObject(b), i || !r.isEmptyObject(n)) { l && 1 === a.nodeType && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = q && q.display, null == j && (j = W.get(a, "display")), k = r.css(a, "display"), "none" === k && (j ? k = j : (ia([a], !0), j = a.style.display || j, k = r.css(a, "display"), ia([a]))), ("inline" === k || "inline-block" === k && null != j) && "none" === r.css(a, "float") && (i || (m.done(function () { o.display = j }), null == j && (k = o.display, j = "none" === k ? "" : k)), o.display = "inline-block")), c.overflow && (o.overflow = "hidden", m.always(function () { o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2] })), i = !1; for (d in n) i || (q ? "hidden" in q && (p = q.hidden) : q = W.access(a, "fxshow", { display: j }), f && (q.hidden = !p), p && ia([a], !0), m.done(function () { p || ia([a]), W.remove(a, "fxshow"); for (d in n) r.style(a, d, n[d]) })), i = hb(p ? q[d] : 0, d, m), d in q || (q[d] = i.start, p && (i.end = i.start, i.start = 0)) } } function jb(a, b) { var c, d, e, f, g; for (c in a) if (d = r.camelCase(c), e = b[d], f = a[c], Array.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = r.cssHooks[d], g && "expand" in g) { f = g.expand(f), delete a[d]; for (c in f) c in a || (a[c] = f[c], b[c] = e) } else b[d] = e } function kb(a, b, c) { var d, e, f = 0, g = kb.prefilters.length, h = r.Deferred().always(function () { delete i.elem }), i = function () { if (e) return !1; for (var b = ab || fb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; g < i; g++)j.tweens[g].run(f); return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (i || h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j]), !1) }, j = h.promise({ elem: a, props: r.extend({}, b), opts: r.extend(!0, { specialEasing: {}, easing: r.easing._default }, c), originalProperties: b, originalOptions: c, startTime: ab || fb(), duration: c.duration, tweens: [], createTween: function (b, c) { var d = r.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing); return j.tweens.push(d), d }, stop: function (b) { var c = 0, d = b ? j.tweens.length : 0; if (e) return this; for (e = !0; c < d; c++)j.tweens[c].run(1); return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), this } }), k = j.props; for (jb(k, j.opts.specialEasing); f < g; f++)if (d = kb.prefilters[f].call(j, a, k, j.opts)) return r.isFunction(d.stop) && (r._queueHooks(j.elem, j.opts.queue).stop = r.proxy(d.stop, d)), d; return r.map(k, hb, j), r.isFunction(j.opts.start) && j.opts.start.call(a, j), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always), r.fx.timer(r.extend(i, { elem: a, anim: j, queue: j.opts.queue })), j } r.Animation = r.extend(kb, { tweeners: { "*": [function (a, b) { var c = this.createTween(a, b); return fa(c.elem, a, ba.exec(b), c), c }] }, tweener: function (a, b) { r.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(L); for (var c, d = 0, e = a.length; d < e; d++)c = a[d], kb.tweeners[c] = kb.tweeners[c] || [], kb.tweeners[c].unshift(b) }, prefilters: [ib], prefilter: function (a, b) { b ? kb.prefilters.unshift(a) : kb.prefilters.push(a) } }), r.speed = function (a, b, c) { var d = a && "object" == typeof a ? r.extend({}, a) : { complete: c || !c && b || r.isFunction(a) && a, duration: a, easing: c && b || b && !r.isFunction(b) && b }; return r.fx.off ? d.duration = 0 : "number" != typeof d.duration && (d.duration in r.fx.speeds ? d.duration = r.fx.speeds[d.duration] : d.duration = r.fx.speeds._default), null != d.queue && d.queue !== !0 || (d.queue = "fx"), d.old = d.complete, d.complete = function () { r.isFunction(d.old) && d.old.call(this), d.queue && r.dequeue(this, d.queue) }, d }, r.fn.extend({ fadeTo: function (a, b, c, d) { return this.filter(da).css("opacity", 0).show().end().animate({ opacity: b }, a, c, d) }, animate: function (a, b, c, d) { var e = r.isEmptyObject(a), f = r.speed(b, c, d), g = function () { var b = kb(this, r.extend({}, a), f); (e || W.get(this, "finish")) && b.stop(!0) }; return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g) }, stop: function (a, b, c) { var d = function (a) { var b = a.stop; delete a.stop, b(c) }; return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () { var b = !0, e = null != a && a + "queueHooks", f = r.timers, g = W.get(this); if (e) g[e] && g[e].stop && d(g[e]); else for (e in g) g[e] && g[e].stop && db.test(e) && d(g[e]); for (e = f.length; e--;)f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1)); !b && c || r.dequeue(this, a) }) }, finish: function (a) { return a !== !1 && (a = a || "fx"), this.each(function () { var b, c = W.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = r.timers, g = d ? d.length : 0; for (c.finish = !0, r.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1)); for (b = 0; b < g; b++)d[b] && d[b].finish && d[b].finish.call(this); delete c.finish }) } }), r.each(["toggle", "show", "hide"], function (a, b) { var c = r.fn[b]; r.fn[b] = function (a, d, e) { return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(gb(b, !0), a, d, e) } }), r.each({ slideDown: gb("show"), slideUp: gb("hide"), slideToggle: gb("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (a, b) { r.fn[a] = function (a, c, d) { return this.animate(b, a, c, d) } }), r.timers = [], r.fx.tick = function () { var a, b = 0, c = r.timers; for (ab = r.now(); b < c.length; b++)a = c[b], a() || c[b] !== a || c.splice(b--, 1); c.length || r.fx.stop(), ab = void 0 }, r.fx.timer = function (a) { r.timers.push(a), r.fx.start() }, r.fx.interval = 13, r.fx.start = function () { bb || (bb = !0, eb()) }, r.fx.stop = function () { bb = null }, r.fx.speeds = { slow: 600, fast: 200, _default: 400 }, r.fn.delay = function (b, c) { return b = r.fx ? r.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function (c, d) { var e = a.setTimeout(c, b); d.stop = function () { a.clearTimeout(e) } }) }, function () { var a = d.createElement("input"), b = d.createElement("select"), c = b.appendChild(d.createElement("option")); a.type = "checkbox", o.checkOn = "" !== a.value, o.optSelected = c.selected, a = d.createElement("input"), a.value = "t", a.type = "radio", o.radioValue = "t" === a.value }(); var lb, mb = r.expr.attrHandle; r.fn.extend({ attr: function (a, b) { return T(this, r.attr, a, b, arguments.length > 1) }, removeAttr: function (a) { return this.each(function () { r.removeAttr(this, a) }) } }), r.extend({
        attr: function (a, b, c) {
            var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? r.prop(a, b, c) : (1 === f && r.isXMLDoc(a) || (e = r.attrHooks[b.toLowerCase()] || (r.expr.match.bool.test(b) ? lb : void 0)), void 0 !== c ? null === c ? void r.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = r.find.attr(a, b),
                null == d ? void 0 : d))
        }, attrHooks: { type: { set: function (a, b) { if (!o.radioValue && "radio" === b && B(a, "input")) { var c = a.value; return a.setAttribute("type", b), c && (a.value = c), b } } } }, removeAttr: function (a, b) { var c, d = 0, e = b && b.match(L); if (e && 1 === a.nodeType) while (c = e[d++]) a.removeAttribute(c) }
    }), lb = { set: function (a, b, c) { return b === !1 ? r.removeAttr(a, c) : a.setAttribute(c, c), c } }, r.each(r.expr.match.bool.source.match(/\w+/g), function (a, b) { var c = mb[b] || r.find.attr; mb[b] = function (a, b, d) { var e, f, g = b.toLowerCase(); return d || (f = mb[g], mb[g] = e, e = null != c(a, b, d) ? g : null, mb[g] = f), e } }); var nb = /^(?:input|select|textarea|button)$/i, ob = /^(?:a|area)$/i; r.fn.extend({ prop: function (a, b) { return T(this, r.prop, a, b, arguments.length > 1) }, removeProp: function (a) { return this.each(function () { delete this[r.propFix[a] || a] }) } }), r.extend({ prop: function (a, b, c) { var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return 1 === f && r.isXMLDoc(a) || (b = r.propFix[b] || b, e = r.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b] }, propHooks: { tabIndex: { get: function (a) { var b = r.find.attr(a, "tabindex"); return b ? parseInt(b, 10) : nb.test(a.nodeName) || ob.test(a.nodeName) && a.href ? 0 : -1 } } }, propFix: { "for": "htmlFor", "class": "className" } }), o.optSelected || (r.propHooks.selected = { get: function (a) { var b = a.parentNode; return b && b.parentNode && b.parentNode.selectedIndex, null }, set: function (a) { var b = a.parentNode; b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex) } }), r.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { r.propFix[this.toLowerCase()] = this }); function pb(a) { var b = a.match(L) || []; return b.join(" ") } function qb(a) { return a.getAttribute && a.getAttribute("class") || "" } r.fn.extend({ addClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (r.isFunction(a)) return this.each(function (b) { r(this).addClass(a.call(this, b, qb(this))) }); if ("string" == typeof a && a) { b = a.match(L) || []; while (c = this[i++]) if (e = qb(c), d = 1 === c.nodeType && " " + pb(e) + " ") { g = 0; while (f = b[g++]) d.indexOf(" " + f + " ") < 0 && (d += f + " "); h = pb(d), e !== h && c.setAttribute("class", h) } } return this }, removeClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (r.isFunction(a)) return this.each(function (b) { r(this).removeClass(a.call(this, b, qb(this))) }); if (!arguments.length) return this.attr("class", ""); if ("string" == typeof a && a) { b = a.match(L) || []; while (c = this[i++]) if (e = qb(c), d = 1 === c.nodeType && " " + pb(e) + " ") { g = 0; while (f = b[g++]) while (d.indexOf(" " + f + " ") > -1) d = d.replace(" " + f + " ", " "); h = pb(d), e !== h && c.setAttribute("class", h) } } return this }, toggleClass: function (a, b) { var c = typeof a; return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : r.isFunction(a) ? this.each(function (c) { r(this).toggleClass(a.call(this, c, qb(this), b), b) }) : this.each(function () { var b, d, e, f; if ("string" === c) { d = 0, e = r(this), f = a.match(L) || []; while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b) } else void 0 !== a && "boolean" !== c || (b = qb(this), b && W.set(this, "__className__", b), this.setAttribute && this.setAttribute("class", b || a === !1 ? "" : W.get(this, "__className__") || "")) }) }, hasClass: function (a) { var b, c, d = 0; b = " " + a + " "; while (c = this[d++]) if (1 === c.nodeType && (" " + pb(qb(c)) + " ").indexOf(b) > -1) return !0; return !1 } }); var rb = /\r/g; r.fn.extend({ val: function (a) { var b, c, d, e = this[0]; { if (arguments.length) return d = r.isFunction(a), this.each(function (c) { var e; 1 === this.nodeType && (e = d ? a.call(this, c, r(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : Array.isArray(e) && (e = r.map(e, function (a) { return null == a ? "" : a + "" })), b = r.valHooks[this.type] || r.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e)) }); if (e) return b = r.valHooks[e.type] || r.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(rb, "") : null == c ? "" : c) } } }), r.extend({ valHooks: { option: { get: function (a) { var b = r.find.attr(a, "value"); return null != b ? b : pb(r.text(a)) } }, select: { get: function (a) { var b, c, d, e = a.options, f = a.selectedIndex, g = "select-one" === a.type, h = g ? null : [], i = g ? f + 1 : e.length; for (d = f < 0 ? i : g ? f : 0; d < i; d++)if (c = e[d], (c.selected || d === f) && !c.disabled && (!c.parentNode.disabled || !B(c.parentNode, "optgroup"))) { if (b = r(c).val(), g) return b; h.push(b) } return h }, set: function (a, b) { var c, d, e = a.options, f = r.makeArray(b), g = e.length; while (g--) d = e[g], (d.selected = r.inArray(r.valHooks.option.get(d), f) > -1) && (c = !0); return c || (a.selectedIndex = -1), f } } } }), r.each(["radio", "checkbox"], function () { r.valHooks[this] = { set: function (a, b) { if (Array.isArray(b)) return a.checked = r.inArray(r(a).val(), b) > -1 } }, o.checkOn || (r.valHooks[this].get = function (a) { return null === a.getAttribute("value") ? "on" : a.value }) }); var sb = /^(?:focusinfocus|focusoutblur)$/; r.extend(r.event, { trigger: function (b, c, e, f) { var g, h, i, j, k, m, n, o = [e || d], p = l.call(b, "type") ? b.type : b, q = l.call(b, "namespace") ? b.namespace.split(".") : []; if (h = i = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !sb.test(p + r.event.triggered) && (p.indexOf(".") > -1 && (q = p.split("."), p = q.shift(), q.sort()), k = p.indexOf(":") < 0 && "on" + p, b = b[r.expando] ? b : new r.Event(p, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = q.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), c = null == c ? [b] : r.makeArray(c, [b]), n = r.event.special[p] || {}, f || !n.trigger || n.trigger.apply(e, c) !== !1)) { if (!f && !n.noBubble && !r.isWindow(e)) { for (j = n.delegateType || p, sb.test(j + p) || (h = h.parentNode); h; h = h.parentNode)o.push(h), i = h; i === (e.ownerDocument || d) && o.push(i.defaultView || i.parentWindow || a) } g = 0; while ((h = o[g++]) && !b.isPropagationStopped()) b.type = g > 1 ? j : n.bindType || p, m = (W.get(h, "events") || {})[b.type] && W.get(h, "handle"), m && m.apply(h, c), m = k && h[k], m && m.apply && U(h) && (b.result = m.apply(h, c), b.result === !1 && b.preventDefault()); return b.type = p, f || b.isDefaultPrevented() || n._default && n._default.apply(o.pop(), c) !== !1 || !U(e) || k && r.isFunction(e[p]) && !r.isWindow(e) && (i = e[k], i && (e[k] = null), r.event.triggered = p, e[p](), r.event.triggered = void 0, i && (e[k] = i)), b.result } }, simulate: function (a, b, c) { var d = r.extend(new r.Event, c, { type: a, isSimulated: !0 }); r.event.trigger(d, null, b) } }), r.fn.extend({ trigger: function (a, b) { return this.each(function () { r.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { var c = this[0]; if (c) return r.event.trigger(a, b, c, !0) } }), r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (a, b) { r.fn[b] = function (a, c) { return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b) } }), r.fn.extend({ hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) } }), o.focusin = "onfocusin" in a, o.focusin || r.each({ focus: "focusin", blur: "focusout" }, function (a, b) { var c = function (a) { r.event.simulate(b, a.target, r.event.fix(a)) }; r.event.special[b] = { setup: function () { var d = this.ownerDocument || this, e = W.access(d, b); e || d.addEventListener(a, c, !0), W.access(d, b, (e || 0) + 1) }, teardown: function () { var d = this.ownerDocument || this, e = W.access(d, b) - 1; e ? W.access(d, b, e) : (d.removeEventListener(a, c, !0), W.remove(d, b)) } } }); var tb = a.location, ub = r.now(), vb = /\?/; r.parseXML = function (b) { var c; if (!b || "string" != typeof b) return null; try { c = (new a.DOMParser).parseFromString(b, "text/xml") } catch (d) { c = void 0 } return c && !c.getElementsByTagName("parsererror").length || r.error("Invalid XML: " + b), c }; var wb = /\[\]$/, xb = /\r?\n/g, yb = /^(?:submit|button|image|reset|file)$/i, zb = /^(?:input|select|textarea|keygen)/i; function Ab(a, b, c, d) { var e; if (Array.isArray(b)) r.each(b, function (b, e) { c || wb.test(a) ? d(a, e) : Ab(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d) }); else if (c || "object" !== r.type(b)) d(a, b); else for (e in b) Ab(a + "[" + e + "]", b[e], c, d) } r.param = function (a, b) { var c, d = [], e = function (a, b) { var c = r.isFunction(b) ? b() : b; d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(null == c ? "" : c) }; if (Array.isArray(a) || a.jquery && !r.isPlainObject(a)) r.each(a, function () { e(this.name, this.value) }); else for (c in a) Ab(c, a[c], b, e); return d.join("&") }, r.fn.extend({ serialize: function () { return r.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var a = r.prop(this, "elements"); return a ? r.makeArray(a) : this }).filter(function () { var a = this.type; return this.name && !r(this).is(":disabled") && zb.test(this.nodeName) && !yb.test(a) && (this.checked || !ja.test(a)) }).map(function (a, b) { var c = r(this).val(); return null == c ? null : Array.isArray(c) ? r.map(c, function (a) { return { name: b.name, value: a.replace(xb, "\r\n") } }) : { name: b.name, value: c.replace(xb, "\r\n") } }).get() } }); var Bb = /%20/g, Cb = /#.*$/, Db = /([?&])_=[^&]*/, Eb = /^(.*?):[ \t]*([^\r\n]*)$/gm, Fb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Gb = /^(?:GET|HEAD)$/, Hb = /^\/\//, Ib = {}, Jb = {}, Kb = "*/".concat("*"), Lb = d.createElement("a"); Lb.href = tb.href; function Mb(a) { return function (b, c) { "string" != typeof b && (c = b, b = "*"); var d, e = 0, f = b.toLowerCase().match(L) || []; if (r.isFunction(c)) while (d = f[e++]) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c) } } function Nb(a, b, c, d) { var e = {}, f = a === Jb; function g(h) { var i; return e[h] = !0, r.each(a[h] || [], function (a, h) { var j = h(b, c, d); return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1) }), i } return g(b.dataTypes[0]) || !e["*"] && g("*") } function Ob(a, b) { var c, d, e = r.ajaxSettings.flatOptions || {}; for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]); return d && r.extend(!0, a, d), a } function Pb(a, b, c) { var d, e, f, g, h = a.contents, i = a.dataTypes; while ("*" === i[0]) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type")); if (d) for (e in h) if (h[e] && h[e].test(d)) { i.unshift(e); break } if (i[0] in c) f = i[0]; else { for (e in c) { if (!i[0] || a.converters[e + " " + i[0]]) { f = e; break } g || (g = e) } f = f || g } if (f) return f !== i[0] && i.unshift(f), c[f] } function Qb(a, b, c, d) { var e, f, g, h, i, j = {}, k = a.dataTypes.slice(); if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g]; f = k.shift(); while (f) if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i; else if ("*" !== i && i !== f) { if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) { g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1])); break } if (g !== !0) if (g && a["throws"]) b = g(b); else try { b = g(b) } catch (l) { return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f } } } return { state: "success", data: b } } r.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: tb.href, type: "GET", isLocal: Fb.test(tb.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": Kb, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": JSON.parse, "text xml": r.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (a, b) { return b ? Ob(Ob(a, r.ajaxSettings), b) : Ob(r.ajaxSettings, a) }, ajaxPrefilter: Mb(Ib), ajaxTransport: Mb(Jb), ajax: function (b, c) { "object" == typeof b && (c = b, b = void 0), c = c || {}; var e, f, g, h, i, j, k, l, m, n, o = r.ajaxSetup({}, c), p = o.context || o, q = o.context && (p.nodeType || p.jquery) ? r(p) : r.event, s = r.Deferred(), t = r.Callbacks("once memory"), u = o.statusCode || {}, v = {}, w = {}, x = "canceled", y = { readyState: 0, getResponseHeader: function (a) { var b; if (k) { if (!h) { h = {}; while (b = Eb.exec(g)) h[b[1].toLowerCase()] = b[2] } b = h[a.toLowerCase()] } return null == b ? null : b }, getAllResponseHeaders: function () { return k ? g : null }, setRequestHeader: function (a, b) { return null == k && (a = w[a.toLowerCase()] = w[a.toLowerCase()] || a, v[a] = b), this }, overrideMimeType: function (a) { return null == k && (o.mimeType = a), this }, statusCode: function (a) { var b; if (a) if (k) y.always(a[y.status]); else for (b in a) u[b] = [u[b], a[b]]; return this }, abort: function (a) { var b = a || x; return e && e.abort(b), A(0, b), this } }; if (s.promise(y), o.url = ((b || o.url || tb.href) + "").replace(Hb, tb.protocol + "//"), o.type = c.method || c.type || o.method || o.type, o.dataTypes = (o.dataType || "*").toLowerCase().match(L) || [""], null == o.crossDomain) { j = d.createElement("a"); try { j.href = o.url, j.href = j.href, o.crossDomain = Lb.protocol + "//" + Lb.host != j.protocol + "//" + j.host } catch (z) { o.crossDomain = !0 } } if (o.data && o.processData && "string" != typeof o.data && (o.data = r.param(o.data, o.traditional)), Nb(Ib, o, c, y), k) return y; l = r.event && o.global, l && 0 === r.active++ && r.event.trigger("ajaxStart"), o.type = o.type.toUpperCase(), o.hasContent = !Gb.test(o.type), f = o.url.replace(Cb, ""), o.hasContent ? o.data && o.processData && 0 === (o.contentType || "").indexOf("application/x-www-form-urlencoded") && (o.data = o.data.replace(Bb, "+")) : (n = o.url.slice(f.length), o.data && (f += (vb.test(f) ? "&" : "?") + o.data, delete o.data), o.cache === !1 && (f = f.replace(Db, "$1"), n = (vb.test(f) ? "&" : "?") + "_=" + ub++ + n), o.url = f + n), o.ifModified && (r.lastModified[f] && y.setRequestHeader("If-Modified-Since", r.lastModified[f]), r.etag[f] && y.setRequestHeader("If-None-Match", r.etag[f])), (o.data && o.hasContent && o.contentType !== !1 || c.contentType) && y.setRequestHeader("Content-Type", o.contentType), y.setRequestHeader("Accept", o.dataTypes[0] && o.accepts[o.dataTypes[0]] ? o.accepts[o.dataTypes[0]] + ("*" !== o.dataTypes[0] ? ", " + Kb + "; q=0.01" : "") : o.accepts["*"]); for (m in o.headers) y.setRequestHeader(m, o.headers[m]); if (o.beforeSend && (o.beforeSend.call(p, y, o) === !1 || k)) return y.abort(); if (x = "abort", t.add(o.complete), y.done(o.success), y.fail(o.error), e = Nb(Jb, o, c, y)) { if (y.readyState = 1, l && q.trigger("ajaxSend", [y, o]), k) return y; o.async && o.timeout > 0 && (i = a.setTimeout(function () { y.abort("timeout") }, o.timeout)); try { k = !1, e.send(v, A) } catch (z) { if (k) throw z; A(-1, z) } } else A(-1, "No Transport"); function A(b, c, d, h) { var j, m, n, v, w, x = c; k || (k = !0, i && a.clearTimeout(i), e = void 0, g = h || "", y.readyState = b > 0 ? 4 : 0, j = b >= 200 && b < 300 || 304 === b, d && (v = Pb(o, y, d)), v = Qb(o, v, y, j), j ? (o.ifModified && (w = y.getResponseHeader("Last-Modified"), w && (r.lastModified[f] = w), w = y.getResponseHeader("etag"), w && (r.etag[f] = w)), 204 === b || "HEAD" === o.type ? x = "nocontent" : 304 === b ? x = "notmodified" : (x = v.state, m = v.data, n = v.error, j = !n)) : (n = x, !b && x || (x = "error", b < 0 && (b = 0))), y.status = b, y.statusText = (c || x) + "", j ? s.resolveWith(p, [m, x, y]) : s.rejectWith(p, [y, x, n]), y.statusCode(u), u = void 0, l && q.trigger(j ? "ajaxSuccess" : "ajaxError", [y, o, j ? m : n]), t.fireWith(p, [y, x]), l && (q.trigger("ajaxComplete", [y, o]), --r.active || r.event.trigger("ajaxStop"))) } return y }, getJSON: function (a, b, c) { return r.get(a, b, c, "json") }, getScript: function (a, b) { return r.get(a, void 0, b, "script") } }), r.each(["get", "post"], function (a, b) { r[b] = function (a, c, d, e) { return r.isFunction(c) && (e = e || d, d = c, c = void 0), r.ajax(r.extend({ url: a, type: b, dataType: e, data: c, success: d }, r.isPlainObject(a) && a)) } }), r._evalUrl = function (a) { return r.ajax({ url: a, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, "throws": !0 }) }, r.fn.extend({ wrapAll: function (a) { var b; return this[0] && (r.isFunction(a) && (a = a.call(this[0])), b = r(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () { var a = this; while (a.firstElementChild) a = a.firstElementChild; return a }).append(this)), this }, wrapInner: function (a) { return r.isFunction(a) ? this.each(function (b) { r(this).wrapInner(a.call(this, b)) }) : this.each(function () { var b = r(this), c = b.contents(); c.length ? c.wrapAll(a) : b.append(a) }) }, wrap: function (a) { var b = r.isFunction(a); return this.each(function (c) { r(this).wrapAll(b ? a.call(this, c) : a) }) }, unwrap: function (a) { return this.parent(a).not("body").each(function () { r(this).replaceWith(this.childNodes) }), this } }), r.expr.pseudos.hidden = function (a) { return !r.expr.pseudos.visible(a) }, r.expr.pseudos.visible = function (a) { return !!(a.offsetWidth || a.offsetHeight || a.getClientRects().length) }, r.ajaxSettings.xhr = function () { try { return new a.XMLHttpRequest } catch (b) { } }; var Rb = { 0: 200, 1223: 204 }, Sb = r.ajaxSettings.xhr(); o.cors = !!Sb && "withCredentials" in Sb, o.ajax = Sb = !!Sb, r.ajaxTransport(function (b) { var c, d; if (o.cors || Sb && !b.crossDomain) return { send: function (e, f) { var g, h = b.xhr(); if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields) for (g in b.xhrFields) h[g] = b.xhrFields[g]; b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType), b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest"); for (g in e) h.setRequestHeader(g, e[g]); c = function (a) { return function () { c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null, "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Rb[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? { binary: h.response } : { text: h.responseText }, h.getAllResponseHeaders())) } }, h.onload = c(), d = h.onerror = c("error"), void 0 !== h.onabort ? h.onabort = d : h.onreadystatechange = function () { 4 === h.readyState && a.setTimeout(function () { c && d() }) }, c = c("abort"); try { h.send(b.hasContent && b.data || null) } catch (i) { if (c) throw i } }, abort: function () { c && c() } } }), r.ajaxPrefilter(function (a) { a.crossDomain && (a.contents.script = !1) }), r.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (a) { return r.globalEval(a), a } } }), r.ajaxPrefilter("script", function (a) { void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET") }), r.ajaxTransport("script", function (a) { if (a.crossDomain) { var b, c; return { send: function (e, f) { b = r("<script>").prop({ charset: a.scriptCharset, src: a.url }).on("load error", c = function (a) { b.remove(), c = null, a && f("error" === a.type ? 404 : 200, a.type) }), d.head.appendChild(b[0]) }, abort: function () { c && c() } } } }); var Tb = [], Ub = /(=)\?(?=&|$)|\?\?/; r.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var a = Tb.pop() || r.expando + "_" + ub++; return this[a] = !0, a } }), r.ajaxPrefilter("json jsonp", function (b, c, d) { var e, f, g, h = b.jsonp !== !1 && (Ub.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Ub.test(b.data) && "data"); if (h || "jsonp" === b.dataTypes[0]) return e = b.jsonpCallback = r.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Ub, "$1" + e) : b.jsonp !== !1 && (b.url += (vb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () { return g || r.error(e + " was not called"), g[0] }, b.dataTypes[0] = "json", f = a[e], a[e] = function () { g = arguments }, d.always(function () { void 0 === f ? r(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Tb.push(e)), g && r.isFunction(f) && f(g[0]), g = f = void 0 }), "script" }), o.createHTMLDocument = function () { var a = d.implementation.createHTMLDocument("").body; return a.innerHTML = "<form></form><form></form>", 2 === a.childNodes.length }(), r.parseHTML = function (a, b, c) { if ("string" != typeof a) return []; "boolean" == typeof b && (c = b, b = !1); var e, f, g; return b || (o.createHTMLDocument ? (b = d.implementation.createHTMLDocument(""), e = b.createElement("base"), e.href = d.location.href, b.head.appendChild(e)) : b = d), f = C.exec(a), g = !c && [], f ? [b.createElement(f[1])] : (f = qa([a], b, g), g && g.length && r(g).remove(), r.merge([], f.childNodes)) }, r.fn.load = function (a, b, c) { var d, e, f, g = this, h = a.indexOf(" "); return h > -1 && (d = pb(a.slice(h)), a = a.slice(0, h)), r.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && r.ajax({ url: a, type: e || "GET", dataType: "html", data: b }).done(function (a) { f = arguments, g.html(d ? r("<div>").append(r.parseHTML(a)).find(d) : a) }).always(c && function (a, b) { g.each(function () { c.apply(this, f || [a.responseText, b, a]) }) }), this }, r.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) { r.fn[b] = function (a) { return this.on(b, a) } }), r.expr.pseudos.animated = function (a) { return r.grep(r.timers, function (b) { return a === b.elem }).length }, r.offset = { setOffset: function (a, b, c) { var d, e, f, g, h, i, j, k = r.css(a, "position"), l = r(a), m = {}; "static" === k && (a.style.position = "relative"), h = l.offset(), f = r.css(a, "top"), i = r.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), r.isFunction(b) && (b = b.call(a, c, r.extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m) } }, r.fn.extend({ offset: function (a) { if (arguments.length) return void 0 === a ? this : this.each(function (b) { r.offset.setOffset(this, a, b) }); var b, c, d, e, f = this[0]; if (f) return f.getClientRects().length ? (d = f.getBoundingClientRect(), b = f.ownerDocument, c = b.documentElement, e = b.defaultView, { top: d.top + e.pageYOffset - c.clientTop, left: d.left + e.pageXOffset - c.clientLeft }) : { top: 0, left: 0 } }, position: function () { if (this[0]) { var a, b, c = this[0], d = { top: 0, left: 0 }; return "fixed" === r.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), B(a[0], "html") || (d = a.offset()), d = { top: d.top + r.css(a[0], "borderTopWidth", !0), left: d.left + r.css(a[0], "borderLeftWidth", !0) }), { top: b.top - d.top - r.css(c, "marginTop", !0), left: b.left - d.left - r.css(c, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { var a = this.offsetParent; while (a && "static" === r.css(a, "position")) a = a.offsetParent; return a || ra }) } }), r.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (a, b) { var c = "pageYOffset" === b; r.fn[a] = function (d) { return T(this, function (a, d, e) { var f; return r.isWindow(a) ? f = a : 9 === a.nodeType && (f = a.defaultView), void 0 === e ? f ? f[b] : a[d] : void (f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e) }, a, d, arguments.length) } }), r.each(["top", "left"], function (a, b) { r.cssHooks[b] = Pa(o.pixelPosition, function (a, c) { if (c) return c = Oa(a, b), Ma.test(c) ? r(a).position()[b] + "px" : c }) }), r.each({ Height: "height", Width: "width" }, function (a, b) { r.each({ padding: "inner" + a, content: b, "": "outer" + a }, function (c, d) { r.fn[d] = function (e, f) { var g = arguments.length && (c || "boolean" != typeof e), h = c || (e === !0 || f === !0 ? "margin" : "border"); return T(this, function (b, c, e) { var f; return r.isWindow(b) ? 0 === d.indexOf("outer") ? b["inner" + a] : b.document.documentElement["client" + a] : 9 === b.nodeType ? (f = b.documentElement, Math.max(b.body["scroll" + a], f["scroll" + a], b.body["offset" + a], f["offset" + a], f["client" + a])) : void 0 === e ? r.css(b, c, h) : r.style(b, c, e, h) }, b, g ? e : void 0, g) } }) }), r.fn.extend({ bind: function (a, b, c) { return this.on(a, null, b, c) }, unbind: function (a, b) { return this.off(a, null, b) }, delegate: function (a, b, c, d) { return this.on(b, a, c, d) }, undelegate: function (a, b, c) { return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c) } }), r.holdReady = function (a) { a ? r.readyWait++ : r.ready(!0) }, r.isArray = Array.isArray, r.parseJSON = JSON.parse, r.nodeName = B, "function" == typeof define && define.amd && define("jquery", [], function () { return r }); var Vb = a.jQuery, Wb = a.$; return r.noConflict = function (b) { return a.$ === r && (a.$ = Wb), b && a.jQuery === r && (a.jQuery = Vb), r }, b || (a.jQuery = a.$ = r), r
});

/*
 Copyright (C) Federico Zivolo 2017
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */(function (e, t) { 'object' == typeof exports && 'undefined' != typeof module ? module.exports = t() : 'function' == typeof define && define.amd ? define(t) : e.Popper = t() })(this, function () { 'use strict'; function e(e) { return e && '[object Function]' === {}.toString.call(e) } function t(e, t) { if (1 !== e.nodeType) return []; var o = getComputedStyle(e, null); return t ? o[t] : o } function o(e) { return 'HTML' === e.nodeName ? e : e.parentNode || e.host } function n(e) { if (!e) return document.body; switch (e.nodeName) { case 'HTML': case 'BODY': return e.ownerDocument.body; case '#document': return e.body; }var i = t(e), r = i.overflow, p = i.overflowX, s = i.overflowY; return /(auto|scroll)/.test(r + s + p) ? e : n(o(e)) } function r(e) { var o = e && e.offsetParent, i = o && o.nodeName; return i && 'BODY' !== i && 'HTML' !== i ? -1 !== ['TD', 'TABLE'].indexOf(o.nodeName) && 'static' === t(o, 'position') ? r(o) : o : e ? e.ownerDocument.documentElement : document.documentElement } function p(e) { var t = e.nodeName; return 'BODY' !== t && ('HTML' === t || r(e.firstElementChild) === e) } function s(e) { return null === e.parentNode ? e : s(e.parentNode) } function d(e, t) { if (!e || !e.nodeType || !t || !t.nodeType) return document.documentElement; var o = e.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING, i = o ? e : t, n = o ? t : e, a = document.createRange(); a.setStart(i, 0), a.setEnd(n, 0); var l = a.commonAncestorContainer; if (e !== l && t !== l || i.contains(n)) return p(l) ? l : r(l); var f = s(e); return f.host ? d(f.host, t) : d(e, s(t).host) } function a(e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'top', o = 'top' === t ? 'scrollTop' : 'scrollLeft', i = e.nodeName; if ('BODY' === i || 'HTML' === i) { var n = e.ownerDocument.documentElement, r = e.ownerDocument.scrollingElement || n; return r[o] } return e[o] } function l(e, t) { var o = 2 < arguments.length && void 0 !== arguments[2] && arguments[2], i = a(t, 'top'), n = a(t, 'left'), r = o ? -1 : 1; return e.top += i * r, e.bottom += i * r, e.left += n * r, e.right += n * r, e } function f(e, t) { var o = 'x' === t ? 'Left' : 'Top', i = 'Left' == o ? 'Right' : 'Bottom'; return parseFloat(e['border' + o + 'Width'], 10) + parseFloat(e['border' + i + 'Width'], 10) } function m(e, t, o, i) { return J(t['offset' + e], t['scroll' + e], o['client' + e], o['offset' + e], o['scroll' + e], ie() ? o['offset' + e] + i['margin' + ('Height' === e ? 'Top' : 'Left')] + i['margin' + ('Height' === e ? 'Bottom' : 'Right')] : 0) } function h() { var e = document.body, t = document.documentElement, o = ie() && getComputedStyle(t); return { height: m('Height', e, t, o), width: m('Width', e, t, o) } } function c(e) { return se({}, e, { right: e.left + e.width, bottom: e.top + e.height }) } function g(e) { var o = {}; if (ie()) try { o = e.getBoundingClientRect(); var i = a(e, 'top'), n = a(e, 'left'); o.top += i, o.left += n, o.bottom += i, o.right += n } catch (e) { } else o = e.getBoundingClientRect(); var r = { left: o.left, top: o.top, width: o.right - o.left, height: o.bottom - o.top }, p = 'HTML' === e.nodeName ? h() : {}, s = p.width || e.clientWidth || r.right - r.left, d = p.height || e.clientHeight || r.bottom - r.top, l = e.offsetWidth - s, m = e.offsetHeight - d; if (l || m) { var g = t(e); l -= f(g, 'x'), m -= f(g, 'y'), r.width -= l, r.height -= m } return c(r) } function u(e, o) { var i = ie(), r = 'HTML' === o.nodeName, p = g(e), s = g(o), d = n(e), a = t(o), f = parseFloat(a.borderTopWidth, 10), m = parseFloat(a.borderLeftWidth, 10), h = c({ top: p.top - s.top - f, left: p.left - s.left - m, width: p.width, height: p.height }); if (h.marginTop = 0, h.marginLeft = 0, !i && r) { var u = parseFloat(a.marginTop, 10), b = parseFloat(a.marginLeft, 10); h.top -= f - u, h.bottom -= f - u, h.left -= m - b, h.right -= m - b, h.marginTop = u, h.marginLeft = b } return (i ? o.contains(d) : o === d && 'BODY' !== d.nodeName) && (h = l(h, o)), h } function b(e) { var t = e.ownerDocument.documentElement, o = u(e, t), i = J(t.clientWidth, window.innerWidth || 0), n = J(t.clientHeight, window.innerHeight || 0), r = a(t), p = a(t, 'left'), s = { top: r - o.top + o.marginTop, left: p - o.left + o.marginLeft, width: i, height: n }; return c(s) } function w(e) { var i = e.nodeName; return 'BODY' === i || 'HTML' === i ? !1 : 'fixed' === t(e, 'position') || w(o(e)) } function y(e, t, i, r) { var p = { top: 0, left: 0 }, s = d(e, t); if ('viewport' === r) p = b(s); else { var a; 'scrollParent' === r ? (a = n(o(t)), 'BODY' === a.nodeName && (a = e.ownerDocument.documentElement)) : 'window' === r ? a = e.ownerDocument.documentElement : a = r; var l = u(a, s); if ('HTML' === a.nodeName && !w(s)) { var f = h(), m = f.height, c = f.width; p.top += l.top - l.marginTop, p.bottom = m + l.top, p.left += l.left - l.marginLeft, p.right = c + l.left } else p = l } return p.left += i, p.top += i, p.right -= i, p.bottom -= i, p } function E(e) { var t = e.width, o = e.height; return t * o } function v(e, t, o, i, n) { var r = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0; if (-1 === e.indexOf('auto')) return e; var p = y(o, i, r, n), s = { top: { width: p.width, height: t.top - p.top }, right: { width: p.right - t.right, height: p.height }, bottom: { width: p.width, height: p.bottom - t.bottom }, left: { width: t.left - p.left, height: p.height } }, d = Object.keys(s).map(function (e) { return se({ key: e }, s[e], { area: E(s[e]) }) }).sort(function (e, t) { return t.area - e.area }), a = d.filter(function (e) { var t = e.width, i = e.height; return t >= o.clientWidth && i >= o.clientHeight }), l = 0 < a.length ? a[0].key : d[0].key, f = e.split('-')[1]; return l + (f ? '-' + f : '') } function O(e, t, o) { var i = d(t, o); return u(o, i) } function L(e) { var t = getComputedStyle(e), o = parseFloat(t.marginTop) + parseFloat(t.marginBottom), i = parseFloat(t.marginLeft) + parseFloat(t.marginRight), n = { width: e.offsetWidth + i, height: e.offsetHeight + o }; return n } function x(e) { var t = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' }; return e.replace(/left|right|bottom|top/g, function (e) { return t[e] }) } function S(e, t, o) { o = o.split('-')[0]; var i = L(e), n = { width: i.width, height: i.height }, r = -1 !== ['right', 'left'].indexOf(o), p = r ? 'top' : 'left', s = r ? 'left' : 'top', d = r ? 'height' : 'width', a = r ? 'width' : 'height'; return n[p] = t[p] + t[d] / 2 - i[d] / 2, n[s] = o === s ? t[s] - i[a] : t[x(s)], n } function T(e, t) { return Array.prototype.find ? e.find(t) : e.filter(t)[0] } function D(e, t, o) { if (Array.prototype.findIndex) return e.findIndex(function (e) { return e[t] === o }); var i = T(e, function (e) { return e[t] === o }); return e.indexOf(i) } function C(t, o, i) { var n = void 0 === i ? t : t.slice(0, D(t, 'name', i)); return n.forEach(function (t) { t['function'] && console.warn('`modifier.function` is deprecated, use `modifier.fn`!'); var i = t['function'] || t.fn; t.enabled && e(i) && (o.offsets.popper = c(o.offsets.popper), o.offsets.reference = c(o.offsets.reference), o = i(o, t)) }), o } function N() { if (!this.state.isDestroyed) { var e = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }; e.offsets.reference = O(this.state, this.popper, this.reference), e.placement = v(this.options.placement, e.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), e.originalPlacement = e.placement, e.offsets.popper = S(this.popper, e.offsets.reference, e.placement), e.offsets.popper.position = 'absolute', e = C(this.modifiers, e), this.state.isCreated ? this.options.onUpdate(e) : (this.state.isCreated = !0, this.options.onCreate(e)) } } function k(e, t) { return e.some(function (e) { var o = e.name, i = e.enabled; return i && o === t }) } function W(e) { for (var t = [!1, 'ms', 'Webkit', 'Moz', 'O'], o = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < t.length - 1; n++) { var i = t[n], r = i ? '' + i + o : e; if ('undefined' != typeof document.body.style[r]) return r } return null } function P() { return this.state.isDestroyed = !0, k(this.modifiers, 'applyStyle') && (this.popper.removeAttribute('x-placement'), this.popper.style.left = '', this.popper.style.position = '', this.popper.style.top = '', this.popper.style[W('transform')] = ''), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this } function B(e) { var t = e.ownerDocument; return t ? t.defaultView : window } function H(e, t, o, i) { var r = 'BODY' === e.nodeName, p = r ? e.ownerDocument.defaultView : e; p.addEventListener(t, o, { passive: !0 }), r || H(n(p.parentNode), t, o, i), i.push(p) } function A(e, t, o, i) { o.updateBound = i, B(e).addEventListener('resize', o.updateBound, { passive: !0 }); var r = n(e); return H(r, 'scroll', o.updateBound, o.scrollParents), o.scrollElement = r, o.eventsEnabled = !0, o } function I() { this.state.eventsEnabled || (this.state = A(this.reference, this.options, this.state, this.scheduleUpdate)) } function M(e, t) { return B(e).removeEventListener('resize', t.updateBound), t.scrollParents.forEach(function (e) { e.removeEventListener('scroll', t.updateBound) }), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t } function R() { this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = M(this.reference, this.state)) } function U(e) { return '' !== e && !isNaN(parseFloat(e)) && isFinite(e) } function Y(e, t) { Object.keys(t).forEach(function (o) { var i = ''; -1 !== ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(o) && U(t[o]) && (i = 'px'), e.style[o] = t[o] + i }) } function j(e, t) { Object.keys(t).forEach(function (o) { var i = t[o]; !1 === i ? e.removeAttribute(o) : e.setAttribute(o, t[o]) }) } function F(e, t, o) { var i = T(e, function (e) { var o = e.name; return o === t }), n = !!i && e.some(function (e) { return e.name === o && e.enabled && e.order < i.order }); if (!n) { var r = '`' + t + '`'; console.warn('`' + o + '`' + ' modifier is required by ' + r + ' modifier in order to work, be sure to include it before ' + r + '!') } return n } function K(e) { return 'end' === e ? 'start' : 'start' === e ? 'end' : e } function q(e) { var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = ae.indexOf(e), i = ae.slice(o + 1).concat(ae.slice(0, o)); return t ? i.reverse() : i } function V(e, t, o, i) { var n = e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), r = +n[1], p = n[2]; if (!r) return e; if (0 === p.indexOf('%')) { var s; switch (p) { case '%p': s = o; break; case '%': case '%r': default: s = i; }var d = c(s); return d[t] / 100 * r } if ('vh' === p || 'vw' === p) { var a; return a = 'vh' === p ? J(document.documentElement.clientHeight, window.innerHeight || 0) : J(document.documentElement.clientWidth, window.innerWidth || 0), a / 100 * r } return r } function z(e, t, o, i) { var n = [0, 0], r = -1 !== ['right', 'left'].indexOf(i), p = e.split(/(\+|\-)/).map(function (e) { return e.trim() }), s = p.indexOf(T(p, function (e) { return -1 !== e.search(/,|\s/) })); p[s] && -1 === p[s].indexOf(',') && console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.'); var d = /\s*,\s*|\s+/, a = -1 === s ? [p] : [p.slice(0, s).concat([p[s].split(d)[0]]), [p[s].split(d)[1]].concat(p.slice(s + 1))]; return a = a.map(function (e, i) { var n = (1 === i ? !r : r) ? 'height' : 'width', p = !1; return e.reduce(function (e, t) { return '' === e[e.length - 1] && -1 !== ['+', '-'].indexOf(t) ? (e[e.length - 1] = t, p = !0, e) : p ? (e[e.length - 1] += t, p = !1, e) : e.concat(t) }, []).map(function (e) { return V(e, n, t, o) }) }), a.forEach(function (e, t) { e.forEach(function (o, i) { U(o) && (n[t] += o * ('-' === e[i - 1] ? -1 : 1)) }) }), n } function G(e, t) { var o, i = t.offset, n = e.placement, r = e.offsets, p = r.popper, s = r.reference, d = n.split('-')[0]; return o = U(+i) ? [+i, 0] : z(i, p, s, d), 'left' === d ? (p.top += o[0], p.left -= o[1]) : 'right' === d ? (p.top += o[0], p.left += o[1]) : 'top' === d ? (p.left += o[0], p.top -= o[1]) : 'bottom' === d && (p.left += o[0], p.top += o[1]), e.popper = p, e } for (var _ = Math.min, X = Math.floor, J = Math.max, Q = 'undefined' != typeof window && 'undefined' != typeof document, Z = ['Edge', 'Trident', 'Firefox'], $ = 0, ee = 0; ee < Z.length; ee += 1)if (Q && 0 <= navigator.userAgent.indexOf(Z[ee])) { $ = 1; break } var i, te = Q && window.Promise, oe = te ? function (e) { var t = !1; return function () { t || (t = !0, window.Promise.resolve().then(function () { t = !1, e() })) } } : function (e) { var t = !1; return function () { t || (t = !0, setTimeout(function () { t = !1, e() }, $)) } }, ie = function () { return void 0 == i && (i = -1 !== navigator.appVersion.indexOf('MSIE 10')), i }, ne = function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') }, re = function () { function e(e, t) { for (var o, n = 0; n < t.length; n++)o = t[n], o.enumerable = o.enumerable || !1, o.configurable = !0, 'value' in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } return function (t, o, i) { return o && e(t.prototype, o), i && e(t, i), t } }(), pe = function (e, t, o) { return t in e ? Object.defineProperty(e, t, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = o, e }, se = Object.assign || function (e) { for (var t, o = 1; o < arguments.length; o++)for (var i in t = arguments[o], t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }, de = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'], ae = de.slice(3), le = { FLIP: 'flip', CLOCKWISE: 'clockwise', COUNTERCLOCKWISE: 'counterclockwise' }, fe = function () { function t(o, i) { var n = this, r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; ne(this, t), this.scheduleUpdate = function () { return requestAnimationFrame(n.update) }, this.update = oe(this.update.bind(this)), this.options = se({}, t.Defaults, r), this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }, this.reference = o && o.jquery ? o[0] : o, this.popper = i && i.jquery ? i[0] : i, this.options.modifiers = {}, Object.keys(se({}, t.Defaults.modifiers, r.modifiers)).forEach(function (e) { n.options.modifiers[e] = se({}, t.Defaults.modifiers[e] || {}, r.modifiers ? r.modifiers[e] : {}) }), this.modifiers = Object.keys(this.options.modifiers).map(function (e) { return se({ name: e }, n.options.modifiers[e]) }).sort(function (e, t) { return e.order - t.order }), this.modifiers.forEach(function (t) { t.enabled && e(t.onLoad) && t.onLoad(n.reference, n.popper, n.options, t, n.state) }), this.update(); var p = this.options.eventsEnabled; p && this.enableEventListeners(), this.state.eventsEnabled = p } return re(t, [{ key: 'update', value: function () { return N.call(this) } }, { key: 'destroy', value: function () { return P.call(this) } }, { key: 'enableEventListeners', value: function () { return I.call(this) } }, { key: 'disableEventListeners', value: function () { return R.call(this) } }]), t }(); return fe.Utils = ('undefined' == typeof window ? global : window).PopperUtils, fe.placements = de, fe.Defaults = { placement: 'bottom', eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: { shift: { order: 100, enabled: !0, fn: function (e) { var t = e.placement, o = t.split('-')[0], i = t.split('-')[1]; if (i) { var n = e.offsets, r = n.reference, p = n.popper, s = -1 !== ['bottom', 'top'].indexOf(o), d = s ? 'left' : 'top', a = s ? 'width' : 'height', l = { start: pe({}, d, r[d]), end: pe({}, d, r[d] + r[a] - p[a]) }; e.offsets.popper = se({}, p, l[i]) } return e } }, offset: { order: 200, enabled: !0, fn: G, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: function (e, t) { var o = t.boundariesElement || r(e.instance.popper); e.instance.reference === o && (o = r(o)); var i = y(e.instance.popper, e.instance.reference, t.padding, o); t.boundaries = i; var n = t.priority, p = e.offsets.popper, s = { primary: function (e) { var o = p[e]; return p[e] < i[e] && !t.escapeWithReference && (o = J(p[e], i[e])), pe({}, e, o) }, secondary: function (e) { var o = 'right' === e ? 'left' : 'top', n = p[o]; return p[e] > i[e] && !t.escapeWithReference && (n = _(p[o], i[e] - ('right' === e ? p.width : p.height))), pe({}, o, n) } }; return n.forEach(function (e) { var t = -1 === ['left', 'top'].indexOf(e) ? 'secondary' : 'primary'; p = se({}, p, s[t](e)) }), e.offsets.popper = p, e }, priority: ['left', 'right', 'top', 'bottom'], padding: 5, boundariesElement: 'scrollParent' }, keepTogether: { order: 400, enabled: !0, fn: function (e) { var t = e.offsets, o = t.popper, i = t.reference, n = e.placement.split('-')[0], r = X, p = -1 !== ['top', 'bottom'].indexOf(n), s = p ? 'right' : 'bottom', d = p ? 'left' : 'top', a = p ? 'width' : 'height'; return o[s] < r(i[d]) && (e.offsets.popper[d] = r(i[d]) - o[a]), o[d] > r(i[s]) && (e.offsets.popper[d] = r(i[s])), e } }, arrow: { order: 500, enabled: !0, fn: function (e, o) { var i; if (!F(e.instance.modifiers, 'arrow', 'keepTogether')) return e; var n = o.element; if ('string' == typeof n) { if (n = e.instance.popper.querySelector(n), !n) return e; } else if (!e.instance.popper.contains(n)) return console.warn('WARNING: `arrow.element` must be child of its popper element!'), e; var r = e.placement.split('-')[0], p = e.offsets, s = p.popper, d = p.reference, a = -1 !== ['left', 'right'].indexOf(r), l = a ? 'height' : 'width', f = a ? 'Top' : 'Left', m = f.toLowerCase(), h = a ? 'left' : 'top', g = a ? 'bottom' : 'right', u = L(n)[l]; d[g] - u < s[m] && (e.offsets.popper[m] -= s[m] - (d[g] - u)), d[m] + u > s[g] && (e.offsets.popper[m] += d[m] + u - s[g]), e.offsets.popper = c(e.offsets.popper); var b = d[m] + d[l] / 2 - u / 2, w = t(e.instance.popper), y = parseFloat(w['margin' + f], 10), E = parseFloat(w['border' + f + 'Width'], 10), v = b - e.offsets.popper[m] - y - E; return v = J(_(s[l] - u, v), 0), e.arrowElement = n, e.offsets.arrow = (i = {}, pe(i, m, Math.round(v)), pe(i, h, ''), i), e }, element: '[x-arrow]' }, flip: { order: 600, enabled: !0, fn: function (e, t) { if (k(e.instance.modifiers, 'inner')) return e; if (e.flipped && e.placement === e.originalPlacement) return e; var o = y(e.instance.popper, e.instance.reference, t.padding, t.boundariesElement), i = e.placement.split('-')[0], n = x(i), r = e.placement.split('-')[1] || '', p = []; switch (t.behavior) { case le.FLIP: p = [i, n]; break; case le.CLOCKWISE: p = q(i); break; case le.COUNTERCLOCKWISE: p = q(i, !0); break; default: p = t.behavior; }return p.forEach(function (s, d) { if (i !== s || p.length === d + 1) return e; i = e.placement.split('-')[0], n = x(i); var a = e.offsets.popper, l = e.offsets.reference, f = X, m = 'left' === i && f(a.right) > f(l.left) || 'right' === i && f(a.left) < f(l.right) || 'top' === i && f(a.bottom) > f(l.top) || 'bottom' === i && f(a.top) < f(l.bottom), h = f(a.left) < f(o.left), c = f(a.right) > f(o.right), g = f(a.top) < f(o.top), u = f(a.bottom) > f(o.bottom), b = 'left' === i && h || 'right' === i && c || 'top' === i && g || 'bottom' === i && u, w = -1 !== ['top', 'bottom'].indexOf(i), y = !!t.flipVariations && (w && 'start' === r && h || w && 'end' === r && c || !w && 'start' === r && g || !w && 'end' === r && u); (m || b || y) && (e.flipped = !0, (m || b) && (i = p[d + 1]), y && (r = K(r)), e.placement = i + (r ? '-' + r : ''), e.offsets.popper = se({}, e.offsets.popper, S(e.instance.popper, e.offsets.reference, e.placement)), e = C(e.instance.modifiers, e, 'flip')) }), e }, behavior: 'flip', padding: 5, boundariesElement: 'viewport' }, inner: { order: 700, enabled: !1, fn: function (e) { var t = e.placement, o = t.split('-')[0], i = e.offsets, n = i.popper, r = i.reference, p = -1 !== ['left', 'right'].indexOf(o), s = -1 === ['top', 'left'].indexOf(o); return n[p ? 'left' : 'top'] = r[o] - (s ? n[p ? 'width' : 'height'] : 0), e.placement = x(t), e.offsets.popper = c(n), e } }, hide: { order: 800, enabled: !0, fn: function (e) { if (!F(e.instance.modifiers, 'hide', 'preventOverflow')) return e; var t = e.offsets.reference, o = T(e.instance.modifiers, function (e) { return 'preventOverflow' === e.name }).boundaries; if (t.bottom < o.top || t.left > o.right || t.top > o.bottom || t.right < o.left) { if (!0 === e.hide) return e; e.hide = !0, e.attributes['x-out-of-boundaries'] = '' } else { if (!1 === e.hide) return e; e.hide = !1, e.attributes['x-out-of-boundaries'] = !1 } return e } }, computeStyle: { order: 850, enabled: !0, fn: function (e, t) { var o = t.x, i = t.y, n = e.offsets.popper, p = T(e.instance.modifiers, function (e) { return 'applyStyle' === e.name }).gpuAcceleration; void 0 !== p && console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'); var s, d, a = void 0 === p ? t.gpuAcceleration : p, l = r(e.instance.popper), f = g(l), m = { position: n.position }, h = { left: X(n.left), top: X(n.top), bottom: X(n.bottom), right: X(n.right) }, c = 'bottom' === o ? 'top' : 'bottom', u = 'right' === i ? 'left' : 'right', b = W('transform'); if (d = 'bottom' == c ? -f.height + h.bottom : h.top, s = 'right' == u ? -f.width + h.right : h.left, a && b) m[b] = 'translate3d(' + s + 'px, ' + d + 'px, 0)', m[c] = 0, m[u] = 0, m.willChange = 'transform'; else { var w = 'bottom' == c ? -1 : 1, y = 'right' == u ? -1 : 1; m[c] = d * w, m[u] = s * y, m.willChange = c + ', ' + u } var E = { "x-placement": e.placement }; return e.attributes = se({}, E, e.attributes), e.styles = se({}, m, e.styles), e.arrowStyles = se({}, e.offsets.arrow, e.arrowStyles), e }, gpuAcceleration: !0, x: 'bottom', y: 'right' }, applyStyle: { order: 900, enabled: !0, fn: function (e) { return Y(e.instance.popper, e.styles), j(e.instance.popper, e.attributes), e.arrowElement && Object.keys(e.arrowStyles).length && Y(e.arrowElement, e.arrowStyles), e }, onLoad: function (e, t, o, i, n) { var r = O(n, t, e), p = v(o.placement, r, t, e, o.modifiers.flip.boundariesElement, o.modifiers.flip.padding); return t.setAttribute('x-placement', p), Y(t, { position: 'absolute' }), o }, gpuAcceleration: void 0 } } }, fe });
//# sourceMappingURL=popper.min.js.map
/*!
  * Bootstrap v4.0.0 (https://getbootstrap.com)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], e) : e(t.bootstrap = {}, t.jQuery, t.Popper) }(this, function (t, e, n) { "use strict"; function i(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function s(t, e, n) { return e && i(t.prototype, e), n && i(t, n), t } function r() { return (r = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }).apply(this, arguments) } e = e && e.hasOwnProperty("default") ? e.default : e, n = n && n.hasOwnProperty("default") ? n.default : n; var o, a, l, h, c, u, f, d, _, g, p, m, v, E, T, y, C, I, A, b, D, S, w, N, O, k, P = function (t) { var e = !1; function n(e) { var n = this, s = !1; return t(this).one(i.TRANSITION_END, function () { s = !0 }), setTimeout(function () { s || i.triggerTransitionEnd(n) }, e), this } var i = { TRANSITION_END: "bsTransitionEnd", getUID: function (t) { do { t += ~~(1e6 * Math.random()) } while (document.getElementById(t)); return t }, getSelectorFromElement: function (e) { var n, i = e.getAttribute("data-target"); i && "#" !== i || (i = e.getAttribute("href") || ""), "#" === i.charAt(0) && (n = i, i = n = "function" == typeof t.escapeSelector ? t.escapeSelector(n).substr(1) : n.replace(/(:|\.|\[|\]|,|=|@)/g, "\\$1")); try { return t(document).find(i).length > 0 ? i : null } catch (t) { return null } }, reflow: function (t) { return t.offsetHeight }, triggerTransitionEnd: function (n) { t(n).trigger(e.end) }, supportsTransitionEnd: function () { return Boolean(e) }, isElement: function (t) { return (t[0] || t).nodeType }, typeCheckConfig: function (t, e, n) { for (var s in n) if (Object.prototype.hasOwnProperty.call(n, s)) { var r = n[s], o = e[s], a = o && i.isElement(o) ? "element" : (l = o, {}.toString.call(l).match(/\s([a-zA-Z]+)/)[1].toLowerCase()); if (!new RegExp(r).test(a)) throw new Error(t.toUpperCase() + ': Option "' + s + '" provided type "' + a + '" but expected type "' + r + '".') } var l } }; return e = ("undefined" == typeof window || !window.QUnit) && { end: "transitionend" }, t.fn.emulateTransitionEnd = n, i.supportsTransitionEnd() && (t.event.special[i.TRANSITION_END] = { bindType: e.end, delegateType: e.end, handle: function (e) { if (t(e.target).is(this)) return e.handleObj.handler.apply(this, arguments) } }), i }(e), L = (a = "alert", h = "." + (l = "bs.alert"), c = (o = e).fn[a], u = { CLOSE: "close" + h, CLOSED: "closed" + h, CLICK_DATA_API: "click" + h + ".data-api" }, f = "alert", d = "fade", _ = "show", g = function () { function t(t) { this._element = t } var e = t.prototype; return e.close = function (t) { t = t || this._element; var e = this._getRootElement(t); this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e) }, e.dispose = function () { o.removeData(this._element, l), this._element = null }, e._getRootElement = function (t) { var e = P.getSelectorFromElement(t), n = !1; return e && (n = o(e)[0]), n || (n = o(t).closest("." + f)[0]), n }, e._triggerCloseEvent = function (t) { var e = o.Event(u.CLOSE); return o(t).trigger(e), e }, e._removeElement = function (t) { var e = this; o(t).removeClass(_), P.supportsTransitionEnd() && o(t).hasClass(d) ? o(t).one(P.TRANSITION_END, function (n) { return e._destroyElement(t, n) }).emulateTransitionEnd(150) : this._destroyElement(t) }, e._destroyElement = function (t) { o(t).detach().trigger(u.CLOSED).remove() }, t._jQueryInterface = function (e) { return this.each(function () { var n = o(this), i = n.data(l); i || (i = new t(this), n.data(l, i)), "close" === e && i[e](this) }) }, t._handleDismiss = function (t) { return function (e) { e && e.preventDefault(), t.close(this) } }, s(t, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), t }(), o(document).on(u.CLICK_DATA_API, '[data-dismiss="alert"]', g._handleDismiss(new g)), o.fn[a] = g._jQueryInterface, o.fn[a].Constructor = g, o.fn[a].noConflict = function () { return o.fn[a] = c, g._jQueryInterface }, g), R = (m = "button", E = "." + (v = "bs.button"), T = ".data-api", y = (p = e).fn[m], C = "active", I = "btn", A = "focus", b = '[data-toggle^="button"]', D = '[data-toggle="buttons"]', S = "input", w = ".active", N = ".btn", O = { CLICK_DATA_API: "click" + E + T, FOCUS_BLUR_DATA_API: "focus" + E + T + " blur" + E + T }, k = function () { function t(t) { this._element = t } var e = t.prototype; return e.toggle = function () { var t = !0, e = !0, n = p(this._element).closest(D)[0]; if (n) { var i = p(this._element).find(S)[0]; if (i) { if ("radio" === i.type) if (i.checked && p(this._element).hasClass(C)) t = !1; else { var s = p(n).find(w)[0]; s && p(s).removeClass(C) } if (t) { if (i.hasAttribute("disabled") || n.hasAttribute("disabled") || i.classList.contains("disabled") || n.classList.contains("disabled")) return; i.checked = !p(this._element).hasClass(C), p(i).trigger("change") } i.focus(), e = !1 } } e && this._element.setAttribute("aria-pressed", !p(this._element).hasClass(C)), t && p(this._element).toggleClass(C) }, e.dispose = function () { p.removeData(this._element, v), this._element = null }, t._jQueryInterface = function (e) { return this.each(function () { var n = p(this).data(v); n || (n = new t(this), p(this).data(v, n)), "toggle" === e && n[e]() }) }, s(t, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), t }(), p(document).on(O.CLICK_DATA_API, b, function (t) { t.preventDefault(); var e = t.target; p(e).hasClass(I) || (e = p(e).closest(N)), k._jQueryInterface.call(p(e), "toggle") }).on(O.FOCUS_BLUR_DATA_API, b, function (t) { var e = p(t.target).closest(N)[0]; p(e).toggleClass(A, /^focus(in)?$/.test(t.type)) }), p.fn[m] = k._jQueryInterface, p.fn[m].Constructor = k, p.fn[m].noConflict = function () { return p.fn[m] = y, k._jQueryInterface }, k), j = function (t) { var e = "carousel", n = "bs.carousel", i = "." + n, o = t.fn[e], a = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0 }, l = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean" }, h = "next", c = "prev", u = "left", f = "right", d = { SLIDE: "slide" + i, SLID: "slid" + i, KEYDOWN: "keydown" + i, MOUSEENTER: "mouseenter" + i, MOUSELEAVE: "mouseleave" + i, TOUCHEND: "touchend" + i, LOAD_DATA_API: "load" + i + ".data-api", CLICK_DATA_API: "click" + i + ".data-api" }, _ = "carousel", g = "active", p = "slide", m = "carousel-item-right", v = "carousel-item-left", E = "carousel-item-next", T = "carousel-item-prev", y = { ACTIVE: ".active", ACTIVE_ITEM: ".active.carousel-item", ITEM: ".carousel-item", NEXT_PREV: ".carousel-item-next, .carousel-item-prev", INDICATORS: ".carousel-indicators", DATA_SLIDE: "[data-slide], [data-slide-to]", DATA_RIDE: '[data-ride="carousel"]' }, C = function () { function o(e, n) { this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this._config = this._getConfig(n), this._element = t(e)[0], this._indicatorsElement = t(this._element).find(y.INDICATORS)[0], this._addEventListeners() } var C = o.prototype; return C.next = function () { this._isSliding || this._slide(h) }, C.nextWhenVisible = function () { !document.hidden && t(this._element).is(":visible") && "hidden" !== t(this._element).css("visibility") && this.next() }, C.prev = function () { this._isSliding || this._slide(c) }, C.pause = function (e) { e || (this._isPaused = !0), t(this._element).find(y.NEXT_PREV)[0] && P.supportsTransitionEnd() && (P.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null }, C.cycle = function (t) { t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)) }, C.to = function (e) { var n = this; this._activeElement = t(this._element).find(y.ACTIVE_ITEM)[0]; var i = this._getItemIndex(this._activeElement); if (!(e > this._items.length - 1 || e < 0)) if (this._isSliding) t(this._element).one(d.SLID, function () { return n.to(e) }); else { if (i === e) return this.pause(), void this.cycle(); var s = e > i ? h : c; this._slide(s, this._items[e]) } }, C.dispose = function () { t(this._element).off(i), t.removeData(this._element, n), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null }, C._getConfig = function (t) { return t = r({}, a, t), P.typeCheckConfig(e, t, l), t }, C._addEventListeners = function () { var e = this; this._config.keyboard && t(this._element).on(d.KEYDOWN, function (t) { return e._keydown(t) }), "hover" === this._config.pause && (t(this._element).on(d.MOUSEENTER, function (t) { return e.pause(t) }).on(d.MOUSELEAVE, function (t) { return e.cycle(t) }), "ontouchstart" in document.documentElement && t(this._element).on(d.TOUCHEND, function () { e.pause(), e.touchTimeout && clearTimeout(e.touchTimeout), e.touchTimeout = setTimeout(function (t) { return e.cycle(t) }, 500 + e._config.interval) })) }, C._keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) { case 37: t.preventDefault(), this.prev(); break; case 39: t.preventDefault(), this.next() } }, C._getItemIndex = function (e) { return this._items = t.makeArray(t(e).parent().find(y.ITEM)), this._items.indexOf(e) }, C._getItemByDirection = function (t, e) { var n = t === h, i = t === c, s = this._getItemIndex(e), r = this._items.length - 1; if ((i && 0 === s || n && s === r) && !this._config.wrap) return e; var o = (s + (t === c ? -1 : 1)) % this._items.length; return -1 === o ? this._items[this._items.length - 1] : this._items[o] }, C._triggerSlideEvent = function (e, n) { var i = this._getItemIndex(e), s = this._getItemIndex(t(this._element).find(y.ACTIVE_ITEM)[0]), r = t.Event(d.SLIDE, { relatedTarget: e, direction: n, from: s, to: i }); return t(this._element).trigger(r), r }, C._setActiveIndicatorElement = function (e) { if (this._indicatorsElement) { t(this._indicatorsElement).find(y.ACTIVE).removeClass(g); var n = this._indicatorsElement.children[this._getItemIndex(e)]; n && t(n).addClass(g) } }, C._slide = function (e, n) { var i, s, r, o = this, a = t(this._element).find(y.ACTIVE_ITEM)[0], l = this._getItemIndex(a), c = n || a && this._getItemByDirection(e, a), _ = this._getItemIndex(c), C = Boolean(this._interval); if (e === h ? (i = v, s = E, r = u) : (i = m, s = T, r = f), c && t(c).hasClass(g)) this._isSliding = !1; else if (!this._triggerSlideEvent(c, r).isDefaultPrevented() && a && c) { this._isSliding = !0, C && this.pause(), this._setActiveIndicatorElement(c); var I = t.Event(d.SLID, { relatedTarget: c, direction: r, from: l, to: _ }); P.supportsTransitionEnd() && t(this._element).hasClass(p) ? (t(c).addClass(s), P.reflow(c), t(a).addClass(i), t(c).addClass(i), t(a).one(P.TRANSITION_END, function () { t(c).removeClass(i + " " + s).addClass(g), t(a).removeClass(g + " " + s + " " + i), o._isSliding = !1, setTimeout(function () { return t(o._element).trigger(I) }, 0) }).emulateTransitionEnd(600)) : (t(a).removeClass(g), t(c).addClass(g), this._isSliding = !1, t(this._element).trigger(I)), C && this.cycle() } }, o._jQueryInterface = function (e) { return this.each(function () { var i = t(this).data(n), s = r({}, a, t(this).data()); "object" == typeof e && (s = r({}, s, e)); var l = "string" == typeof e ? e : s.slide; if (i || (i = new o(this, s), t(this).data(n, i)), "number" == typeof e) i.to(e); else if ("string" == typeof l) { if ("undefined" == typeof i[l]) throw new TypeError('No method named "' + l + '"'); i[l]() } else s.interval && (i.pause(), i.cycle()) }) }, o._dataApiClickHandler = function (e) { var i = P.getSelectorFromElement(this); if (i) { var s = t(i)[0]; if (s && t(s).hasClass(_)) { var a = r({}, t(s).data(), t(this).data()), l = this.getAttribute("data-slide-to"); l && (a.interval = !1), o._jQueryInterface.call(t(s), a), l && t(s).data(n).to(l), e.preventDefault() } } }, s(o, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return a } }]), o }(); return t(document).on(d.CLICK_DATA_API, y.DATA_SLIDE, C._dataApiClickHandler), t(window).on(d.LOAD_DATA_API, function () { t(y.DATA_RIDE).each(function () { var e = t(this); C._jQueryInterface.call(e, e.data()) }) }), t.fn[e] = C._jQueryInterface, t.fn[e].Constructor = C, t.fn[e].noConflict = function () { return t.fn[e] = o, C._jQueryInterface }, C }(e), H = function (t) { var e = "collapse", n = "bs.collapse", i = "." + n, o = t.fn[e], a = { toggle: !0, parent: "" }, l = { toggle: "boolean", parent: "(string|element)" }, h = { SHOW: "show" + i, SHOWN: "shown" + i, HIDE: "hide" + i, HIDDEN: "hidden" + i, CLICK_DATA_API: "click" + i + ".data-api" }, c = "show", u = "collapse", f = "collapsing", d = "collapsed", _ = "width", g = "height", p = { ACTIVES: ".show, .collapsing", DATA_TOGGLE: '[data-toggle="collapse"]' }, m = function () { function i(e, n) { this._isTransitioning = !1, this._element = e, this._config = this._getConfig(n), this._triggerArray = t.makeArray(t('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]')); for (var i = t(p.DATA_TOGGLE), s = 0; s < i.length; s++) { var r = i[s], o = P.getSelectorFromElement(r); null !== o && t(o).filter(e).length > 0 && (this._selector = o, this._triggerArray.push(r)) } this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle() } var o = i.prototype; return o.toggle = function () { t(this._element).hasClass(c) ? this.hide() : this.show() }, o.show = function () { var e, s, r = this; if (!this._isTransitioning && !t(this._element).hasClass(c) && (this._parent && 0 === (e = t.makeArray(t(this._parent).find(p.ACTIVES).filter('[data-parent="' + this._config.parent + '"]'))).length && (e = null), !(e && (s = t(e).not(this._selector).data(n)) && s._isTransitioning))) { var o = t.Event(h.SHOW); if (t(this._element).trigger(o), !o.isDefaultPrevented()) { e && (i._jQueryInterface.call(t(e).not(this._selector), "hide"), s || t(e).data(n, null)); var a = this._getDimension(); t(this._element).removeClass(u).addClass(f), this._element.style[a] = 0, this._triggerArray.length > 0 && t(this._triggerArray).removeClass(d).attr("aria-expanded", !0), this.setTransitioning(!0); var l = function () { t(r._element).removeClass(f).addClass(u).addClass(c), r._element.style[a] = "", r.setTransitioning(!1), t(r._element).trigger(h.SHOWN) }; if (P.supportsTransitionEnd()) { var _ = "scroll" + (a[0].toUpperCase() + a.slice(1)); t(this._element).one(P.TRANSITION_END, l).emulateTransitionEnd(600), this._element.style[a] = this._element[_] + "px" } else l() } } }, o.hide = function () { var e = this; if (!this._isTransitioning && t(this._element).hasClass(c)) { var n = t.Event(h.HIDE); if (t(this._element).trigger(n), !n.isDefaultPrevented()) { var i = this._getDimension(); if (this._element.style[i] = this._element.getBoundingClientRect()[i] + "px", P.reflow(this._element), t(this._element).addClass(f).removeClass(u).removeClass(c), this._triggerArray.length > 0) for (var s = 0; s < this._triggerArray.length; s++) { var r = this._triggerArray[s], o = P.getSelectorFromElement(r); if (null !== o) t(o).hasClass(c) || t(r).addClass(d).attr("aria-expanded", !1) } this.setTransitioning(!0); var a = function () { e.setTransitioning(!1), t(e._element).removeClass(f).addClass(u).trigger(h.HIDDEN) }; this._element.style[i] = "", P.supportsTransitionEnd() ? t(this._element).one(P.TRANSITION_END, a).emulateTransitionEnd(600) : a() } } }, o.setTransitioning = function (t) { this._isTransitioning = t }, o.dispose = function () { t.removeData(this._element, n), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null }, o._getConfig = function (t) { return (t = r({}, a, t)).toggle = Boolean(t.toggle), P.typeCheckConfig(e, t, l), t }, o._getDimension = function () { return t(this._element).hasClass(_) ? _ : g }, o._getParent = function () { var e = this, n = null; P.isElement(this._config.parent) ? (n = this._config.parent, "undefined" != typeof this._config.parent.jquery && (n = this._config.parent[0])) : n = t(this._config.parent)[0]; var s = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]'; return t(n).find(s).each(function (t, n) { e._addAriaAndCollapsedClass(i._getTargetFromElement(n), [n]) }), n }, o._addAriaAndCollapsedClass = function (e, n) { if (e) { var i = t(e).hasClass(c); n.length > 0 && t(n).toggleClass(d, !i).attr("aria-expanded", i) } }, i._getTargetFromElement = function (e) { var n = P.getSelectorFromElement(e); return n ? t(n)[0] : null }, i._jQueryInterface = function (e) { return this.each(function () { var s = t(this), o = s.data(n), l = r({}, a, s.data(), "object" == typeof e && e); if (!o && l.toggle && /show|hide/.test(e) && (l.toggle = !1), o || (o = new i(this, l), s.data(n, o)), "string" == typeof e) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e]() } }) }, s(i, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return a } }]), i }(); return t(document).on(h.CLICK_DATA_API, p.DATA_TOGGLE, function (e) { "A" === e.currentTarget.tagName && e.preventDefault(); var i = t(this), s = P.getSelectorFromElement(this); t(s).each(function () { var e = t(this), s = e.data(n) ? "toggle" : i.data(); m._jQueryInterface.call(e, s) }) }), t.fn[e] = m._jQueryInterface, t.fn[e].Constructor = m, t.fn[e].noConflict = function () { return t.fn[e] = o, m._jQueryInterface }, m }(e), W = function (t) { var e = "dropdown", i = "bs.dropdown", o = "." + i, a = ".data-api", l = t.fn[e], h = new RegExp("38|40|27"), c = { HIDE: "hide" + o, HIDDEN: "hidden" + o, SHOW: "show" + o, SHOWN: "shown" + o, CLICK: "click" + o, CLICK_DATA_API: "click" + o + a, KEYDOWN_DATA_API: "keydown" + o + a, KEYUP_DATA_API: "keyup" + o + a }, u = "disabled", f = "show", d = "dropup", _ = "dropright", g = "dropleft", p = "dropdown-menu-right", m = "dropdown-menu-left", v = "position-static", E = '[data-toggle="dropdown"]', T = ".dropdown form", y = ".dropdown-menu", C = ".navbar-nav", I = ".dropdown-menu .dropdown-item:not(.disabled)", A = "top-start", b = "top-end", D = "bottom-start", S = "bottom-end", w = "right-start", N = "left-start", O = { offset: 0, flip: !0, boundary: "scrollParent" }, k = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)" }, L = function () { function a(t, e) { this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners() } var l = a.prototype; return l.toggle = function () { if (!this._element.disabled && !t(this._element).hasClass(u)) { var e = a._getParentFromElement(this._element), i = t(this._menu).hasClass(f); if (a._clearMenus(), !i) { var s = { relatedTarget: this._element }, r = t.Event(c.SHOW, s); if (t(e).trigger(r), !r.isDefaultPrevented()) { if (!this._inNavbar) { if ("undefined" == typeof n) throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)"); var o = this._element; t(e).hasClass(d) && (t(this._menu).hasClass(m) || t(this._menu).hasClass(p)) && (o = e), "scrollParent" !== this._config.boundary && t(e).addClass(v), this._popper = new n(o, this._menu, this._getPopperConfig()) } "ontouchstart" in document.documentElement && 0 === t(e).closest(C).length && t("body").children().on("mouseover", null, t.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), t(this._menu).toggleClass(f), t(e).toggleClass(f).trigger(t.Event(c.SHOWN, s)) } } } }, l.dispose = function () { t.removeData(this._element, i), t(this._element).off(o), this._element = null, this._menu = null, null !== this._popper && (this._popper.destroy(), this._popper = null) }, l.update = function () { this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate() }, l._addEventListeners = function () { var e = this; t(this._element).on(c.CLICK, function (t) { t.preventDefault(), t.stopPropagation(), e.toggle() }) }, l._getConfig = function (n) { return n = r({}, this.constructor.Default, t(this._element).data(), n), P.typeCheckConfig(e, n, this.constructor.DefaultType), n }, l._getMenuElement = function () { if (!this._menu) { var e = a._getParentFromElement(this._element); this._menu = t(e).find(y)[0] } return this._menu }, l._getPlacement = function () { var e = t(this._element).parent(), n = D; return e.hasClass(d) ? (n = A, t(this._menu).hasClass(p) && (n = b)) : e.hasClass(_) ? n = w : e.hasClass(g) ? n = N : t(this._menu).hasClass(p) && (n = S), n }, l._detectNavbar = function () { return t(this._element).closest(".navbar").length > 0 }, l._getPopperConfig = function () { var t = this, e = {}; return "function" == typeof this._config.offset ? e.fn = function (e) { return e.offsets = r({}, e.offsets, t._config.offset(e.offsets) || {}), e } : e.offset = this._config.offset, { placement: this._getPlacement(), modifiers: { offset: e, flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } } }, a._jQueryInterface = function (e) { return this.each(function () { var n = t(this).data(i); if (n || (n = new a(this, "object" == typeof e ? e : null), t(this).data(i, n)), "string" == typeof e) { if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"'); n[e]() } }) }, a._clearMenus = function (e) { if (!e || 3 !== e.which && ("keyup" !== e.type || 9 === e.which)) for (var n = t.makeArray(t(E)), s = 0; s < n.length; s++) { var r = a._getParentFromElement(n[s]), o = t(n[s]).data(i), l = { relatedTarget: n[s] }; if (o) { var h = o._menu; if (t(r).hasClass(f) && !(e && ("click" === e.type && /input|textarea/i.test(e.target.tagName) || "keyup" === e.type && 9 === e.which) && t.contains(r, e.target))) { var u = t.Event(c.HIDE, l); t(r).trigger(u), u.isDefaultPrevented() || ("ontouchstart" in document.documentElement && t("body").children().off("mouseover", null, t.noop), n[s].setAttribute("aria-expanded", "false"), t(h).removeClass(f), t(r).removeClass(f).trigger(t.Event(c.HIDDEN, l))) } } } }, a._getParentFromElement = function (e) { var n, i = P.getSelectorFromElement(e); return i && (n = t(i)[0]), n || e.parentNode }, a._dataApiKeydownHandler = function (e) { if ((/input|textarea/i.test(e.target.tagName) ? !(32 === e.which || 27 !== e.which && (40 !== e.which && 38 !== e.which || t(e.target).closest(y).length)) : h.test(e.which)) && (e.preventDefault(), e.stopPropagation(), !this.disabled && !t(this).hasClass(u))) { var n = a._getParentFromElement(this), i = t(n).hasClass(f); if ((i || 27 === e.which && 32 === e.which) && (!i || 27 !== e.which && 32 !== e.which)) { var s = t(n).find(I).get(); if (0 !== s.length) { var r = s.indexOf(e.target); 38 === e.which && r > 0 && r--, 40 === e.which && r < s.length - 1 && r++, r < 0 && (r = 0), s[r].focus() } } else { if (27 === e.which) { var o = t(n).find(E)[0]; t(o).trigger("focus") } t(this).trigger("click") } } }, s(a, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return O } }, { key: "DefaultType", get: function () { return k } }]), a }(); return t(document).on(c.KEYDOWN_DATA_API, E, L._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API, y, L._dataApiKeydownHandler).on(c.CLICK_DATA_API + " " + c.KEYUP_DATA_API, L._clearMenus).on(c.CLICK_DATA_API, E, function (e) { e.preventDefault(), e.stopPropagation(), L._jQueryInterface.call(t(this), "toggle") }).on(c.CLICK_DATA_API, T, function (t) { t.stopPropagation() }), t.fn[e] = L._jQueryInterface, t.fn[e].Constructor = L, t.fn[e].noConflict = function () { return t.fn[e] = l, L._jQueryInterface }, L }(e), M = function (t) { var e = "modal", n = "bs.modal", i = "." + n, o = t.fn.modal, a = { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, l = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" }, h = { HIDE: "hide" + i, HIDDEN: "hidden" + i, SHOW: "show" + i, SHOWN: "shown" + i, FOCUSIN: "focusin" + i, RESIZE: "resize" + i, CLICK_DISMISS: "click.dismiss" + i, KEYDOWN_DISMISS: "keydown.dismiss" + i, MOUSEUP_DISMISS: "mouseup.dismiss" + i, MOUSEDOWN_DISMISS: "mousedown.dismiss" + i, CLICK_DATA_API: "click" + i + ".data-api" }, c = "modal-scrollbar-measure", u = "modal-backdrop", f = "modal-open", d = "fade", _ = "show", g = { DIALOG: ".modal-dialog", DATA_TOGGLE: '[data-toggle="modal"]', DATA_DISMISS: '[data-dismiss="modal"]', FIXED_CONTENT: ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", STICKY_CONTENT: ".sticky-top", NAVBAR_TOGGLER: ".navbar-toggler" }, p = function () { function o(e, n) { this._config = this._getConfig(n), this._element = e, this._dialog = t(e).find(g.DIALOG)[0], this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._originalBodyPadding = 0, this._scrollbarWidth = 0 } var p = o.prototype; return p.toggle = function (t) { return this._isShown ? this.hide() : this.show(t) }, p.show = function (e) { var n = this; if (!this._isTransitioning && !this._isShown) { P.supportsTransitionEnd() && t(this._element).hasClass(d) && (this._isTransitioning = !0); var i = t.Event(h.SHOW, { relatedTarget: e }); t(this._element).trigger(i), this._isShown || i.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), t(document.body).addClass(f), this._setEscapeEvent(), this._setResizeEvent(), t(this._element).on(h.CLICK_DISMISS, g.DATA_DISMISS, function (t) { return n.hide(t) }), t(this._dialog).on(h.MOUSEDOWN_DISMISS, function () { t(n._element).one(h.MOUSEUP_DISMISS, function (e) { t(e.target).is(n._element) && (n._ignoreBackdropClick = !0) }) }), this._showBackdrop(function () { return n._showElement(e) })) } }, p.hide = function (e) { var n = this; if (e && e.preventDefault(), !this._isTransitioning && this._isShown) { var i = t.Event(h.HIDE); if (t(this._element).trigger(i), this._isShown && !i.isDefaultPrevented()) { this._isShown = !1; var s = P.supportsTransitionEnd() && t(this._element).hasClass(d); s && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), t(document).off(h.FOCUSIN), t(this._element).removeClass(_), t(this._element).off(h.CLICK_DISMISS), t(this._dialog).off(h.MOUSEDOWN_DISMISS), s ? t(this._element).one(P.TRANSITION_END, function (t) { return n._hideModal(t) }).emulateTransitionEnd(300) : this._hideModal() } } }, p.dispose = function () { t.removeData(this._element, n), t(window, document, this._element, this._backdrop).off(i), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._scrollbarWidth = null }, p.handleUpdate = function () { this._adjustDialog() }, p._getConfig = function (t) { return t = r({}, a, t), P.typeCheckConfig(e, t, l), t }, p._showElement = function (e) { var n = this, i = P.supportsTransitionEnd() && t(this._element).hasClass(d); this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.scrollTop = 0, i && P.reflow(this._element), t(this._element).addClass(_), this._config.focus && this._enforceFocus(); var s = t.Event(h.SHOWN, { relatedTarget: e }), r = function () { n._config.focus && n._element.focus(), n._isTransitioning = !1, t(n._element).trigger(s) }; i ? t(this._dialog).one(P.TRANSITION_END, r).emulateTransitionEnd(300) : r() }, p._enforceFocus = function () { var e = this; t(document).off(h.FOCUSIN).on(h.FOCUSIN, function (n) { document !== n.target && e._element !== n.target && 0 === t(e._element).has(n.target).length && e._element.focus() }) }, p._setEscapeEvent = function () { var e = this; this._isShown && this._config.keyboard ? t(this._element).on(h.KEYDOWN_DISMISS, function (t) { 27 === t.which && (t.preventDefault(), e.hide()) }) : this._isShown || t(this._element).off(h.KEYDOWN_DISMISS) }, p._setResizeEvent = function () { var e = this; this._isShown ? t(window).on(h.RESIZE, function (t) { return e.handleUpdate(t) }) : t(window).off(h.RESIZE) }, p._hideModal = function () { var e = this; this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._isTransitioning = !1, this._showBackdrop(function () { t(document.body).removeClass(f), e._resetAdjustments(), e._resetScrollbar(), t(e._element).trigger(h.HIDDEN) }) }, p._removeBackdrop = function () { this._backdrop && (t(this._backdrop).remove(), this._backdrop = null) }, p._showBackdrop = function (e) { var n = this, i = t(this._element).hasClass(d) ? d : ""; if (this._isShown && this._config.backdrop) { var s = P.supportsTransitionEnd() && i; if (this._backdrop = document.createElement("div"), this._backdrop.className = u, i && t(this._backdrop).addClass(i), t(this._backdrop).appendTo(document.body), t(this._element).on(h.CLICK_DISMISS, function (t) { n._ignoreBackdropClick ? n._ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" === n._config.backdrop ? n._element.focus() : n.hide()) }), s && P.reflow(this._backdrop), t(this._backdrop).addClass(_), !e) return; if (!s) return void e(); t(this._backdrop).one(P.TRANSITION_END, e).emulateTransitionEnd(150) } else if (!this._isShown && this._backdrop) { t(this._backdrop).removeClass(_); var r = function () { n._removeBackdrop(), e && e() }; P.supportsTransitionEnd() && t(this._element).hasClass(d) ? t(this._backdrop).one(P.TRANSITION_END, r).emulateTransitionEnd(150) : r() } else e && e() }, p._adjustDialog = function () { var t = this._element.scrollHeight > document.documentElement.clientHeight; !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px") }, p._resetAdjustments = function () { this._element.style.paddingLeft = "", this._element.style.paddingRight = "" }, p._checkScrollbar = function () { var t = document.body.getBoundingClientRect(); this._isBodyOverflowing = t.left + t.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth() }, p._setScrollbar = function () { var e = this; if (this._isBodyOverflowing) { t(g.FIXED_CONTENT).each(function (n, i) { var s = t(i)[0].style.paddingRight, r = t(i).css("padding-right"); t(i).data("padding-right", s).css("padding-right", parseFloat(r) + e._scrollbarWidth + "px") }), t(g.STICKY_CONTENT).each(function (n, i) { var s = t(i)[0].style.marginRight, r = t(i).css("margin-right"); t(i).data("margin-right", s).css("margin-right", parseFloat(r) - e._scrollbarWidth + "px") }), t(g.NAVBAR_TOGGLER).each(function (n, i) { var s = t(i)[0].style.marginRight, r = t(i).css("margin-right"); t(i).data("margin-right", s).css("margin-right", parseFloat(r) + e._scrollbarWidth + "px") }); var n = document.body.style.paddingRight, i = t("body").css("padding-right"); t("body").data("padding-right", n).css("padding-right", parseFloat(i) + this._scrollbarWidth + "px") } }, p._resetScrollbar = function () { t(g.FIXED_CONTENT).each(function (e, n) { var i = t(n).data("padding-right"); "undefined" != typeof i && t(n).css("padding-right", i).removeData("padding-right") }), t(g.STICKY_CONTENT + ", " + g.NAVBAR_TOGGLER).each(function (e, n) { var i = t(n).data("margin-right"); "undefined" != typeof i && t(n).css("margin-right", i).removeData("margin-right") }); var e = t("body").data("padding-right"); "undefined" != typeof e && t("body").css("padding-right", e).removeData("padding-right") }, p._getScrollbarWidth = function () { var t = document.createElement("div"); t.className = c, document.body.appendChild(t); var e = t.getBoundingClientRect().width - t.clientWidth; return document.body.removeChild(t), e }, o._jQueryInterface = function (e, i) { return this.each(function () { var s = t(this).data(n), a = r({}, o.Default, t(this).data(), "object" == typeof e && e); if (s || (s = new o(this, a), t(this).data(n, s)), "string" == typeof e) { if ("undefined" == typeof s[e]) throw new TypeError('No method named "' + e + '"'); s[e](i) } else a.show && s.show(i) }) }, s(o, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return a } }]), o }(); return t(document).on(h.CLICK_DATA_API, g.DATA_TOGGLE, function (e) { var i, s = this, o = P.getSelectorFromElement(this); o && (i = t(o)[0]); var a = t(i).data(n) ? "toggle" : r({}, t(i).data(), t(this).data()); "A" !== this.tagName && "AREA" !== this.tagName || e.preventDefault(); var l = t(i).one(h.SHOW, function (e) { e.isDefaultPrevented() || l.one(h.HIDDEN, function () { t(s).is(":visible") && s.focus() }) }); p._jQueryInterface.call(t(i), a, this) }), t.fn.modal = p._jQueryInterface, t.fn.modal.Constructor = p, t.fn.modal.noConflict = function () { return t.fn.modal = o, p._jQueryInterface }, p }(e), U = function (t) { var e = "tooltip", i = "bs.tooltip", o = "." + i, a = t.fn[e], l = new RegExp("(^|\\s)bs-tooltip\\S+", "g"), h = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(number|string)", container: "(string|element|boolean)", fallbackPlacement: "(string|array)", boundary: "(string|element)" }, c = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" }, u = { animation: !0, template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, selector: !1, placement: "top", offset: 0, container: !1, fallbackPlacement: "flip", boundary: "scrollParent" }, f = "show", d = "out", _ = { HIDE: "hide" + o, HIDDEN: "hidden" + o, SHOW: "show" + o, SHOWN: "shown" + o, INSERTED: "inserted" + o, CLICK: "click" + o, FOCUSIN: "focusin" + o, FOCUSOUT: "focusout" + o, MOUSEENTER: "mouseenter" + o, MOUSELEAVE: "mouseleave" + o }, g = "fade", p = "show", m = ".tooltip-inner", v = ".arrow", E = "hover", T = "focus", y = "click", C = "manual", I = function () { function a(t, e) { if ("undefined" == typeof n) throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)"); this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners() } var I = a.prototype; return I.enable = function () { this._isEnabled = !0 }, I.disable = function () { this._isEnabled = !1 }, I.toggleEnabled = function () { this._isEnabled = !this._isEnabled }, I.toggle = function (e) { if (this._isEnabled) if (e) { var n = this.constructor.DATA_KEY, i = t(e.currentTarget).data(n); i || (i = new this.constructor(e.currentTarget, this._getDelegateConfig()), t(e.currentTarget).data(n, i)), i._activeTrigger.click = !i._activeTrigger.click, i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i) } else { if (t(this.getTipElement()).hasClass(p)) return void this._leave(null, this); this._enter(null, this) } }, I.dispose = function () { clearTimeout(this._timeout), t.removeData(this.element, this.constructor.DATA_KEY), t(this.element).off(this.constructor.EVENT_KEY), t(this.element).closest(".modal").off("hide.bs.modal"), this.tip && t(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, this._activeTrigger = null, null !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null }, I.show = function () { var e = this; if ("none" === t(this.element).css("display")) throw new Error("Please use show on visible elements"); var i = t.Event(this.constructor.Event.SHOW); if (this.isWithContent() && this._isEnabled) { t(this.element).trigger(i); var s = t.contains(this.element.ownerDocument.documentElement, this.element); if (i.isDefaultPrevented() || !s) return; var r = this.getTipElement(), o = P.getUID(this.constructor.NAME); r.setAttribute("id", o), this.element.setAttribute("aria-describedby", o), this.setContent(), this.config.animation && t(r).addClass(g); var l = "function" == typeof this.config.placement ? this.config.placement.call(this, r, this.element) : this.config.placement, h = this._getAttachment(l); this.addAttachmentClass(h); var c = !1 === this.config.container ? document.body : t(this.config.container); t(r).data(this.constructor.DATA_KEY, this), t.contains(this.element.ownerDocument.documentElement, this.tip) || t(r).appendTo(c), t(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new n(this.element, r, { placement: h, modifiers: { offset: { offset: this.config.offset }, flip: { behavior: this.config.fallbackPlacement }, arrow: { element: v }, preventOverflow: { boundariesElement: this.config.boundary } }, onCreate: function (t) { t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t) }, onUpdate: function (t) { e._handlePopperPlacementChange(t) } }), t(r).addClass(p), "ontouchstart" in document.documentElement && t("body").children().on("mouseover", null, t.noop); var u = function () { e.config.animation && e._fixTransition(); var n = e._hoverState; e._hoverState = null, t(e.element).trigger(e.constructor.Event.SHOWN), n === d && e._leave(null, e) }; P.supportsTransitionEnd() && t(this.tip).hasClass(g) ? t(this.tip).one(P.TRANSITION_END, u).emulateTransitionEnd(a._TRANSITION_DURATION) : u() } }, I.hide = function (e) { var n = this, i = this.getTipElement(), s = t.Event(this.constructor.Event.HIDE), r = function () { n._hoverState !== f && i.parentNode && i.parentNode.removeChild(i), n._cleanTipClass(), n.element.removeAttribute("aria-describedby"), t(n.element).trigger(n.constructor.Event.HIDDEN), null !== n._popper && n._popper.destroy(), e && e() }; t(this.element).trigger(s), s.isDefaultPrevented() || (t(i).removeClass(p), "ontouchstart" in document.documentElement && t("body").children().off("mouseover", null, t.noop), this._activeTrigger[y] = !1, this._activeTrigger[T] = !1, this._activeTrigger[E] = !1, P.supportsTransitionEnd() && t(this.tip).hasClass(g) ? t(i).one(P.TRANSITION_END, r).emulateTransitionEnd(150) : r(), this._hoverState = "") }, I.update = function () { null !== this._popper && this._popper.scheduleUpdate() }, I.isWithContent = function () { return Boolean(this.getTitle()) }, I.addAttachmentClass = function (e) { t(this.getTipElement()).addClass("bs-tooltip-" + e) }, I.getTipElement = function () { return this.tip = this.tip || t(this.config.template)[0], this.tip }, I.setContent = function () { var e = t(this.getTipElement()); this.setElementContent(e.find(m), this.getTitle()), e.removeClass(g + " " + p) }, I.setElementContent = function (e, n) { var i = this.config.html; "object" == typeof n && (n.nodeType || n.jquery) ? i ? t(n).parent().is(e) || e.empty().append(n) : e.text(t(n).text()) : e[i ? "html" : "text"](n) }, I.getTitle = function () { var t = this.element.getAttribute("data-original-title"); return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t }, I._getAttachment = function (t) { return c[t.toUpperCase()] }, I._setListeners = function () { var e = this; this.config.trigger.split(" ").forEach(function (n) { if ("click" === n) t(e.element).on(e.constructor.Event.CLICK, e.config.selector, function (t) { return e.toggle(t) }); else if (n !== C) { var i = n === E ? e.constructor.Event.MOUSEENTER : e.constructor.Event.FOCUSIN, s = n === E ? e.constructor.Event.MOUSELEAVE : e.constructor.Event.FOCUSOUT; t(e.element).on(i, e.config.selector, function (t) { return e._enter(t) }).on(s, e.config.selector, function (t) { return e._leave(t) }) } t(e.element).closest(".modal").on("hide.bs.modal", function () { return e.hide() }) }), this.config.selector ? this.config = r({}, this.config, { trigger: "manual", selector: "" }) : this._fixTitle() }, I._fixTitle = function () { var t = typeof this.element.getAttribute("data-original-title"); (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", "")) }, I._enter = function (e, n) { var i = this.constructor.DATA_KEY; (n = n || t(e.currentTarget).data(i)) || (n = new this.constructor(e.currentTarget, this._getDelegateConfig()), t(e.currentTarget).data(i, n)), e && (n._activeTrigger["focusin" === e.type ? T : E] = !0), t(n.getTipElement()).hasClass(p) || n._hoverState === f ? n._hoverState = f : (clearTimeout(n._timeout), n._hoverState = f, n.config.delay && n.config.delay.show ? n._timeout = setTimeout(function () { n._hoverState === f && n.show() }, n.config.delay.show) : n.show()) }, I._leave = function (e, n) { var i = this.constructor.DATA_KEY; (n = n || t(e.currentTarget).data(i)) || (n = new this.constructor(e.currentTarget, this._getDelegateConfig()), t(e.currentTarget).data(i, n)), e && (n._activeTrigger["focusout" === e.type ? T : E] = !1), n._isWithActiveTrigger() || (clearTimeout(n._timeout), n._hoverState = d, n.config.delay && n.config.delay.hide ? n._timeout = setTimeout(function () { n._hoverState === d && n.hide() }, n.config.delay.hide) : n.hide()) }, I._isWithActiveTrigger = function () { for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0; return !1 }, I._getConfig = function (n) { return "number" == typeof (n = r({}, this.constructor.Default, t(this.element).data(), n)).delay && (n.delay = { show: n.delay, hide: n.delay }), "number" == typeof n.title && (n.title = n.title.toString()), "number" == typeof n.content && (n.content = n.content.toString()), P.typeCheckConfig(e, n, this.constructor.DefaultType), n }, I._getDelegateConfig = function () { var t = {}; if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]); return t }, I._cleanTipClass = function () { var e = t(this.getTipElement()), n = e.attr("class").match(l); null !== n && n.length > 0 && e.removeClass(n.join("")) }, I._handlePopperPlacementChange = function (t) { this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement)) }, I._fixTransition = function () { var e = this.getTipElement(), n = this.config.animation; null === e.getAttribute("x-placement") && (t(e).removeClass(g), this.config.animation = !1, this.hide(), this.show(), this.config.animation = n) }, a._jQueryInterface = function (e) { return this.each(function () { var n = t(this).data(i), s = "object" == typeof e && e; if ((n || !/dispose|hide/.test(e)) && (n || (n = new a(this, s), t(this).data(i, n)), "string" == typeof e)) { if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"'); n[e]() } }) }, s(a, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return u } }, { key: "NAME", get: function () { return e } }, { key: "DATA_KEY", get: function () { return i } }, { key: "Event", get: function () { return _ } }, { key: "EVENT_KEY", get: function () { return o } }, { key: "DefaultType", get: function () { return h } }]), a }(); return t.fn[e] = I._jQueryInterface, t.fn[e].Constructor = I, t.fn[e].noConflict = function () { return t.fn[e] = a, I._jQueryInterface }, I }(e), x = function (t) { var e = "popover", n = "bs.popover", i = "." + n, o = t.fn[e], a = new RegExp("(^|\\s)bs-popover\\S+", "g"), l = r({}, U.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }), h = r({}, U.DefaultType, { content: "(string|element|function)" }), c = "fade", u = "show", f = ".popover-header", d = ".popover-body", _ = { HIDE: "hide" + i, HIDDEN: "hidden" + i, SHOW: "show" + i, SHOWN: "shown" + i, INSERTED: "inserted" + i, CLICK: "click" + i, FOCUSIN: "focusin" + i, FOCUSOUT: "focusout" + i, MOUSEENTER: "mouseenter" + i, MOUSELEAVE: "mouseleave" + i }, g = function (r) { var o, g; function p() { return r.apply(this, arguments) || this } g = r, (o = p).prototype = Object.create(g.prototype), o.prototype.constructor = o, o.__proto__ = g; var m = p.prototype; return m.isWithContent = function () { return this.getTitle() || this._getContent() }, m.addAttachmentClass = function (e) { t(this.getTipElement()).addClass("bs-popover-" + e) }, m.getTipElement = function () { return this.tip = this.tip || t(this.config.template)[0], this.tip }, m.setContent = function () { var e = t(this.getTipElement()); this.setElementContent(e.find(f), this.getTitle()); var n = this._getContent(); "function" == typeof n && (n = n.call(this.element)), this.setElementContent(e.find(d), n), e.removeClass(c + " " + u) }, m._getContent = function () { return this.element.getAttribute("data-content") || this.config.content }, m._cleanTipClass = function () { var e = t(this.getTipElement()), n = e.attr("class").match(a); null !== n && n.length > 0 && e.removeClass(n.join("")) }, p._jQueryInterface = function (e) { return this.each(function () { var i = t(this).data(n), s = "object" == typeof e ? e : null; if ((i || !/destroy|hide/.test(e)) && (i || (i = new p(this, s), t(this).data(n, i)), "string" == typeof e)) { if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"'); i[e]() } }) }, s(p, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return l } }, { key: "NAME", get: function () { return e } }, { key: "DATA_KEY", get: function () { return n } }, { key: "Event", get: function () { return _ } }, { key: "EVENT_KEY", get: function () { return i } }, { key: "DefaultType", get: function () { return h } }]), p }(U); return t.fn[e] = g._jQueryInterface, t.fn[e].Constructor = g, t.fn[e].noConflict = function () { return t.fn[e] = o, g._jQueryInterface }, g }(e), K = function (t) { var e = "scrollspy", n = "bs.scrollspy", i = "." + n, o = t.fn[e], a = { offset: 10, method: "auto", target: "" }, l = { offset: "number", method: "string", target: "(string|element)" }, h = { ACTIVATE: "activate" + i, SCROLL: "scroll" + i, LOAD_DATA_API: "load" + i + ".data-api" }, c = "dropdown-item", u = "active", f = { DATA_SPY: '[data-spy="scroll"]', ACTIVE: ".active", NAV_LIST_GROUP: ".nav, .list-group", NAV_LINKS: ".nav-link", NAV_ITEMS: ".nav-item", LIST_ITEMS: ".list-group-item", DROPDOWN: ".dropdown", DROPDOWN_ITEMS: ".dropdown-item", DROPDOWN_TOGGLE: ".dropdown-toggle" }, d = "offset", _ = "position", g = function () { function o(e, n) { var i = this; this._element = e, this._scrollElement = "BODY" === e.tagName ? window : e, this._config = this._getConfig(n), this._selector = this._config.target + " " + f.NAV_LINKS + "," + this._config.target + " " + f.LIST_ITEMS + "," + this._config.target + " " + f.DROPDOWN_ITEMS, this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, t(this._scrollElement).on(h.SCROLL, function (t) { return i._process(t) }), this.refresh(), this._process() } var g = o.prototype; return g.refresh = function () { var e = this, n = this._scrollElement === this._scrollElement.window ? d : _, i = "auto" === this._config.method ? n : this._config.method, s = i === _ ? this._getScrollTop() : 0; this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), t.makeArray(t(this._selector)).map(function (e) { var n, r = P.getSelectorFromElement(e); if (r && (n = t(r)[0]), n) { var o = n.getBoundingClientRect(); if (o.width || o.height) return [t(n)[i]().top + s, r] } return null }).filter(function (t) { return t }).sort(function (t, e) { return t[0] - e[0] }).forEach(function (t) { e._offsets.push(t[0]), e._targets.push(t[1]) }) }, g.dispose = function () { t.removeData(this._element, n), t(this._scrollElement).off(i), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null }, g._getConfig = function (n) { if ("string" != typeof (n = r({}, a, n)).target) { var i = t(n.target).attr("id"); i || (i = P.getUID(e), t(n.target).attr("id", i)), n.target = "#" + i } return P.typeCheckConfig(e, n, l), n }, g._getScrollTop = function () { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop }, g._getScrollHeight = function () { return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) }, g._getOffsetHeight = function () { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height }, g._process = function () { var t = this._getScrollTop() + this._config.offset, e = this._getScrollHeight(), n = this._config.offset + e - this._getOffsetHeight(); if (this._scrollHeight !== e && this.refresh(), t >= n) { var i = this._targets[this._targets.length - 1]; this._activeTarget !== i && this._activate(i) } else { if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return this._activeTarget = null, void this._clear(); for (var s = this._offsets.length; s--;) { this._activeTarget !== this._targets[s] && t >= this._offsets[s] && ("undefined" == typeof this._offsets[s + 1] || t < this._offsets[s + 1]) && this._activate(this._targets[s]) } } }, g._activate = function (e) { this._activeTarget = e, this._clear(); var n = this._selector.split(","); n = n.map(function (t) { return t + '[data-target="' + e + '"],' + t + '[href="' + e + '"]' }); var i = t(n.join(",")); i.hasClass(c) ? (i.closest(f.DROPDOWN).find(f.DROPDOWN_TOGGLE).addClass(u), i.addClass(u)) : (i.addClass(u), i.parents(f.NAV_LIST_GROUP).prev(f.NAV_LINKS + ", " + f.LIST_ITEMS).addClass(u), i.parents(f.NAV_LIST_GROUP).prev(f.NAV_ITEMS).children(f.NAV_LINKS).addClass(u)), t(this._scrollElement).trigger(h.ACTIVATE, { relatedTarget: e }) }, g._clear = function () { t(this._selector).filter(f.ACTIVE).removeClass(u) }, o._jQueryInterface = function (e) { return this.each(function () { var i = t(this).data(n); if (i || (i = new o(this, "object" == typeof e && e), t(this).data(n, i)), "string" == typeof e) { if ("undefined" == typeof i[e]) throw new TypeError('No method named "' + e + '"'); i[e]() } }) }, s(o, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return a } }]), o }(); return t(window).on(h.LOAD_DATA_API, function () { for (var e = t.makeArray(t(f.DATA_SPY)), n = e.length; n--;) { var i = t(e[n]); g._jQueryInterface.call(i, i.data()) } }), t.fn[e] = g._jQueryInterface, t.fn[e].Constructor = g, t.fn[e].noConflict = function () { return t.fn[e] = o, g._jQueryInterface }, g }(e), V = function (t) { var e = "bs.tab", n = "." + e, i = t.fn.tab, r = { HIDE: "hide" + n, HIDDEN: "hidden" + n, SHOW: "show" + n, SHOWN: "shown" + n, CLICK_DATA_API: "click.bs.tab.data-api" }, o = "dropdown-menu", a = "active", l = "disabled", h = "fade", c = "show", u = ".dropdown", f = ".nav, .list-group", d = ".active", _ = "> li > .active", g = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', p = ".dropdown-toggle", m = "> .dropdown-menu .active", v = function () { function n(t) { this._element = t } var i = n.prototype; return i.show = function () { var e = this; if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && t(this._element).hasClass(a) || t(this._element).hasClass(l))) { var n, i, s = t(this._element).closest(f)[0], o = P.getSelectorFromElement(this._element); if (s) { var h = "UL" === s.nodeName ? _ : d; i = (i = t.makeArray(t(s).find(h)))[i.length - 1] } var c = t.Event(r.HIDE, { relatedTarget: this._element }), u = t.Event(r.SHOW, { relatedTarget: i }); if (i && t(i).trigger(c), t(this._element).trigger(u), !u.isDefaultPrevented() && !c.isDefaultPrevented()) { o && (n = t(o)[0]), this._activate(this._element, s); var g = function () { var n = t.Event(r.HIDDEN, { relatedTarget: e._element }), s = t.Event(r.SHOWN, { relatedTarget: i }); t(i).trigger(n), t(e._element).trigger(s) }; n ? this._activate(n, n.parentNode, g) : g() } } }, i.dispose = function () { t.removeData(this._element, e), this._element = null }, i._activate = function (e, n, i) { var s = this, r = ("UL" === n.nodeName ? t(n).find(_) : t(n).children(d))[0], o = i && P.supportsTransitionEnd() && r && t(r).hasClass(h), a = function () { return s._transitionComplete(e, r, i) }; r && o ? t(r).one(P.TRANSITION_END, a).emulateTransitionEnd(150) : a() }, i._transitionComplete = function (e, n, i) { if (n) { t(n).removeClass(c + " " + a); var s = t(n.parentNode).find(m)[0]; s && t(s).removeClass(a), "tab" === n.getAttribute("role") && n.setAttribute("aria-selected", !1) } if (t(e).addClass(a), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !0), P.reflow(e), t(e).addClass(c), e.parentNode && t(e.parentNode).hasClass(o)) { var r = t(e).closest(u)[0]; r && t(r).find(p).addClass(a), e.setAttribute("aria-expanded", !0) } i && i() }, n._jQueryInterface = function (i) { return this.each(function () { var s = t(this), r = s.data(e); if (r || (r = new n(this), s.data(e, r)), "string" == typeof i) { if ("undefined" == typeof r[i]) throw new TypeError('No method named "' + i + '"'); r[i]() } }) }, s(n, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), n }(); return t(document).on(r.CLICK_DATA_API, g, function (e) { e.preventDefault(), v._jQueryInterface.call(t(this), "show") }), t.fn.tab = v._jQueryInterface, t.fn.tab.Constructor = v, t.fn.tab.noConflict = function () { return t.fn.tab = i, v._jQueryInterface }, v }(e); !function (t) { if ("undefined" == typeof t) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript."); var e = t.fn.jquery.split(" ")[0].split("."); if (e[0] < 2 && e[1] < 9 || 1 === e[0] && 9 === e[1] && e[2] < 1 || e[0] >= 4) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0") }(e), t.Util = P, t.Alert = L, t.Button = R, t.Carousel = j, t.Collapse = H, t.Dropdown = W, t.Modal = M, t.Popover = x, t.Scrollspy = K, t.Tab = V, t.Tooltip = U, Object.defineProperty(t, "__esModule", { value: !0 }) });
//# sourceMappingURL=bootstrap.min.js.map
!function (i) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], i) : "undefined" != typeof exports ? module.exports = i(require("jquery")) : i(jQuery) }(function (i) { "use strict"; var e = window.Slick || {}; (e = function () { var e = 0; return function (t, o) { var s, n = this; n.defaults = { accessibility: !0, adaptiveHeight: !1, appendArrows: i(t), appendDots: i(t), arrows: !0, asNavFor: null, prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>', nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>', autoplay: !1, autoplaySpeed: 3e3, centerMode: !1, centerPadding: "50px", cssEase: "ease", customPaging: function (e, t) { return i('<button type="button" />').text(t + 1) }, dots: !1, dotsClass: "slick-dots", draggable: !0, easing: "linear", edgeFriction: .35, fade: !1, focusOnSelect: !1, focusOnChange: !1, infinite: !0, initialSlide: 0, lazyLoad: "ondemand", mobileFirst: !1, pauseOnHover: !0, pauseOnFocus: !0, pauseOnDotsHover: !1, respondTo: "window", responsive: null, rows: 1, rtl: !1, slide: "", slidesPerRow: 1, slidesToShow: 1, slidesToScroll: 1, speed: 500, swipe: !0, swipeToSlide: !1, touchMove: !0, touchThreshold: 5, useCSS: !0, useTransform: !0, variableWidth: !1, vertical: !1, verticalSwiping: !1, waitForAnimate: !0, zIndex: 1e3 }, n.initials = { animating: !1, dragging: !1, autoPlayTimer: null, currentDirection: 0, currentLeft: null, currentSlide: 0, direction: 1, $dots: null, listWidth: null, listHeight: null, loadIndex: 0, $nextArrow: null, $prevArrow: null, scrolling: !1, slideCount: null, slideWidth: null, $slideTrack: null, $slides: null, sliding: !1, slideOffset: 0, swipeLeft: null, swiping: !1, $list: null, touchObject: {}, transformsEnabled: !1, unslicked: !1 }, i.extend(n, n.initials), n.activeBreakpoint = null, n.animType = null, n.animProp = null, n.breakpoints = [], n.breakpointSettings = [], n.cssTransitions = !1, n.focussed = !1, n.interrupted = !1, n.hidden = "hidden", n.paused = !0, n.positionProp = null, n.respondTo = null, n.rowCount = 1, n.shouldClick = !0, n.$slider = i(t), n.$slidesCache = null, n.transformType = null, n.transitionType = null, n.visibilityChange = "visibilitychange", n.windowWidth = 0, n.windowTimer = null, s = i(t).data("slick") || {}, n.options = i.extend({}, n.defaults, o, s), n.currentSlide = n.options.initialSlide, n.originalSettings = n.options, void 0 !== document.mozHidden ? (n.hidden = "mozHidden", n.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (n.hidden = "webkitHidden", n.visibilityChange = "webkitvisibilitychange"), n.autoPlay = i.proxy(n.autoPlay, n), n.autoPlayClear = i.proxy(n.autoPlayClear, n), n.autoPlayIterator = i.proxy(n.autoPlayIterator, n), n.changeSlide = i.proxy(n.changeSlide, n), n.clickHandler = i.proxy(n.clickHandler, n), n.selectHandler = i.proxy(n.selectHandler, n), n.setPosition = i.proxy(n.setPosition, n), n.swipeHandler = i.proxy(n.swipeHandler, n), n.dragHandler = i.proxy(n.dragHandler, n), n.keyHandler = i.proxy(n.keyHandler, n), n.instanceUid = e++, n.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, n.registerBreakpoints(), n.init(!0) } }()).prototype.activateADA = function () { this.$slideTrack.find(".slick-active").attr({ "aria-hidden": "false" }).find("a, input, button, select").attr({ tabindex: "0" }) }, e.prototype.addSlide = e.prototype.slickAdd = function (e, t, o) { var s = this; if ("boolean" == typeof t) o = t, t = null; else if (t < 0 || t >= s.slideCount) return !1; s.unload(), "number" == typeof t ? 0 === t && 0 === s.$slides.length ? i(e).appendTo(s.$slideTrack) : o ? i(e).insertBefore(s.$slides.eq(t)) : i(e).insertAfter(s.$slides.eq(t)) : !0 === o ? i(e).prependTo(s.$slideTrack) : i(e).appendTo(s.$slideTrack), s.$slides = s.$slideTrack.children(this.options.slide), s.$slideTrack.children(this.options.slide).detach(), s.$slideTrack.append(s.$slides), s.$slides.each(function (e, t) { i(t).attr("data-slick-index", e) }), s.$slidesCache = s.$slides, s.reinit() }, e.prototype.animateHeight = function () { var i = this; if (1 === i.options.slidesToShow && !0 === i.options.adaptiveHeight && !1 === i.options.vertical) { var e = i.$slides.eq(i.currentSlide).outerHeight(!0); i.$list.animate({ height: e }, i.options.speed) } }, e.prototype.animateSlide = function (e, t) { var o = {}, s = this; s.animateHeight(), !0 === s.options.rtl && !1 === s.options.vertical && (e = -e), !1 === s.transformsEnabled ? !1 === s.options.vertical ? s.$slideTrack.animate({ left: e }, s.options.speed, s.options.easing, t) : s.$slideTrack.animate({ top: e }, s.options.speed, s.options.easing, t) : !1 === s.cssTransitions ? (!0 === s.options.rtl && (s.currentLeft = -s.currentLeft), i({ animStart: s.currentLeft }).animate({ animStart: e }, { duration: s.options.speed, easing: s.options.easing, step: function (i) { i = Math.ceil(i), !1 === s.options.vertical ? (o[s.animType] = "translate(" + i + "px, 0px)", s.$slideTrack.css(o)) : (o[s.animType] = "translate(0px," + i + "px)", s.$slideTrack.css(o)) }, complete: function () { t && t.call() } })) : (s.applyTransition(), e = Math.ceil(e), !1 === s.options.vertical ? o[s.animType] = "translate3d(" + e + "px, 0px, 0px)" : o[s.animType] = "translate3d(0px," + e + "px, 0px)", s.$slideTrack.css(o), t && setTimeout(function () { s.disableTransition(), t.call() }, s.options.speed)) }, e.prototype.getNavTarget = function () { var e = this, t = e.options.asNavFor; return t && null !== t && (t = i(t).not(e.$slider)), t }, e.prototype.asNavFor = function (e) { var t = this.getNavTarget(); null !== t && "object" == typeof t && t.each(function () { var t = i(this).slick("getSlick"); t.unslicked || t.slideHandler(e, !0) }) }, e.prototype.applyTransition = function (i) { var e = this, t = {}; !1 === e.options.fade ? t[e.transitionType] = e.transformType + " " + e.options.speed + "ms " + e.options.cssEase : t[e.transitionType] = "opacity " + e.options.speed + "ms " + e.options.cssEase, !1 === e.options.fade ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t) }, e.prototype.autoPlay = function () { var i = this; i.autoPlayClear(), i.slideCount > i.options.slidesToShow && (i.autoPlayTimer = setInterval(i.autoPlayIterator, i.options.autoplaySpeed)) }, e.prototype.autoPlayClear = function () { var i = this; i.autoPlayTimer && clearInterval(i.autoPlayTimer) }, e.prototype.autoPlayIterator = function () { var i = this, e = i.currentSlide + i.options.slidesToScroll; i.paused || i.interrupted || i.focussed || (!1 === i.options.infinite && (1 === i.direction && i.currentSlide + 1 === i.slideCount - 1 ? i.direction = 0 : 0 === i.direction && (e = i.currentSlide - i.options.slidesToScroll, i.currentSlide - 1 == 0 && (i.direction = 1))), i.slideHandler(e)) }, e.prototype.buildArrows = function () { var e = this; !0 === e.options.arrows && (e.$prevArrow = i(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = i(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), !0 !== e.options.infinite && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({ "aria-disabled": "true", tabindex: "-1" })) }, e.prototype.buildDots = function () { var e, t, o = this; if (!0 === o.options.dots) { for (o.$slider.addClass("slick-dotted"), t = i("<ul />").addClass(o.options.dotsClass), e = 0; e <= o.getDotCount(); e += 1)t.append(i("<li />").append(o.options.customPaging.call(this, o, e))); o.$dots = t.appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active") } }, e.prototype.buildOut = function () { var e = this; e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function (e, t) { i(t).attr("data-slick-index", e).data("originalStyling", i(t).attr("style") || "") }), e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? i('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), !0 !== e.options.centerMode && !0 !== e.options.swipeToSlide || (e.options.slidesToScroll = 1), i("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), !0 === e.options.draggable && e.$list.addClass("draggable") }, e.prototype.buildRows = function () { var i, e, t, o, s, n, r, l = this; if (o = document.createDocumentFragment(), n = l.$slider.children(), l.options.rows > 1) { for (r = l.options.slidesPerRow * l.options.rows, s = Math.ceil(n.length / r), i = 0; i < s; i++) { var d = document.createElement("div"); for (e = 0; e < l.options.rows; e++) { var a = document.createElement("div"); for (t = 0; t < l.options.slidesPerRow; t++) { var c = i * r + (e * l.options.slidesPerRow + t); n.get(c) && a.appendChild(n.get(c)) } d.appendChild(a) } o.appendChild(d) } l.$slider.empty().append(o), l.$slider.children().children().children().css({ width: 100 / l.options.slidesPerRow + "%", display: "inline-block" }) } }, e.prototype.checkResponsive = function (e, t) { var o, s, n, r = this, l = !1, d = r.$slider.width(), a = window.innerWidth || i(window).width(); if ("window" === r.respondTo ? n = a : "slider" === r.respondTo ? n = d : "min" === r.respondTo && (n = Math.min(a, d)), r.options.responsive && r.options.responsive.length && null !== r.options.responsive) { s = null; for (o in r.breakpoints) r.breakpoints.hasOwnProperty(o) && (!1 === r.originalSettings.mobileFirst ? n < r.breakpoints[o] && (s = r.breakpoints[o]) : n > r.breakpoints[o] && (s = r.breakpoints[o])); null !== s ? null !== r.activeBreakpoint ? (s !== r.activeBreakpoint || t) && (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), !0 === e && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), !0 === e && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : null !== r.activeBreakpoint && (r.activeBreakpoint = null, r.options = r.originalSettings, !0 === e && (r.currentSlide = r.options.initialSlide), r.refresh(e), l = s), e || !1 === l || r.$slider.trigger("breakpoint", [r, l]) } }, e.prototype.changeSlide = function (e, t) { var o, s, n, r = this, l = i(e.currentTarget); switch (l.is("a") && e.preventDefault(), l.is("li") || (l = l.closest("li")), n = r.slideCount % r.options.slidesToScroll != 0, o = n ? 0 : (r.slideCount - r.currentSlide) % r.options.slidesToScroll, e.data.message) { case "previous": s = 0 === o ? r.options.slidesToScroll : r.options.slidesToShow - o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide - s, !1, t); break; case "next": s = 0 === o ? r.options.slidesToScroll : o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide + s, !1, t); break; case "index": var d = 0 === e.data.index ? 0 : e.data.index || l.index() * r.options.slidesToScroll; r.slideHandler(r.checkNavigable(d), !1, t), l.children().trigger("focus"); break; default: return } }, e.prototype.checkNavigable = function (i) { var e, t; if (e = this.getNavigableIndexes(), t = 0, i > e[e.length - 1]) i = e[e.length - 1]; else for (var o in e) { if (i < e[o]) { i = t; break } t = e[o] } return i }, e.prototype.cleanUpEvents = function () { var e = this; e.options.dots && null !== e.$dots && (i("li", e.$dots).off("click.slick", e.changeSlide).off("mouseenter.slick", i.proxy(e.interrupt, e, !0)).off("mouseleave.slick", i.proxy(e.interrupt, e, !1)), !0 === e.options.accessibility && e.$dots.off("keydown.slick", e.keyHandler)), e.$slider.off("focus.slick blur.slick"), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow && e.$nextArrow.off("click.slick", e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow && e.$prevArrow.off("keydown.slick", e.keyHandler), e.$nextArrow && e.$nextArrow.off("keydown.slick", e.keyHandler))), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), i(document).off(e.visibilityChange, e.visibility), e.cleanUpSlideEvents(), !0 === e.options.accessibility && e.$list.off("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && i(e.$slideTrack).children().off("click.slick", e.selectHandler), i(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), i(window).off("resize.slick.slick-" + e.instanceUid, e.resize), i("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), i(window).off("load.slick.slick-" + e.instanceUid, e.setPosition) }, e.prototype.cleanUpSlideEvents = function () { var e = this; e.$list.off("mouseenter.slick", i.proxy(e.interrupt, e, !0)), e.$list.off("mouseleave.slick", i.proxy(e.interrupt, e, !1)) }, e.prototype.cleanUpRows = function () { var i, e = this; e.options.rows > 1 && ((i = e.$slides.children().children()).removeAttr("style"), e.$slider.empty().append(i)) }, e.prototype.clickHandler = function (i) { !1 === this.shouldClick && (i.stopImmediatePropagation(), i.stopPropagation(), i.preventDefault()) }, e.prototype.destroy = function (e) { var t = this; t.autoPlayClear(), t.touchObject = {}, t.cleanUpEvents(), i(".slick-cloned", t.$slider).detach(), t.$dots && t.$dots.remove(), t.$prevArrow && t.$prevArrow.length && (t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove()), t.$nextArrow && t.$nextArrow.length && (t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove()), t.$slides && (t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function () { i(this).attr("style", i(this).data("originalStyling")) }), t.$slideTrack.children(this.options.slide).detach(), t.$slideTrack.detach(), t.$list.detach(), t.$slider.append(t.$slides)), t.cleanUpRows(), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.$slider.removeClass("slick-dotted"), t.unslicked = !0, e || t.$slider.trigger("destroy", [t]) }, e.prototype.disableTransition = function (i) { var e = this, t = {}; t[e.transitionType] = "", !1 === e.options.fade ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t) }, e.prototype.fadeSlide = function (i, e) { var t = this; !1 === t.cssTransitions ? (t.$slides.eq(i).css({ zIndex: t.options.zIndex }), t.$slides.eq(i).animate({ opacity: 1 }, t.options.speed, t.options.easing, e)) : (t.applyTransition(i), t.$slides.eq(i).css({ opacity: 1, zIndex: t.options.zIndex }), e && setTimeout(function () { t.disableTransition(i), e.call() }, t.options.speed)) }, e.prototype.fadeSlideOut = function (i) { var e = this; !1 === e.cssTransitions ? e.$slides.eq(i).animate({ opacity: 0, zIndex: e.options.zIndex - 2 }, e.options.speed, e.options.easing) : (e.applyTransition(i), e.$slides.eq(i).css({ opacity: 0, zIndex: e.options.zIndex - 2 })) }, e.prototype.filterSlides = e.prototype.slickFilter = function (i) { var e = this; null !== i && (e.$slidesCache = e.$slides, e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.filter(i).appendTo(e.$slideTrack), e.reinit()) }, e.prototype.focusHandler = function () { var e = this; e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function (t) { t.stopImmediatePropagation(); var o = i(this); setTimeout(function () { e.options.pauseOnFocus && (e.focussed = o.is(":focus"), e.autoPlay()) }, 0) }) }, e.prototype.getCurrent = e.prototype.slickCurrentSlide = function () { return this.currentSlide }, e.prototype.getDotCount = function () { var i = this, e = 0, t = 0, o = 0; if (!0 === i.options.infinite) if (i.slideCount <= i.options.slidesToShow) ++o; else for (; e < i.slideCount;)++o, e = t + i.options.slidesToScroll, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow; else if (!0 === i.options.centerMode) o = i.slideCount; else if (i.options.asNavFor) for (; e < i.slideCount;)++o, e = t + i.options.slidesToScroll, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow; else o = 1 + Math.ceil((i.slideCount - i.options.slidesToShow) / i.options.slidesToScroll); return o - 1 }, e.prototype.getLeft = function (i) { var e, t, o, s, n = this, r = 0; return n.slideOffset = 0, t = n.$slides.first().outerHeight(!0), !0 === n.options.infinite ? (n.slideCount > n.options.slidesToShow && (n.slideOffset = n.slideWidth * n.options.slidesToShow * -1, s = -1, !0 === n.options.vertical && !0 === n.options.centerMode && (2 === n.options.slidesToShow ? s = -1.5 : 1 === n.options.slidesToShow && (s = -2)), r = t * n.options.slidesToShow * s), n.slideCount % n.options.slidesToScroll != 0 && i + n.options.slidesToScroll > n.slideCount && n.slideCount > n.options.slidesToShow && (i > n.slideCount ? (n.slideOffset = (n.options.slidesToShow - (i - n.slideCount)) * n.slideWidth * -1, r = (n.options.slidesToShow - (i - n.slideCount)) * t * -1) : (n.slideOffset = n.slideCount % n.options.slidesToScroll * n.slideWidth * -1, r = n.slideCount % n.options.slidesToScroll * t * -1))) : i + n.options.slidesToShow > n.slideCount && (n.slideOffset = (i + n.options.slidesToShow - n.slideCount) * n.slideWidth, r = (i + n.options.slidesToShow - n.slideCount) * t), n.slideCount <= n.options.slidesToShow && (n.slideOffset = 0, r = 0), !0 === n.options.centerMode && n.slideCount <= n.options.slidesToShow ? n.slideOffset = n.slideWidth * Math.floor(n.options.slidesToShow) / 2 - n.slideWidth * n.slideCount / 2 : !0 === n.options.centerMode && !0 === n.options.infinite ? n.slideOffset += n.slideWidth * Math.floor(n.options.slidesToShow / 2) - n.slideWidth : !0 === n.options.centerMode && (n.slideOffset = 0, n.slideOffset += n.slideWidth * Math.floor(n.options.slidesToShow / 2)), e = !1 === n.options.vertical ? i * n.slideWidth * -1 + n.slideOffset : i * t * -1 + r, !0 === n.options.variableWidth && (o = n.slideCount <= n.options.slidesToShow || !1 === n.options.infinite ? n.$slideTrack.children(".slick-slide").eq(i) : n.$slideTrack.children(".slick-slide").eq(i + n.options.slidesToShow), e = !0 === n.options.rtl ? o[0] ? -1 * (n.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, !0 === n.options.centerMode && (o = n.slideCount <= n.options.slidesToShow || !1 === n.options.infinite ? n.$slideTrack.children(".slick-slide").eq(i) : n.$slideTrack.children(".slick-slide").eq(i + n.options.slidesToShow + 1), e = !0 === n.options.rtl ? o[0] ? -1 * (n.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, e += (n.$list.width() - o.outerWidth()) / 2)), e }, e.prototype.getOption = e.prototype.slickGetOption = function (i) { return this.options[i] }, e.prototype.getNavigableIndexes = function () { var i, e = this, t = 0, o = 0, s = []; for (!1 === e.options.infinite ? i = e.slideCount : (t = -1 * e.options.slidesToScroll, o = -1 * e.options.slidesToScroll, i = 2 * e.slideCount); t < i;)s.push(t), t = o + e.options.slidesToScroll, o += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow; return s }, e.prototype.getSlick = function () { return this }, e.prototype.getSlideCount = function () { var e, t, o = this; return t = !0 === o.options.centerMode ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) : 0, !0 === o.options.swipeToSlide ? (o.$slideTrack.find(".slick-slide").each(function (s, n) { if (n.offsetLeft - t + i(n).outerWidth() / 2 > -1 * o.swipeLeft) return e = n, !1 }), Math.abs(i(e).attr("data-slick-index") - o.currentSlide) || 1) : o.options.slidesToScroll }, e.prototype.goTo = e.prototype.slickGoTo = function (i, e) { this.changeSlide({ data: { message: "index", index: parseInt(i) } }, e) }, e.prototype.init = function (e) { var t = this; i(t.$slider).hasClass("slick-initialized") || (i(t.$slider).addClass("slick-initialized"), t.buildRows(), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots(), t.checkResponsive(!0), t.focusHandler()), e && t.$slider.trigger("init", [t]), !0 === t.options.accessibility && t.initADA(), t.options.autoplay && (t.paused = !1, t.autoPlay()) }, e.prototype.initADA = function () { var e = this, t = Math.ceil(e.slideCount / e.options.slidesToShow), o = e.getNavigableIndexes().filter(function (i) { return i >= 0 && i < e.slideCount }); e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({ "aria-hidden": "true", tabindex: "-1" }).find("a, input, button, select").attr({ tabindex: "-1" }), null !== e.$dots && (e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function (t) { var s = o.indexOf(t); i(this).attr({ role: "tabpanel", id: "slick-slide" + e.instanceUid + t, tabindex: -1 }), -1 !== s && i(this).attr({ "aria-describedby": "slick-slide-control" + e.instanceUid + s }) }), e.$dots.attr("role", "tablist").find("li").each(function (s) { var n = o[s]; i(this).attr({ role: "presentation" }), i(this).find("button").first().attr({ role: "tab", id: "slick-slide-control" + e.instanceUid + s, "aria-controls": "slick-slide" + e.instanceUid + n, "aria-label": s + 1 + " of " + t, "aria-selected": null, tabindex: "-1" }) }).eq(e.currentSlide).find("button").attr({ "aria-selected": "true", tabindex: "0" }).end()); for (var s = e.currentSlide, n = s + e.options.slidesToShow; s < n; s++)e.$slides.eq(s).attr("tabindex", 0); e.activateADA() }, e.prototype.initArrowEvents = function () { var i = this; !0 === i.options.arrows && i.slideCount > i.options.slidesToShow && (i.$prevArrow.off("click.slick").on("click.slick", { message: "previous" }, i.changeSlide), i.$nextArrow.off("click.slick").on("click.slick", { message: "next" }, i.changeSlide), !0 === i.options.accessibility && (i.$prevArrow.on("keydown.slick", i.keyHandler), i.$nextArrow.on("keydown.slick", i.keyHandler))) }, e.prototype.initDotEvents = function () { var e = this; !0 === e.options.dots && (i("li", e.$dots).on("click.slick", { message: "index" }, e.changeSlide), !0 === e.options.accessibility && e.$dots.on("keydown.slick", e.keyHandler)), !0 === e.options.dots && !0 === e.options.pauseOnDotsHover && i("li", e.$dots).on("mouseenter.slick", i.proxy(e.interrupt, e, !0)).on("mouseleave.slick", i.proxy(e.interrupt, e, !1)) }, e.prototype.initSlideEvents = function () { var e = this; e.options.pauseOnHover && (e.$list.on("mouseenter.slick", i.proxy(e.interrupt, e, !0)), e.$list.on("mouseleave.slick", i.proxy(e.interrupt, e, !1))) }, e.prototype.initializeEvents = function () { var e = this; e.initArrowEvents(), e.initDotEvents(), e.initSlideEvents(), e.$list.on("touchstart.slick mousedown.slick", { action: "start" }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", { action: "move" }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", { action: "end" }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", { action: "end" }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), i(document).on(e.visibilityChange, i.proxy(e.visibility, e)), !0 === e.options.accessibility && e.$list.on("keydown.slick", e.keyHandler), !0 === e.options.focusOnSelect && i(e.$slideTrack).children().on("click.slick", e.selectHandler), i(window).on("orientationchange.slick.slick-" + e.instanceUid, i.proxy(e.orientationChange, e)), i(window).on("resize.slick.slick-" + e.instanceUid, i.proxy(e.resize, e)), i("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), i(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), i(e.setPosition) }, e.prototype.initUI = function () { var i = this; !0 === i.options.arrows && i.slideCount > i.options.slidesToShow && (i.$prevArrow.show(), i.$nextArrow.show()), !0 === i.options.dots && i.slideCount > i.options.slidesToShow && i.$dots.show() }, e.prototype.keyHandler = function (i) { var e = this; i.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === i.keyCode && !0 === e.options.accessibility ? e.changeSlide({ data: { message: !0 === e.options.rtl ? "next" : "previous" } }) : 39 === i.keyCode && !0 === e.options.accessibility && e.changeSlide({ data: { message: !0 === e.options.rtl ? "previous" : "next" } })) }, e.prototype.lazyLoad = function () { function e(e) { i("img[data-lazy]", e).each(function () { var e = i(this), t = i(this).attr("data-lazy"), o = i(this).attr("data-srcset"), s = i(this).attr("data-sizes") || n.$slider.attr("data-sizes"), r = document.createElement("img"); r.onload = function () { e.animate({ opacity: 0 }, 100, function () { o && (e.attr("srcset", o), s && e.attr("sizes", s)), e.attr("src", t).animate({ opacity: 1 }, 200, function () { e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading") }), n.$slider.trigger("lazyLoaded", [n, e, t]) }) }, r.onerror = function () { e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), n.$slider.trigger("lazyLoadError", [n, e, t]) }, r.src = t }) } var t, o, s, n = this; if (!0 === n.options.centerMode ? !0 === n.options.infinite ? s = (o = n.currentSlide + (n.options.slidesToShow / 2 + 1)) + n.options.slidesToShow + 2 : (o = Math.max(0, n.currentSlide - (n.options.slidesToShow / 2 + 1)), s = n.options.slidesToShow / 2 + 1 + 2 + n.currentSlide) : (o = n.options.infinite ? n.options.slidesToShow + n.currentSlide : n.currentSlide, s = Math.ceil(o + n.options.slidesToShow), !0 === n.options.fade && (o > 0 && o--, s <= n.slideCount && s++)), t = n.$slider.find(".slick-slide").slice(o, s), "anticipated" === n.options.lazyLoad) for (var r = o - 1, l = s, d = n.$slider.find(".slick-slide"), a = 0; a < n.options.slidesToScroll; a++)r < 0 && (r = n.slideCount - 1), t = (t = t.add(d.eq(r))).add(d.eq(l)), r--, l++; e(t), n.slideCount <= n.options.slidesToShow ? e(n.$slider.find(".slick-slide")) : n.currentSlide >= n.slideCount - n.options.slidesToShow ? e(n.$slider.find(".slick-cloned").slice(0, n.options.slidesToShow)) : 0 === n.currentSlide && e(n.$slider.find(".slick-cloned").slice(-1 * n.options.slidesToShow)) }, e.prototype.loadSlider = function () { var i = this; i.setPosition(), i.$slideTrack.css({ opacity: 1 }), i.$slider.removeClass("slick-loading"), i.initUI(), "progressive" === i.options.lazyLoad && i.progressiveLazyLoad() }, e.prototype.next = e.prototype.slickNext = function () { this.changeSlide({ data: { message: "next" } }) }, e.prototype.orientationChange = function () { var i = this; i.checkResponsive(), i.setPosition() }, e.prototype.pause = e.prototype.slickPause = function () { var i = this; i.autoPlayClear(), i.paused = !0 }, e.prototype.play = e.prototype.slickPlay = function () { var i = this; i.autoPlay(), i.options.autoplay = !0, i.paused = !1, i.focussed = !1, i.interrupted = !1 }, e.prototype.postSlide = function (e) { var t = this; t.unslicked || (t.$slider.trigger("afterChange", [t, e]), t.animating = !1, t.slideCount > t.options.slidesToShow && t.setPosition(), t.swipeLeft = null, t.options.autoplay && t.autoPlay(), !0 === t.options.accessibility && (t.initADA(), t.options.focusOnChange && i(t.$slides.get(t.currentSlide)).attr("tabindex", 0).focus())) }, e.prototype.prev = e.prototype.slickPrev = function () { this.changeSlide({ data: { message: "previous" } }) }, e.prototype.preventDefault = function (i) { i.preventDefault() }, e.prototype.progressiveLazyLoad = function (e) { e = e || 1; var t, o, s, n, r, l = this, d = i("img[data-lazy]", l.$slider); d.length ? (t = d.first(), o = t.attr("data-lazy"), s = t.attr("data-srcset"), n = t.attr("data-sizes") || l.$slider.attr("data-sizes"), (r = document.createElement("img")).onload = function () { s && (t.attr("srcset", s), n && t.attr("sizes", n)), t.attr("src", o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === l.options.adaptiveHeight && l.setPosition(), l.$slider.trigger("lazyLoaded", [l, t, o]), l.progressiveLazyLoad() }, r.onerror = function () { e < 3 ? setTimeout(function () { l.progressiveLazyLoad(e + 1) }, 500) : (t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), l.$slider.trigger("lazyLoadError", [l, t, o]), l.progressiveLazyLoad()) }, r.src = o) : l.$slider.trigger("allImagesLoaded", [l]) }, e.prototype.refresh = function (e) { var t, o, s = this; o = s.slideCount - s.options.slidesToShow, !s.options.infinite && s.currentSlide > o && (s.currentSlide = o), s.slideCount <= s.options.slidesToShow && (s.currentSlide = 0), t = s.currentSlide, s.destroy(!0), i.extend(s, s.initials, { currentSlide: t }), s.init(), e || s.changeSlide({ data: { message: "index", index: t } }, !1) }, e.prototype.registerBreakpoints = function () { var e, t, o, s = this, n = s.options.responsive || null; if ("array" === i.type(n) && n.length) { s.respondTo = s.options.respondTo || "window"; for (e in n) if (o = s.breakpoints.length - 1, n.hasOwnProperty(e)) { for (t = n[e].breakpoint; o >= 0;)s.breakpoints[o] && s.breakpoints[o] === t && s.breakpoints.splice(o, 1), o--; s.breakpoints.push(t), s.breakpointSettings[t] = n[e].settings } s.breakpoints.sort(function (i, e) { return s.options.mobileFirst ? i - e : e - i }) } }, e.prototype.reinit = function () { var e = this; e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.cleanUpSlideEvents(), e.initSlideEvents(), e.checkResponsive(!1, !0), !0 === e.options.focusOnSelect && i(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), e.setPosition(), e.focusHandler(), e.paused = !e.options.autoplay, e.autoPlay(), e.$slider.trigger("reInit", [e]) }, e.prototype.resize = function () { var e = this; i(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout(function () { e.windowWidth = i(window).width(), e.checkResponsive(), e.unslicked || e.setPosition() }, 50)) }, e.prototype.removeSlide = e.prototype.slickRemove = function (i, e, t) { var o = this; if (i = "boolean" == typeof i ? !0 === (e = i) ? 0 : o.slideCount - 1 : !0 === e ? --i : i, o.slideCount < 1 || i < 0 || i > o.slideCount - 1) return !1; o.unload(), !0 === t ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(i).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, o.reinit() }, e.prototype.setCSS = function (i) { var e, t, o = this, s = {}; !0 === o.options.rtl && (i = -i), e = "left" == o.positionProp ? Math.ceil(i) + "px" : "0px", t = "top" == o.positionProp ? Math.ceil(i) + "px" : "0px", s[o.positionProp] = i, !1 === o.transformsEnabled ? o.$slideTrack.css(s) : (s = {}, !1 === o.cssTransitions ? (s[o.animType] = "translate(" + e + ", " + t + ")", o.$slideTrack.css(s)) : (s[o.animType] = "translate3d(" + e + ", " + t + ", 0px)", o.$slideTrack.css(s))) }, e.prototype.setDimensions = function () { var i = this; !1 === i.options.vertical ? !0 === i.options.centerMode && i.$list.css({ padding: "0px " + i.options.centerPadding }) : (i.$list.height(i.$slides.first().outerHeight(!0) * i.options.slidesToShow), !0 === i.options.centerMode && i.$list.css({ padding: i.options.centerPadding + " 0px" })), i.listWidth = i.$list.width(), i.listHeight = i.$list.height(), !1 === i.options.vertical && !1 === i.options.variableWidth ? (i.slideWidth = Math.ceil(i.listWidth / i.options.slidesToShow), i.$slideTrack.width(Math.ceil(i.slideWidth * i.$slideTrack.children(".slick-slide").length))) : !0 === i.options.variableWidth ? i.$slideTrack.width(5e3 * i.slideCount) : (i.slideWidth = Math.ceil(i.listWidth), i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0) * i.$slideTrack.children(".slick-slide").length))); var e = i.$slides.first().outerWidth(!0) - i.$slides.first().width(); !1 === i.options.variableWidth && i.$slideTrack.children(".slick-slide").width(i.slideWidth - e) }, e.prototype.setFade = function () { var e, t = this; t.$slides.each(function (o, s) { e = t.slideWidth * o * -1, !0 === t.options.rtl ? i(s).css({ position: "relative", right: e, top: 0, zIndex: t.options.zIndex - 2, opacity: 0 }) : i(s).css({ position: "relative", left: e, top: 0, zIndex: t.options.zIndex - 2, opacity: 0 }) }), t.$slides.eq(t.currentSlide).css({ zIndex: t.options.zIndex - 1, opacity: 1 }) }, e.prototype.setHeight = function () { var i = this; if (1 === i.options.slidesToShow && !0 === i.options.adaptiveHeight && !1 === i.options.vertical) { var e = i.$slides.eq(i.currentSlide).outerHeight(!0); i.$list.css("height", e) } }, e.prototype.setOption = e.prototype.slickSetOption = function () { var e, t, o, s, n, r = this, l = !1; if ("object" === i.type(arguments[0]) ? (o = arguments[0], l = arguments[1], n = "multiple") : "string" === i.type(arguments[0]) && (o = arguments[0], s = arguments[1], l = arguments[2], "responsive" === arguments[0] && "array" === i.type(arguments[1]) ? n = "responsive" : void 0 !== arguments[1] && (n = "single")), "single" === n) r.options[o] = s; else if ("multiple" === n) i.each(o, function (i, e) { r.options[i] = e }); else if ("responsive" === n) for (t in s) if ("array" !== i.type(r.options.responsive)) r.options.responsive = [s[t]]; else { for (e = r.options.responsive.length - 1; e >= 0;)r.options.responsive[e].breakpoint === s[t].breakpoint && r.options.responsive.splice(e, 1), e--; r.options.responsive.push(s[t]) } l && (r.unload(), r.reinit()) }, e.prototype.setPosition = function () { var i = this; i.setDimensions(), i.setHeight(), !1 === i.options.fade ? i.setCSS(i.getLeft(i.currentSlide)) : i.setFade(), i.$slider.trigger("setPosition", [i]) }, e.prototype.setProps = function () { var i = this, e = document.body.style; i.positionProp = !0 === i.options.vertical ? "top" : "left", "top" === i.positionProp ? i.$slider.addClass("slick-vertical") : i.$slider.removeClass("slick-vertical"), void 0 === e.WebkitTransition && void 0 === e.MozTransition && void 0 === e.msTransition || !0 === i.options.useCSS && (i.cssTransitions = !0), i.options.fade && ("number" == typeof i.options.zIndex ? i.options.zIndex < 3 && (i.options.zIndex = 3) : i.options.zIndex = i.defaults.zIndex), void 0 !== e.OTransform && (i.animType = "OTransform", i.transformType = "-o-transform", i.transitionType = "OTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.MozTransform && (i.animType = "MozTransform", i.transformType = "-moz-transform", i.transitionType = "MozTransition", void 0 === e.perspectiveProperty && void 0 === e.MozPerspective && (i.animType = !1)), void 0 !== e.webkitTransform && (i.animType = "webkitTransform", i.transformType = "-webkit-transform", i.transitionType = "webkitTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.msTransform && (i.animType = "msTransform", i.transformType = "-ms-transform", i.transitionType = "msTransition", void 0 === e.msTransform && (i.animType = !1)), void 0 !== e.transform && !1 !== i.animType && (i.animType = "transform", i.transformType = "transform", i.transitionType = "transition"), i.transformsEnabled = i.options.useTransform && null !== i.animType && !1 !== i.animType }, e.prototype.setSlideClasses = function (i) { var e, t, o, s, n = this; if (t = n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), n.$slides.eq(i).addClass("slick-current"), !0 === n.options.centerMode) { var r = n.options.slidesToShow % 2 == 0 ? 1 : 0; e = Math.floor(n.options.slidesToShow / 2), !0 === n.options.infinite && (i >= e && i <= n.slideCount - 1 - e ? n.$slides.slice(i - e + r, i + e + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = n.options.slidesToShow + i, t.slice(o - e + 1 + r, o + e + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === i ? t.eq(t.length - 1 - n.options.slidesToShow).addClass("slick-center") : i === n.slideCount - 1 && t.eq(n.options.slidesToShow).addClass("slick-center")), n.$slides.eq(i).addClass("slick-center") } else i >= 0 && i <= n.slideCount - n.options.slidesToShow ? n.$slides.slice(i, i + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : t.length <= n.options.slidesToShow ? t.addClass("slick-active").attr("aria-hidden", "false") : (s = n.slideCount % n.options.slidesToShow, o = !0 === n.options.infinite ? n.options.slidesToShow + i : i, n.options.slidesToShow == n.options.slidesToScroll && n.slideCount - i < n.options.slidesToShow ? t.slice(o - (n.options.slidesToShow - s), o + s).addClass("slick-active").attr("aria-hidden", "false") : t.slice(o, o + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")); "ondemand" !== n.options.lazyLoad && "anticipated" !== n.options.lazyLoad || n.lazyLoad() }, e.prototype.setupInfinite = function () { var e, t, o, s = this; if (!0 === s.options.fade && (s.options.centerMode = !1), !0 === s.options.infinite && !1 === s.options.fade && (t = null, s.slideCount > s.options.slidesToShow)) { for (o = !0 === s.options.centerMode ? s.options.slidesToShow + 1 : s.options.slidesToShow, e = s.slideCount; e > s.slideCount - o; e -= 1)t = e - 1, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t - s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned"); for (e = 0; e < o + s.slideCount; e += 1)t = e, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t + s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned"); s.$slideTrack.find(".slick-cloned").find("[id]").each(function () { i(this).attr("id", "") }) } }, e.prototype.interrupt = function (i) { var e = this; i || e.autoPlay(), e.interrupted = i }, e.prototype.selectHandler = function (e) { var t = this, o = i(e.target).is(".slick-slide") ? i(e.target) : i(e.target).parents(".slick-slide"), s = parseInt(o.attr("data-slick-index")); s || (s = 0), t.slideCount <= t.options.slidesToShow ? t.slideHandler(s, !1, !0) : t.slideHandler(s) }, e.prototype.slideHandler = function (i, e, t) { var o, s, n, r, l, d = null, a = this; if (e = e || !1, !(!0 === a.animating && !0 === a.options.waitForAnimate || !0 === a.options.fade && a.currentSlide === i)) if (!1 === e && a.asNavFor(i), o = i, d = a.getLeft(o), r = a.getLeft(a.currentSlide), a.currentLeft = null === a.swipeLeft ? r : a.swipeLeft, !1 === a.options.infinite && !1 === a.options.centerMode && (i < 0 || i > a.getDotCount() * a.options.slidesToScroll)) !1 === a.options.fade && (o = a.currentSlide, !0 !== t ? a.animateSlide(r, function () { a.postSlide(o) }) : a.postSlide(o)); else if (!1 === a.options.infinite && !0 === a.options.centerMode && (i < 0 || i > a.slideCount - a.options.slidesToScroll)) !1 === a.options.fade && (o = a.currentSlide, !0 !== t ? a.animateSlide(r, function () { a.postSlide(o) }) : a.postSlide(o)); else { if (a.options.autoplay && clearInterval(a.autoPlayTimer), s = o < 0 ? a.slideCount % a.options.slidesToScroll != 0 ? a.slideCount - a.slideCount % a.options.slidesToScroll : a.slideCount + o : o >= a.slideCount ? a.slideCount % a.options.slidesToScroll != 0 ? 0 : o - a.slideCount : o, a.animating = !0, a.$slider.trigger("beforeChange", [a, a.currentSlide, s]), n = a.currentSlide, a.currentSlide = s, a.setSlideClasses(a.currentSlide), a.options.asNavFor && (l = (l = a.getNavTarget()).slick("getSlick")).slideCount <= l.options.slidesToShow && l.setSlideClasses(a.currentSlide), a.updateDots(), a.updateArrows(), !0 === a.options.fade) return !0 !== t ? (a.fadeSlideOut(n), a.fadeSlide(s, function () { a.postSlide(s) })) : a.postSlide(s), void a.animateHeight(); !0 !== t ? a.animateSlide(d, function () { a.postSlide(s) }) : a.postSlide(s) } }, e.prototype.startLoad = function () { var i = this; !0 === i.options.arrows && i.slideCount > i.options.slidesToShow && (i.$prevArrow.hide(), i.$nextArrow.hide()), !0 === i.options.dots && i.slideCount > i.options.slidesToShow && i.$dots.hide(), i.$slider.addClass("slick-loading") }, e.prototype.swipeDirection = function () { var i, e, t, o, s = this; return i = s.touchObject.startX - s.touchObject.curX, e = s.touchObject.startY - s.touchObject.curY, t = Math.atan2(e, i), (o = Math.round(180 * t / Math.PI)) < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? !1 === s.options.rtl ? "left" : "right" : o <= 360 && o >= 315 ? !1 === s.options.rtl ? "left" : "right" : o >= 135 && o <= 225 ? !1 === s.options.rtl ? "right" : "left" : !0 === s.options.verticalSwiping ? o >= 35 && o <= 135 ? "down" : "up" : "vertical" }, e.prototype.swipeEnd = function (i) { var e, t, o = this; if (o.dragging = !1, o.swiping = !1, o.scrolling) return o.scrolling = !1, !1; if (o.interrupted = !1, o.shouldClick = !(o.touchObject.swipeLength > 10), void 0 === o.touchObject.curX) return !1; if (!0 === o.touchObject.edgeHit && o.$slider.trigger("edge", [o, o.swipeDirection()]), o.touchObject.swipeLength >= o.touchObject.minSwipe) { switch (t = o.swipeDirection()) { case "left": case "down": e = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide + o.getSlideCount()) : o.currentSlide + o.getSlideCount(), o.currentDirection = 0; break; case "right": case "up": e = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide - o.getSlideCount()) : o.currentSlide - o.getSlideCount(), o.currentDirection = 1 }"vertical" != t && (o.slideHandler(e), o.touchObject = {}, o.$slider.trigger("swipe", [o, t])) } else o.touchObject.startX !== o.touchObject.curX && (o.slideHandler(o.currentSlide), o.touchObject = {}) }, e.prototype.swipeHandler = function (i) { var e = this; if (!(!1 === e.options.swipe || "ontouchend" in document && !1 === e.options.swipe || !1 === e.options.draggable && -1 !== i.type.indexOf("mouse"))) switch (e.touchObject.fingerCount = i.originalEvent && void 0 !== i.originalEvent.touches ? i.originalEvent.touches.length : 1, e.touchObject.minSwipe = e.listWidth / e.options.touchThreshold, !0 === e.options.verticalSwiping && (e.touchObject.minSwipe = e.listHeight / e.options.touchThreshold), i.data.action) { case "start": e.swipeStart(i); break; case "move": e.swipeMove(i); break; case "end": e.swipeEnd(i) } }, e.prototype.swipeMove = function (i) { var e, t, o, s, n, r, l = this; return n = void 0 !== i.originalEvent ? i.originalEvent.touches : null, !(!l.dragging || l.scrolling || n && 1 !== n.length) && (e = l.getLeft(l.currentSlide), l.touchObject.curX = void 0 !== n ? n[0].pageX : i.clientX, l.touchObject.curY = void 0 !== n ? n[0].pageY : i.clientY, l.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(l.touchObject.curX - l.touchObject.startX, 2))), r = Math.round(Math.sqrt(Math.pow(l.touchObject.curY - l.touchObject.startY, 2))), !l.options.verticalSwiping && !l.swiping && r > 4 ? (l.scrolling = !0, !1) : (!0 === l.options.verticalSwiping && (l.touchObject.swipeLength = r), t = l.swipeDirection(), void 0 !== i.originalEvent && l.touchObject.swipeLength > 4 && (l.swiping = !0, i.preventDefault()), s = (!1 === l.options.rtl ? 1 : -1) * (l.touchObject.curX > l.touchObject.startX ? 1 : -1), !0 === l.options.verticalSwiping && (s = l.touchObject.curY > l.touchObject.startY ? 1 : -1), o = l.touchObject.swipeLength, l.touchObject.edgeHit = !1, !1 === l.options.infinite && (0 === l.currentSlide && "right" === t || l.currentSlide >= l.getDotCount() && "left" === t) && (o = l.touchObject.swipeLength * l.options.edgeFriction, l.touchObject.edgeHit = !0), !1 === l.options.vertical ? l.swipeLeft = e + o * s : l.swipeLeft = e + o * (l.$list.height() / l.listWidth) * s, !0 === l.options.verticalSwiping && (l.swipeLeft = e + o * s), !0 !== l.options.fade && !1 !== l.options.touchMove && (!0 === l.animating ? (l.swipeLeft = null, !1) : void l.setCSS(l.swipeLeft)))) }, e.prototype.swipeStart = function (i) { var e, t = this; if (t.interrupted = !0, 1 !== t.touchObject.fingerCount || t.slideCount <= t.options.slidesToShow) return t.touchObject = {}, !1; void 0 !== i.originalEvent && void 0 !== i.originalEvent.touches && (e = i.originalEvent.touches[0]), t.touchObject.startX = t.touchObject.curX = void 0 !== e ? e.pageX : i.clientX, t.touchObject.startY = t.touchObject.curY = void 0 !== e ? e.pageY : i.clientY, t.dragging = !0 }, e.prototype.unfilterSlides = e.prototype.slickUnfilter = function () { var i = this; null !== i.$slidesCache && (i.unload(), i.$slideTrack.children(this.options.slide).detach(), i.$slidesCache.appendTo(i.$slideTrack), i.reinit()) }, e.prototype.unload = function () { var e = this; i(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "") }, e.prototype.unslick = function (i) { var e = this; e.$slider.trigger("unslick", [e, i]), e.destroy() }, e.prototype.updateArrows = function () { var i = this; Math.floor(i.options.slidesToShow / 2), !0 === i.options.arrows && i.slideCount > i.options.slidesToShow && !i.options.infinite && (i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === i.currentSlide ? (i.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : i.currentSlide >= i.slideCount - i.options.slidesToShow && !1 === i.options.centerMode ? (i.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : i.currentSlide >= i.slideCount - 1 && !0 === i.options.centerMode && (i.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"))) }, e.prototype.updateDots = function () { var i = this; null !== i.$dots && (i.$dots.find("li").removeClass("slick-active").end(), i.$dots.find("li").eq(Math.floor(i.currentSlide / i.options.slidesToScroll)).addClass("slick-active")) }, e.prototype.visibility = function () { var i = this; i.options.autoplay && (document[i.hidden] ? i.interrupted = !0 : i.interrupted = !1) }, i.fn.slick = function () { var i, t, o = this, s = arguments[0], n = Array.prototype.slice.call(arguments, 1), r = o.length; for (i = 0; i < r; i++)if ("object" == typeof s || void 0 === s ? o[i].slick = new e(o[i], s) : t = o[i].slick[s].apply(o[i].slick, n), void 0 !== t) return t; return o } });

/*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md */!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof module && module.exports ? module.exports = function (b, c) { return void 0 === c && (c = "undefined" != typeof window ? require("jquery") : require("jquery")(b)), a(c), c } : a(jQuery) }(function (a) { var b = function () { if (a && a.fn && a.fn.select2 && a.fn.select2.amd) var b = a.fn.select2.amd; var b; return function () { if (!b || !b.requirejs) { b ? c = b : b = {}; var a, c, d; !function (b) { function e(a, b) { return v.call(a, b) } function f(a, b) { var c, d, e, f, g, h, i, j, k, l, m, n, o = b && b.split("/"), p = t.map, q = p && p["*"] || {}; if (a) { for (a = a.split("/"), g = a.length - 1, t.nodeIdCompat && x.test(a[g]) && (a[g] = a[g].replace(x, "")), "." === a[0].charAt(0) && o && (n = o.slice(0, o.length - 1), a = n.concat(a)), k = 0; k < a.length; k++)if ("." === (m = a[k])) a.splice(k, 1), k -= 1; else if (".." === m) { if (0 === k || 1 === k && ".." === a[2] || ".." === a[k - 1]) continue; k > 0 && (a.splice(k - 1, 2), k -= 2) } a = a.join("/") } if ((o || q) && p) { for (c = a.split("/"), k = c.length; k > 0; k -= 1) { if (d = c.slice(0, k).join("/"), o) for (l = o.length; l > 0; l -= 1)if ((e = p[o.slice(0, l).join("/")]) && (e = e[d])) { f = e, h = k; break } if (f) break; !i && q && q[d] && (i = q[d], j = k) } !f && i && (f = i, h = j), f && (c.splice(0, h, f), a = c.join("/")) } return a } function g(a, c) { return function () { var d = w.call(arguments, 0); return "string" != typeof d[0] && 1 === d.length && d.push(null), o.apply(b, d.concat([a, c])) } } function h(a) { return function (b) { return f(b, a) } } function i(a) { return function (b) { r[a] = b } } function j(a) { if (e(s, a)) { var c = s[a]; delete s[a], u[a] = !0, n.apply(b, c) } if (!e(r, a) && !e(u, a)) throw new Error("No " + a); return r[a] } function k(a) { var b, c = a ? a.indexOf("!") : -1; return c > -1 && (b = a.substring(0, c), a = a.substring(c + 1, a.length)), [b, a] } function l(a) { return a ? k(a) : [] } function m(a) { return function () { return t && t.config && t.config[a] || {} } } var n, o, p, q, r = {}, s = {}, t = {}, u = {}, v = Object.prototype.hasOwnProperty, w = [].slice, x = /\.js$/; p = function (a, b) { var c, d = k(a), e = d[0], g = b[1]; return a = d[1], e && (e = f(e, g), c = j(e)), e ? a = c && c.normalize ? c.normalize(a, h(g)) : f(a, g) : (a = f(a, g), d = k(a), e = d[0], a = d[1], e && (c = j(e))), { f: e ? e + "!" + a : a, n: a, pr: e, p: c } }, q = { require: function (a) { return g(a) }, exports: function (a) { var b = r[a]; return void 0 !== b ? b : r[a] = {} }, module: function (a) { return { id: a, uri: "", exports: r[a], config: m(a) } } }, n = function (a, c, d, f) { var h, k, m, n, o, t, v, w = [], x = typeof d; if (f = f || a, t = l(f), "undefined" === x || "function" === x) { for (c = !c.length && d.length ? ["require", "exports", "module"] : c, o = 0; o < c.length; o += 1)if (n = p(c[o], t), "require" === (k = n.f)) w[o] = q.require(a); else if ("exports" === k) w[o] = q.exports(a), v = !0; else if ("module" === k) h = w[o] = q.module(a); else if (e(r, k) || e(s, k) || e(u, k)) w[o] = j(k); else { if (!n.p) throw new Error(a + " missing " + k); n.p.load(n.n, g(f, !0), i(k), {}), w[o] = r[k] } m = d ? d.apply(r[a], w) : void 0, a && (h && h.exports !== b && h.exports !== r[a] ? r[a] = h.exports : m === b && v || (r[a] = m)) } else a && (r[a] = d) }, a = c = o = function (a, c, d, e, f) { if ("string" == typeof a) return q[a] ? q[a](c) : j(p(a, l(c)).f); if (!a.splice) { if (t = a, t.deps && o(t.deps, t.callback), !c) return; c.splice ? (a = c, c = d, d = null) : a = b } return c = c || function () { }, "function" == typeof d && (d = e, e = f), e ? n(b, a, c, d) : setTimeout(function () { n(b, a, c, d) }, 4), o }, o.config = function (a) { return o(a) }, a._defined = r, d = function (a, b, c) { if ("string" != typeof a) throw new Error("See almond README: incorrect module build, no module name"); b.splice || (c = b, b = []), e(r, a) || e(s, a) || (s[a] = [a, b, c]) }, d.amd = { jQuery: !0 } }(), b.requirejs = a, b.require = c, b.define = d } }(), b.define("almond", function () { }), b.define("jquery", [], function () { var b = a || $; return null == b && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), b }), b.define("select2/utils", ["jquery"], function (a) { function b(a) { var b = a.prototype, c = []; for (var d in b) { "function" == typeof b[d] && ("constructor" !== d && c.push(d)) } return c } var c = {}; c.Extend = function (a, b) { function c() { this.constructor = a } var d = {}.hasOwnProperty; for (var e in b) d.call(b, e) && (a[e] = b[e]); return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a }, c.Decorate = function (a, c) { function d() { var b = Array.prototype.unshift, d = c.prototype.constructor.length, e = a.prototype.constructor; d > 0 && (b.call(arguments, a.prototype.constructor), e = c.prototype.constructor), e.apply(this, arguments) } function e() { this.constructor = d } var f = b(c), g = b(a); c.displayName = a.displayName, d.prototype = new e; for (var h = 0; h < g.length; h++) { var i = g[h]; d.prototype[i] = a.prototype[i] } for (var j = (function (a) { var b = function () { }; a in d.prototype && (b = d.prototype[a]); var e = c.prototype[a]; return function () { return Array.prototype.unshift.call(arguments, b), e.apply(this, arguments) } }), k = 0; k < f.length; k++) { var l = f[k]; d.prototype[l] = j(l) } return d }; var d = function () { this.listeners = {} }; d.prototype.on = function (a, b) { this.listeners = this.listeners || {}, a in this.listeners ? this.listeners[a].push(b) : this.listeners[a] = [b] }, d.prototype.trigger = function (a) { var b = Array.prototype.slice, c = b.call(arguments, 1); this.listeners = this.listeners || {}, null == c && (c = []), 0 === c.length && c.push({}), c[0]._type = a, a in this.listeners && this.invoke(this.listeners[a], b.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, d.prototype.invoke = function (a, b) { for (var c = 0, d = a.length; c < d; c++)a[c].apply(this, b) }, c.Observable = d, c.generateChars = function (a) { for (var b = "", c = 0; c < a; c++) { b += Math.floor(36 * Math.random()).toString(36) } return b }, c.bind = function (a, b) { return function () { a.apply(b, arguments) } }, c._convertData = function (a) { for (var b in a) { var c = b.split("-"), d = a; if (1 !== c.length) { for (var e = 0; e < c.length; e++) { var f = c[e]; f = f.substring(0, 1).toLowerCase() + f.substring(1), f in d || (d[f] = {}), e == c.length - 1 && (d[f] = a[b]), d = d[f] } delete a[b] } } return a }, c.hasScroll = function (b, c) { var d = a(c), e = c.style.overflowX, f = c.style.overflowY; return (e !== f || "hidden" !== f && "visible" !== f) && ("scroll" === e || "scroll" === f || (d.innerHeight() < c.scrollHeight || d.innerWidth() < c.scrollWidth)) }, c.escapeMarkup = function (a) { var b = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof a ? a : String(a).replace(/[&<>"'\/\\]/g, function (a) { return b[a] }) }, c.appendMany = function (b, c) { if ("1.7" === a.fn.jquery.substr(0, 3)) { var d = a(); a.map(c, function (a) { d = d.add(a) }), c = d } b.append(c) }, c.__cache = {}; var e = 0; return c.GetUniqueElementId = function (a) { var b = a.getAttribute("data-select2-id"); return null == b && (a.id ? (b = a.id, a.setAttribute("data-select2-id", b)) : (a.setAttribute("data-select2-id", ++e), b = e.toString())), b }, c.StoreData = function (a, b, d) { var e = c.GetUniqueElementId(a); c.__cache[e] || (c.__cache[e] = {}), c.__cache[e][b] = d }, c.GetData = function (b, d) { var e = c.GetUniqueElementId(b); return d ? c.__cache[e] && null != c.__cache[e][d] ? c.__cache[e][d] : a(b).data(d) : c.__cache[e] }, c.RemoveData = function (a) { var b = c.GetUniqueElementId(a); null != c.__cache[b] && delete c.__cache[b] }, c }), b.define("select2/results", ["jquery", "./utils"], function (a, b) { function c(a, b, d) { this.$element = a, this.data = d, this.options = b, c.__super__.constructor.call(this) } return b.Extend(c, b.Observable), c.prototype.render = function () { var b = a('<ul class="select2-results__options" role="tree"></ul>'); return this.options.get("multiple") && b.attr("aria-multiselectable", "true"), this.$results = b, b }, c.prototype.clear = function () { this.$results.empty() }, c.prototype.displayMessage = function (b) { var c = this.options.get("escapeMarkup"); this.clear(), this.hideLoading(); var d = a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'), e = this.options.get("translations").get(b.message); d.append(c(e(b.args))), d[0].className += " select2-results__message", this.$results.append(d) }, c.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, c.prototype.append = function (a) { this.hideLoading(); var b = []; if (null == a.results || 0 === a.results.length) return void (0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" })); a.results = this.sort(a.results); for (var c = 0; c < a.results.length; c++) { var d = a.results[c], e = this.option(d); b.push(e) } this.$results.append(b) }, c.prototype.position = function (a, b) { b.find(".select2-results").append(a) }, c.prototype.sort = function (a) { return this.options.get("sorter")(a) }, c.prototype.highlightFirstItem = function () { var a = this.$results.find(".select2-results__option[aria-selected]"), b = a.filter("[aria-selected=true]"); b.length > 0 ? b.first().trigger("mouseenter") : a.first().trigger("mouseenter"), this.ensureHighlightVisible() }, c.prototype.setClasses = function () { var c = this; this.data.current(function (d) { var e = a.map(d, function (a) { return a.id.toString() }); c.$results.find(".select2-results__option[aria-selected]").each(function () { var c = a(this), d = b.GetData(this, "data"), f = "" + d.id; null != d.element && d.element.selected || null == d.element && a.inArray(f, e) > -1 ? c.attr("aria-selected", "true") : c.attr("aria-selected", "false") }) }) }, c.prototype.showLoading = function (a) { this.hideLoading(); var b = this.options.get("translations").get("searching"), c = { disabled: !0, loading: !0, text: b(a) }, d = this.option(c); d.className += " loading-results", this.$results.prepend(d) }, c.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, c.prototype.option = function (c) { var d = document.createElement("li"); d.className = "select2-results__option"; var e = { role: "treeitem", "aria-selected": "false" }; c.disabled && (delete e["aria-selected"], e["aria-disabled"] = "true"), null == c.id && delete e["aria-selected"], null != c._resultId && (d.id = c._resultId), c.title && (d.title = c.title), c.children && (e.role = "group", e["aria-label"] = c.text, delete e["aria-selected"]); for (var f in e) { var g = e[f]; d.setAttribute(f, g) } if (c.children) { var h = a(d), i = document.createElement("strong"); i.className = "select2-results__group"; a(i); this.template(c, i); for (var j = [], k = 0; k < c.children.length; k++) { var l = c.children[k], m = this.option(l); j.push(m) } var n = a("<ul></ul>", { class: "select2-results__options select2-results__options--nested" }); n.append(j), h.append(i), h.append(n) } else this.template(c, d); return b.StoreData(d, "data", c), d }, c.prototype.bind = function (c, d) { var e = this, f = c.id + "-results"; this.$results.attr("id", f), c.on("results:all", function (a) { e.clear(), e.append(a.data), c.isOpen() && (e.setClasses(), e.highlightFirstItem()) }), c.on("results:append", function (a) { e.append(a.data), c.isOpen() && e.setClasses() }), c.on("query", function (a) { e.hideMessages(), e.showLoading(a) }), c.on("select", function () { c.isOpen() && (e.setClasses(), e.highlightFirstItem()) }), c.on("unselect", function () { c.isOpen() && (e.setClasses(), e.highlightFirstItem()) }), c.on("open", function () { e.$results.attr("aria-expanded", "true"), e.$results.attr("aria-hidden", "false"), e.setClasses(), e.ensureHighlightVisible() }), c.on("close", function () { e.$results.attr("aria-expanded", "false"), e.$results.attr("aria-hidden", "true"), e.$results.removeAttr("aria-activedescendant") }), c.on("results:toggle", function () { var a = e.getHighlightedResults(); 0 !== a.length && a.trigger("mouseup") }), c.on("results:select", function () { var a = e.getHighlightedResults(); if (0 !== a.length) { var c = b.GetData(a[0], "data"); "true" == a.attr("aria-selected") ? e.trigger("close", {}) : e.trigger("select", { data: c }) } }), c.on("results:previous", function () { var a = e.getHighlightedResults(), b = e.$results.find("[aria-selected]"), c = b.index(a); if (!(c <= 0)) { var d = c - 1; 0 === a.length && (d = 0); var f = b.eq(d); f.trigger("mouseenter"); var g = e.$results.offset().top, h = f.offset().top, i = e.$results.scrollTop() + (h - g); 0 === d ? e.$results.scrollTop(0) : h - g < 0 && e.$results.scrollTop(i) } }), c.on("results:next", function () { var a = e.getHighlightedResults(), b = e.$results.find("[aria-selected]"), c = b.index(a), d = c + 1; if (!(d >= b.length)) { var f = b.eq(d); f.trigger("mouseenter"); var g = e.$results.offset().top + e.$results.outerHeight(!1), h = f.offset().top + f.outerHeight(!1), i = e.$results.scrollTop() + h - g; 0 === d ? e.$results.scrollTop(0) : h > g && e.$results.scrollTop(i) } }), c.on("results:focus", function (a) { a.element.addClass("select2-results__option--highlighted") }), c.on("results:message", function (a) { e.displayMessage(a) }), a.fn.mousewheel && this.$results.on("mousewheel", function (a) { var b = e.$results.scrollTop(), c = e.$results.get(0).scrollHeight - b + a.deltaY, d = a.deltaY > 0 && b - a.deltaY <= 0, f = a.deltaY < 0 && c <= e.$results.height(); d ? (e.$results.scrollTop(0), a.preventDefault(), a.stopPropagation()) : f && (e.$results.scrollTop(e.$results.get(0).scrollHeight - e.$results.height()), a.preventDefault(), a.stopPropagation()) }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (c) { var d = a(this), f = b.GetData(this, "data"); if ("true" === d.attr("aria-selected")) return void (e.options.get("multiple") ? e.trigger("unselect", { originalEvent: c, data: f }) : e.trigger("close", {})); e.trigger("select", { originalEvent: c, data: f }) }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function (c) { var d = b.GetData(this, "data"); e.getHighlightedResults().removeClass("select2-results__option--highlighted"), e.trigger("results:focus", { data: d, element: a(this) }) }) }, c.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, c.prototype.destroy = function () { this.$results.remove() }, c.prototype.ensureHighlightVisible = function () { var a = this.getHighlightedResults(); if (0 !== a.length) { var b = this.$results.find("[aria-selected]"), c = b.index(a), d = this.$results.offset().top, e = a.offset().top, f = this.$results.scrollTop() + (e - d), g = e - d; f -= 2 * a.outerHeight(!1), c <= 2 ? this.$results.scrollTop(0) : (g > this.$results.outerHeight() || g < 0) && this.$results.scrollTop(f) } }, c.prototype.template = function (b, c) { var d = this.options.get("templateResult"), e = this.options.get("escapeMarkup"), f = d(b, c); null == f ? c.style.display = "none" : "string" == typeof f ? c.innerHTML = e(f) : a(c).append(f) }, c }), b.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), b.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (a, b, c) { function d(a, b) { this.$element = a, this.options = b, d.__super__.constructor.call(this) } return b.Extend(d, b.Observable), d.prototype.render = function () { var c = a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>'); return this._tabindex = 0, null != b.GetData(this.$element[0], "old-tabindex") ? this._tabindex = b.GetData(this.$element[0], "old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), c.attr("title", this.$element.attr("title")), c.attr("tabindex", this._tabindex), this.$selection = c, c }, d.prototype.bind = function (a, b) { var d = this, e = (a.id, a.id + "-results"); this.container = a, this.$selection.on("focus", function (a) { d.trigger("focus", a) }), this.$selection.on("blur", function (a) { d._handleBlur(a) }), this.$selection.on("keydown", function (a) { d.trigger("keypress", a), a.which === c.SPACE && a.preventDefault() }), a.on("results:focus", function (a) { d.$selection.attr("aria-activedescendant", a.data._resultId) }), a.on("selection:update", function (a) { d.update(a.data) }), a.on("open", function () { d.$selection.attr("aria-expanded", "true"), d.$selection.attr("aria-owns", e), d._attachCloseHandler(a) }), a.on("close", function () { d.$selection.attr("aria-expanded", "false"), d.$selection.removeAttr("aria-activedescendant"), d.$selection.removeAttr("aria-owns"), d.$selection.focus(), window.setTimeout(function () { d.$selection.focus() }, 0), d._detachCloseHandler(a) }), a.on("enable", function () { d.$selection.attr("tabindex", d._tabindex) }), a.on("disable", function () { d.$selection.attr("tabindex", "-1") }) }, d.prototype._handleBlur = function (b) { var c = this; window.setTimeout(function () { document.activeElement == c.$selection[0] || a.contains(c.$selection[0], document.activeElement) || c.trigger("blur", b) }, 1) }, d.prototype._attachCloseHandler = function (c) { a(document.body).on("mousedown.select2." + c.id, function (c) { var d = a(c.target), e = d.closest(".select2"); a(".select2.select2-container--open").each(function () { a(this), this != e[0] && b.GetData(this, "element").select2("close") }) }) }, d.prototype._detachCloseHandler = function (b) { a(document.body).off("mousedown.select2." + b.id) }, d.prototype.position = function (a, b) { b.find(".selection").append(a) }, d.prototype.destroy = function () { this._detachCloseHandler(this.container) }, d.prototype.update = function (a) { throw new Error("The `update` method must be defined in child classes.") }, d }), b.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (a, b, c, d) { function e() { e.__super__.constructor.apply(this, arguments) } return c.Extend(e, b), e.prototype.render = function () { var a = e.__super__.render.call(this); return a.addClass("select2-selection--single"), a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), a }, e.prototype.bind = function (a, b) { var c = this; e.__super__.bind.apply(this, arguments); var d = a.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", d).attr("role", "textbox").attr("aria-readonly", "true"), this.$selection.attr("aria-labelledby", d), this.$selection.on("mousedown", function (a) { 1 === a.which && c.trigger("toggle", { originalEvent: a }) }), this.$selection.on("focus", function (a) { }), this.$selection.on("blur", function (a) { }), a.on("focus", function (b) { a.isOpen() || c.$selection.focus() }) }, e.prototype.clear = function () { var a = this.$selection.find(".select2-selection__rendered"); a.empty(), a.removeAttr("title") }, e.prototype.display = function (a, b) { var c = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(c(a, b)) }, e.prototype.selectionContainer = function () { return a("<span></span>") }, e.prototype.update = function (a) { if (0 === a.length) return void this.clear(); var b = a[0], c = this.$selection.find(".select2-selection__rendered"), d = this.display(b, c); c.empty().append(d), c.attr("title", b.title || b.text) }, e }), b.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (a, b, c) { function d(a, b) { d.__super__.constructor.apply(this, arguments) } return c.Extend(d, b), d.prototype.render = function () { var a = d.__super__.render.call(this); return a.addClass("select2-selection--multiple"), a.html('<ul class="select2-selection__rendered"></ul>'), a }, d.prototype.bind = function (b, e) { var f = this; d.__super__.bind.apply(this, arguments), this.$selection.on("click", function (a) { f.trigger("toggle", { originalEvent: a }) }), this.$selection.on("click", ".select2-selection__choice__remove", function (b) { if (!f.options.get("disabled")) { var d = a(this), e = d.parent(), g = c.GetData(e[0], "data"); f.trigger("unselect", { originalEvent: b, data: g }) } }) }, d.prototype.clear = function () { var a = this.$selection.find(".select2-selection__rendered"); a.empty(), a.removeAttr("title") }, d.prototype.display = function (a, b) { var c = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(c(a, b)) }, d.prototype.selectionContainer = function () { return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>') }, d.prototype.update = function (a) { if (this.clear(), 0 !== a.length) { for (var b = [], d = 0; d < a.length; d++) { var e = a[d], f = this.selectionContainer(), g = this.display(e, f); f.append(g), f.attr("title", e.title || e.text), c.StoreData(f[0], "data", e), b.push(f) } var h = this.$selection.find(".select2-selection__rendered"); c.appendMany(h, b) } }, d }), b.define("select2/selection/placeholder", ["../utils"], function (a) { function b(a, b, c) { this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c) } return b.prototype.normalizePlaceholder = function (a, b) { return "string" == typeof b && (b = { id: "", text: b }), b }, b.prototype.createPlaceholder = function (a, b) { var c = this.selectionContainer(); return c.html(this.display(b)), c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), c }, b.prototype.update = function (a, b) { var c = 1 == b.length && b[0].id != this.placeholder.id; if (b.length > 1 || c) return a.call(this, b); this.clear(); var d = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(d) }, b }), b.define("select2/selection/allowClear", ["jquery", "../keys", "../utils"], function (a, b, c) { function d() { } return d.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function (a) { d._handleClear(a) }), b.on("keypress", function (a) { d._handleKeyboardClear(a, b) }) }, d.prototype._handleClear = function (a, b) { if (!this.options.get("disabled")) { var d = this.$selection.find(".select2-selection__clear"); if (0 !== d.length) { b.stopPropagation(); var e = c.GetData(d[0], "data"), f = this.$element.val(); this.$element.val(this.placeholder.id); var g = { data: e }; if (this.trigger("clear", g), g.prevented) return void this.$element.val(f); for (var h = 0; h < e.length; h++)if (g = { data: e[h] }, this.trigger("unselect", g), g.prevented) return void this.$element.val(f); this.$element.trigger("change"), this.trigger("toggle", {}) } } }, d.prototype._handleKeyboardClear = function (a, c, d) { d.isOpen() || c.which != b.DELETE && c.which != b.BACKSPACE || this._handleClear(c) }, d.prototype.update = function (b, d) { if (b.call(this, d), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === d.length)) { var e = a('<span class="select2-selection__clear">&times;</span>'); c.StoreData(e[0], "data", d), this.$selection.find(".select2-selection__rendered").prepend(e) } }, d }), b.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (a, b, c) { function d(a, b, c) { a.call(this, b, c) } return d.prototype.render = function (b) { var c = a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'); this.$searchContainer = c, this.$search = c.find("input"); var d = b.call(this); return this._transferTabIndex(), d }, d.prototype.bind = function (a, d, e) { var f = this; a.call(this, d, e), d.on("open", function () { f.$search.trigger("focus") }), d.on("close", function () { f.$search.val(""), f.$search.removeAttr("aria-activedescendant"), f.$search.trigger("focus") }), d.on("enable", function () { f.$search.prop("disabled", !1), f._transferTabIndex() }), d.on("disable", function () { f.$search.prop("disabled", !0) }), d.on("focus", function (a) { f.$search.trigger("focus") }), d.on("results:focus", function (a) { f.$search.attr("aria-activedescendant", a.id) }), this.$selection.on("focusin", ".select2-search--inline", function (a) { f.trigger("focus", a) }), this.$selection.on("focusout", ".select2-search--inline", function (a) { f._handleBlur(a) }), this.$selection.on("keydown", ".select2-search--inline", function (a) { if (a.stopPropagation(), f.trigger("keypress", a), f._keyUpPrevented = a.isDefaultPrevented(), a.which === c.BACKSPACE && "" === f.$search.val()) { var d = f.$searchContainer.prev(".select2-selection__choice"); if (d.length > 0) { var e = b.GetData(d[0], "data"); f.searchRemoveChoice(e), a.preventDefault() } } }); var g = document.documentMode, h = g && g <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function (a) { if (h) return void f.$selection.off("input.search input.searchcheck"); f.$selection.off("keyup.search") }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function (a) { if (h && "input" === a.type) return void f.$selection.off("input.search input.searchcheck"); var b = a.which; b != c.SHIFT && b != c.CTRL && b != c.ALT && b != c.TAB && f.handleSearch(a) }) }, d.prototype._transferTabIndex = function (a) { this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1") }, d.prototype.createPlaceholder = function (a, b) { this.$search.attr("placeholder", b.text) }, d.prototype.update = function (a, b) { var c = this.$search[0] == document.activeElement; if (this.$search.attr("placeholder", ""), a.call(this, b), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), c) { this.$element.find("[data-select2-tag]").length ? this.$element.focus() : this.$search.focus() } }, d.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var a = this.$search.val(); this.trigger("query", { term: a }) } this._keyUpPrevented = !1 }, d.prototype.searchRemoveChoice = function (a, b) { this.trigger("unselect", { data: b }), this.$search.val(b.text), this.handleSearch() }, d.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var a = ""; if ("" !== this.$search.attr("placeholder")) a = this.$selection.find(".select2-selection__rendered").innerWidth(); else { a = .75 * (this.$search.val().length + 1) + "em" } this.$search.css("width", a) }, d }), b.define("select2/selection/eventRelay", ["jquery"], function (a) { function b() { } return b.prototype.bind = function (b, c, d) { var e = this, f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting", "clear", "clearing"], g = ["opening", "closing", "selecting", "unselecting", "clearing"]; b.call(this, c, d), c.on("*", function (b, c) { if (-1 !== a.inArray(b, f)) { c = c || {}; var d = a.Event("select2:" + b, { params: c }); e.$element.trigger(d), -1 !== a.inArray(b, g) && (c.prevented = d.isDefaultPrevented()) } }) }, b }), b.define("select2/translation", ["jquery", "require"], function (a, b) { function c(a) { this.dict = a || {} } return c.prototype.all = function () { return this.dict }, c.prototype.get = function (a) { return this.dict[a] }, c.prototype.extend = function (b) { this.dict = a.extend({}, b.all(), this.dict) }, c._cache = {}, c.loadPath = function (a) { if (!(a in c._cache)) { var d = b(a); c._cache[a] = d } return new c(c._cache[a]) }, c }), b.define("select2/diacritics", [], function () { return { "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "AA", "": "AE", "": "AE", "": "AE", "": "AO", "": "AU", "": "AV", "": "AV", "": "AY", "": "B", "": "B", "": "B", "": "B", "": "B", "": "B", "": "B", "": "B", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "C", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "D", "": "DZ", "": "DZ", "": "Dz", "": "Dz", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "E", "": "F", "": "F", "": "F", "": "F", "": "F", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "G", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "H", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "I", "": "J", "": "J", "": "J", "": "J", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "K", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "L", "": "LJ", "": "Lj", "": "M", "": "M", "": "M", "": "M", "": "M", "": "M", "": "M", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "N", "": "NJ", "": "Nj", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "OI", "": "OO", "": "OU", "": "P", "": "P", "": "P", "": "P", "": "P", "": "P", "": "P", "": "P", "": "P", "": "Q", "": "Q", "": "Q", "": "Q", "": "Q", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "R", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "S", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "T", "": "TZ", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "V", "": "V", "": "V", "": "V", "": "V", "": "V", "": "V", "": "VY", "": "W", "": "W", "": "W", "": "W", "": "W", "": "W", "": "W", "": "W", "": "W", "": "X", "": "X", "": "X", "": "X", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Y", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "Z", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "aa", "": "ae", "": "ae", "": "ae", "": "ao", "": "au", "": "av", "": "av", "": "ay", "": "b", "": "b", "": "b", "": "b", "": "b", "": "b", "": "b", "": "b", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "c", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "d", "": "dz", "": "dz", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "e", "": "f", "": "f", "": "f", "": "f", "": "f", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "g", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "h", "": "hv", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "i", "": "j", "": "j", "": "j", "": "j", "": "j", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "k", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "l", "": "lj", "": "m", "": "m", "": "m", "": "m", "": "m", "": "m", "": "m", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "n", "": "nj", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "oi", "": "ou", "": "oo", "": "p", "": "p", "": "p", "": "p", "": "p", "": "p", "": "p", "": "p", "": "p", "": "q", "": "q", "": "q", "": "q", "": "q", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "r", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "s", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "t", "": "tz", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "v", "": "v", "": "v", "": "v", "": "v", "": "v", "": "v", "": "vy", "": "w", "": "w", "": "w", "": "w", "": "w", "": "w", "": "w", "": "w", "": "w", "": "w", "": "x", "": "x", "": "x", "": "x", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "y", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "z", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "" } }), b.define("select2/data/base", ["../utils"], function (a) { function b(a, c) { b.__super__.constructor.call(this) } return a.Extend(b, a.Observable), b.prototype.current = function (a) { throw new Error("The `current` method must be defined in child classes.") }, b.prototype.query = function (a, b) { throw new Error("The `query` method must be defined in child classes.") }, b.prototype.bind = function (a, b) { }, b.prototype.destroy = function () { }, b.prototype.generateResultId = function (b, c) { var d = b.id + "-result-"; return d += a.generateChars(4), null != c.id ? d += "-" + c.id.toString() : d += "-" + a.generateChars(4), d }, b }), b.define("select2/data/select", ["./base", "../utils", "jquery"], function (a, b, c) { function d(a, b) { this.$element = a, this.options = b, d.__super__.constructor.call(this) } return b.Extend(d, a), d.prototype.current = function (a) { var b = [], d = this; this.$element.find(":selected").each(function () { var a = c(this), e = d.item(a); b.push(e) }), a(b) }, d.prototype.select = function (a) { var b = this; if (a.selected = !0, c(a.element).is("option")) return a.element.selected = !0, void this.$element.trigger("change"); if (this.$element.prop("multiple")) this.current(function (d) { var e = []; a = [a], a.push.apply(a, d); for (var f = 0; f < a.length; f++) { var g = a[f].id; -1 === c.inArray(g, e) && e.push(g) } b.$element.val(e), b.$element.trigger("change") }); else { var d = a.id; this.$element.val(d), this.$element.trigger("change") } }, d.prototype.unselect = function (a) { var b = this; if (this.$element.prop("multiple")) { if (a.selected = !1, c(a.element).is("option")) return a.element.selected = !1, void this.$element.trigger("change"); this.current(function (d) { for (var e = [], f = 0; f < d.length; f++) { var g = d[f].id; g !== a.id && -1 === c.inArray(g, e) && e.push(g) } b.$element.val(e), b.$element.trigger("change") }) } }, d.prototype.bind = function (a, b) { var c = this; this.container = a, a.on("select", function (a) { c.select(a.data) }), a.on("unselect", function (a) { c.unselect(a.data) }) }, d.prototype.destroy = function () { this.$element.find("*").each(function () { b.RemoveData(this) }) }, d.prototype.query = function (a, b) { var d = [], e = this; this.$element.children().each(function () { var b = c(this); if (b.is("option") || b.is("optgroup")) { var f = e.item(b), g = e.matches(a, f); null !== g && d.push(g) } }), b({ results: d }) }, d.prototype.addOptions = function (a) { b.appendMany(this.$element, a) }, d.prototype.option = function (a) { var d; a.children ? (d = document.createElement("optgroup"), d.label = a.text) : (d = document.createElement("option"), void 0 !== d.textContent ? d.textContent = a.text : d.innerText = a.text), void 0 !== a.id && (d.value = a.id), a.disabled && (d.disabled = !0), a.selected && (d.selected = !0), a.title && (d.title = a.title); var e = c(d), f = this._normalizeItem(a); return f.element = d, b.StoreData(d, "data", f), e }, d.prototype.item = function (a) { var d = {}; if (null != (d = b.GetData(a[0], "data"))) return d; if (a.is("option")) d = { id: a.val(), text: a.text(), disabled: a.prop("disabled"), selected: a.prop("selected"), title: a.prop("title") }; else if (a.is("optgroup")) { d = { text: a.prop("label"), children: [], title: a.prop("title") }; for (var e = a.children("option"), f = [], g = 0; g < e.length; g++) { var h = c(e[g]), i = this.item(h); f.push(i) } d.children = f } return d = this._normalizeItem(d), d.element = a[0], b.StoreData(a[0], "data", d), d }, d.prototype._normalizeItem = function (a) { a !== Object(a) && (a = { id: a, text: a }), a = c.extend({}, { text: "" }, a); var b = { selected: !1, disabled: !1 }; return null != a.id && (a.id = a.id.toString()), null != a.text && (a.text = a.text.toString()), null == a._resultId && a.id && null != this.container && (a._resultId = this.generateResultId(this.container, a)), c.extend({}, b, a) }, d.prototype.matches = function (a, b) { return this.options.get("matcher")(a, b) }, d }), b.define("select2/data/array", ["./select", "../utils", "jquery"], function (a, b, c) { function d(a, b) { var c = b.get("data") || []; d.__super__.constructor.call(this, a, b), this.addOptions(this.convertToOptions(c)) } return b.Extend(d, a), d.prototype.select = function (a) { var b = this.$element.find("option").filter(function (b, c) { return c.value == a.id.toString() }); 0 === b.length && (b = this.option(a), this.addOptions(b)), d.__super__.select.call(this, a) }, d.prototype.convertToOptions = function (a) { function d(a) { return function () { return c(this).val() == a.id } } for (var e = this, f = this.$element.find("option"), g = f.map(function () { return e.item(c(this)).id }).get(), h = [], i = 0; i < a.length; i++) { var j = this._normalizeItem(a[i]); if (c.inArray(j.id, g) >= 0) { var k = f.filter(d(j)), l = this.item(k), m = c.extend(!0, {}, j, l), n = this.option(m); k.replaceWith(n) } else { var o = this.option(j); if (j.children) { var p = this.convertToOptions(j.children); b.appendMany(o, p) } h.push(o) } } return h }, d }), b.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (a, b, c) { function d(a, b) { this.ajaxOptions = this._applyDefaults(b.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), d.__super__.constructor.call(this, a, b) } return b.Extend(d, a), d.prototype._applyDefaults = function (a) { var b = { data: function (a) { return c.extend({}, a, { q: a.term }) }, transport: function (a, b, d) { var e = c.ajax(a); return e.then(b), e.fail(d), e } }; return c.extend({}, b, a, !0) }, d.prototype.processResults = function (a) { return a }, d.prototype.query = function (a, b) { function d() { var d = f.transport(f, function (d) { var f = e.processResults(d, a); e.options.get("debug") && window.console && console.error && (f && f.results && c.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), b(f) }, function () { "status" in d && (0 === d.status || "0" === d.status) || e.trigger("results:message", { message: "errorLoading" }) }); e._request = d } var e = this; null != this._request && (c.isFunction(this._request.abort) && this._request.abort(), this._request = null); var f = c.extend({ type: "GET" }, this.ajaxOptions); "function" == typeof f.url && (f.url = f.url.call(this.$element, a)), "function" == typeof f.data && (f.data = f.data.call(this.$element, a)), this.ajaxOptions.delay && null != a.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(d, this.ajaxOptions.delay)) : d() }, d }), b.define("select2/data/tags", ["jquery"], function (a) { function b(b, c, d) { var e = d.get("tags"), f = d.get("createTag"); void 0 !== f && (this.createTag = f); var g = d.get("insertTag"); if (void 0 !== g && (this.insertTag = g), b.call(this, c, d), a.isArray(e)) for (var h = 0; h < e.length; h++) { var i = e[h], j = this._normalizeItem(i), k = this.option(j); this.$element.append(k) } } return b.prototype.query = function (a, b, c) { function d(a, f) { for (var g = a.results, h = 0; h < g.length; h++) { var i = g[h], j = null != i.children && !d({ results: i.children }, !0); if ((i.text || "").toUpperCase() === (b.term || "").toUpperCase() || j) return !f && (a.data = g, void c(a)) } if (f) return !0; var k = e.createTag(b); if (null != k) { var l = e.option(k); l.attr("data-select2-tag", !0), e.addOptions([l]), e.insertTag(g, k) } a.results = g, c(a) } var e = this; if (this._removeOldTags(), null == b.term || null != b.page) return void a.call(this, b, c); a.call(this, b, d) }, b.prototype.createTag = function (b, c) { var d = a.trim(c.term); return "" === d ? null : { id: d, text: d } }, b.prototype.insertTag = function (a, b, c) { b.unshift(c) }, b.prototype._removeOldTags = function (b) { this._lastTag; this.$element.find("option[data-select2-tag]").each(function () { this.selected || a(this).remove() }) }, b }), b.define("select2/data/tokenizer", ["jquery"], function (a) { function b(a, b, c) { var d = c.get("tokenizer"); void 0 !== d && (this.tokenizer = d), a.call(this, b, c) } return b.prototype.bind = function (a, b, c) { a.call(this, b, c), this.$search = b.dropdown.$search || b.selection.$search || c.find(".select2-search__field") }, b.prototype.query = function (b, c, d) { function e(b) { var c = g._normalizeItem(b); if (!g.$element.find("option").filter(function () { return a(this).val() === c.id }).length) { var d = g.option(c); d.attr("data-select2-tag", !0), g._removeOldTags(), g.addOptions([d]) } f(c) } function f(a) { g.trigger("select", { data: a }) } var g = this; c.term = c.term || ""; var h = this.tokenizer(c, this.options, e); h.term !== c.term && (this.$search.length && (this.$search.val(h.term), this.$search.focus()), c.term = h.term), b.call(this, c, d) }, b.prototype.tokenizer = function (b, c, d, e) { for (var f = d.get("tokenSeparators") || [], g = c.term, h = 0, i = this.createTag || function (a) { return { id: a.term, text: a.term } }; h < g.length;) { var j = g[h]; if (-1 !== a.inArray(j, f)) { var k = g.substr(0, h), l = a.extend({}, c, { term: k }), m = i(l); null != m ? (e(m), g = g.substr(h + 1) || "", h = 0) : h++ } else h++ } return { term: g } }, b }), b.define("select2/data/minimumInputLength", [], function () { function a(a, b, c) { this.minimumInputLength = c.get("minimumInputLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { if (b.term = b.term || "", b.term.length < this.minimumInputLength) return void this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: b.term, params: b } }); a.call(this, b, c) }, a }), b.define("select2/data/maximumInputLength", [], function () { function a(a, b, c) { this.maximumInputLength = c.get("maximumInputLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { if (b.term = b.term || "", this.maximumInputLength > 0 && b.term.length > this.maximumInputLength) return void this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: b.term, params: b } }); a.call(this, b, c) }, a }), b.define("select2/data/maximumSelectionLength", [], function () { function a(a, b, c) { this.maximumSelectionLength = c.get("maximumSelectionLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { var d = this; this.current(function (e) { var f = null != e ? e.length : 0; if (d.maximumSelectionLength > 0 && f >= d.maximumSelectionLength) return void d.trigger("results:message", { message: "maximumSelected", args: { maximum: d.maximumSelectionLength } }); a.call(d, b, c) }) }, a }), b.define("select2/dropdown", ["jquery", "./utils"], function (a, b) { function c(a, b) { this.$element = a, this.options = b, c.__super__.constructor.call(this) } return b.Extend(c, b.Observable), c.prototype.render = function () { var b = a('<span class="select2-dropdown"><span class="select2-results"></span></span>'); return b.attr("dir", this.options.get("dir")), this.$dropdown = b, b }, c.prototype.bind = function () { }, c.prototype.position = function (a, b) { }, c.prototype.destroy = function () { this.$dropdown.remove() }, c }), b.define("select2/dropdown/search", ["jquery", "../utils"], function (a, b) { function c() { } return c.prototype.render = function (b) { var c = b.call(this), d = a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>'); return this.$searchContainer = d, this.$search = d.find("input"), c.prepend(d), c }, c.prototype.bind = function (b, c, d) { var e = this; b.call(this, c, d), this.$search.on("keydown", function (a) { e.trigger("keypress", a), e._keyUpPrevented = a.isDefaultPrevented() }), this.$search.on("input", function (b) { a(this).off("keyup") }), this.$search.on("keyup input", function (a) { e.handleSearch(a) }), c.on("open", function () { e.$search.attr("tabindex", 0), e.$search.focus(), window.setTimeout(function () { e.$search.focus() }, 0) }), c.on("close", function () { e.$search.attr("tabindex", -1), e.$search.val(""), e.$search.blur() }), c.on("focus", function () { c.isOpen() || e.$search.focus() }), c.on("results:all", function (a) { if (null == a.query.term || "" === a.query.term) { e.showSearch(a) ? e.$searchContainer.removeClass("select2-search--hide") : e.$searchContainer.addClass("select2-search--hide") } }) }, c.prototype.handleSearch = function (a) { if (!this._keyUpPrevented) { var b = this.$search.val(); this.trigger("query", { term: b }) } this._keyUpPrevented = !1 }, c.prototype.showSearch = function (a, b) { return !0 }, c }), b.define("select2/dropdown/hidePlaceholder", [], function () { function a(a, b, c, d) { this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c, d) } return a.prototype.append = function (a, b) { b.results = this.removePlaceholder(b.results), a.call(this, b) }, a.prototype.normalizePlaceholder = function (a, b) { return "string" == typeof b && (b = { id: "", text: b }), b }, a.prototype.removePlaceholder = function (a, b) { for (var c = b.slice(0), d = b.length - 1; d >= 0; d--) { var e = b[d]; this.placeholder.id === e.id && c.splice(d, 1) } return c }, a }), b.define("select2/dropdown/infiniteScroll", ["jquery"], function (a) { function b(a, b, c, d) { this.lastParams = {}, a.call(this, b, c, d), this.$loadingMore = this.createLoadingMore(), this.loading = !1 } return b.prototype.append = function (a, b) { this.$loadingMore.remove(), this.loading = !1, a.call(this, b), this.showLoadingMore(b) && this.$results.append(this.$loadingMore) }, b.prototype.bind = function (b, c, d) { var e = this; b.call(this, c, d), c.on("query", function (a) { e.lastParams = a, e.loading = !0 }), c.on("query:append", function (a) { e.lastParams = a, e.loading = !0 }), this.$results.on("scroll", function () { var b = a.contains(document.documentElement, e.$loadingMore[0]); if (!e.loading && b) { e.$results.offset().top + e.$results.outerHeight(!1) + 50 >= e.$loadingMore.offset().top + e.$loadingMore.outerHeight(!1) && e.loadMore() } }) }, b.prototype.loadMore = function () { this.loading = !0; var b = a.extend({}, { page: 1 }, this.lastParams); b.page++, this.trigger("query:append", b) }, b.prototype.showLoadingMore = function (a, b) { return b.pagination && b.pagination.more }, b.prototype.createLoadingMore = function () { var b = a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'), c = this.options.get("translations").get("loadingMore"); return b.html(c(this.lastParams)), b }, b }), b.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (a, b) { function c(b, c, d) { this.$dropdownParent = d.get("dropdownParent") || a(document.body), b.call(this, c, d) } return c.prototype.bind = function (a, b, c) { var d = this, e = !1; a.call(this, b, c), b.on("open", function () { d._showDropdown(), d._attachPositioningHandler(b), e || (e = !0, b.on("results:all", function () { d._positionDropdown(), d._resizeDropdown() }), b.on("results:append", function () { d._positionDropdown(), d._resizeDropdown() })) }), b.on("close", function () { d._hideDropdown(), d._detachPositioningHandler(b) }), this.$dropdownContainer.on("mousedown", function (a) { a.stopPropagation() }) }, c.prototype.destroy = function (a) { a.call(this), this.$dropdownContainer.remove() }, c.prototype.position = function (a, b, c) { b.attr("class", c.attr("class")), b.removeClass("select2"), b.addClass("select2-container--open"), b.css({ position: "absolute", top: -999999 }), this.$container = c }, c.prototype.render = function (b) { var c = a("<span></span>"), d = b.call(this); return c.append(d), this.$dropdownContainer = c, c }, c.prototype._hideDropdown = function (a) { this.$dropdownContainer.detach() }, c.prototype._attachPositioningHandler = function (c, d) { var e = this, f = "scroll.select2." + d.id, g = "resize.select2." + d.id, h = "orientationchange.select2." + d.id, i = this.$container.parents().filter(b.hasScroll); i.each(function () { b.StoreData(this, "select2-scroll-position", { x: a(this).scrollLeft(), y: a(this).scrollTop() }) }), i.on(f, function (c) { var d = b.GetData(this, "select2-scroll-position"); a(this).scrollTop(d.y) }), a(window).on(f + " " + g + " " + h, function (a) { e._positionDropdown(), e._resizeDropdown() }) }, c.prototype._detachPositioningHandler = function (c, d) { var e = "scroll.select2." + d.id, f = "resize.select2." + d.id, g = "orientationchange.select2." + d.id; this.$container.parents().filter(b.hasScroll).off(e), a(window).off(e + " " + f + " " + g) }, c.prototype._positionDropdown = function () { var b = a(window), c = this.$dropdown.hasClass("select2-dropdown--above"), d = this.$dropdown.hasClass("select2-dropdown--below"), e = null, f = this.$container.offset(); f.bottom = f.top + this.$container.outerHeight(!1); var g = { height: this.$container.outerHeight(!1) }; g.top = f.top, g.bottom = f.top + g.height; var h = { height: this.$dropdown.outerHeight(!1) }, i = { top: b.scrollTop(), bottom: b.scrollTop() + b.height() }, j = i.top < f.top - h.height, k = i.bottom > f.bottom + h.height, l = { left: f.left, top: g.bottom }, m = this.$dropdownParent; "static" === m.css("position") && (m = m.offsetParent()); var n = m.offset(); l.top -= n.top, l.left -= n.left, c || d || (e = "below"), k || !j || c ? !j && k && c && (e = "below") : e = "above", ("above" == e || c && "below" !== e) && (l.top = g.top - n.top - h.height), null != e && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + e), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + e)), this.$dropdownContainer.css(l) }, c.prototype._resizeDropdown = function () { var a = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (a.minWidth = a.width, a.position = "relative", a.width = "auto"), this.$dropdown.css(a) }, c.prototype._showDropdown = function (a) { this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown() }, c }), b.define("select2/dropdown/minimumResultsForSearch", [], function () { function a(b) { for (var c = 0, d = 0; d < b.length; d++) { var e = b[d]; e.children ? c += a(e.children) : c++ } return c } function b(a, b, c, d) { this.minimumResultsForSearch = c.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), a.call(this, b, c, d) } return b.prototype.showSearch = function (b, c) { return !(a(c.data.results) < this.minimumResultsForSearch) && b.call(this, c) }, b }), b.define("select2/dropdown/selectOnClose", ["../utils"], function (a) { function b() { } return b.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), b.on("close", function (a) { d._handleSelectOnClose(a) }) }, b.prototype._handleSelectOnClose = function (b, c) { if (c && null != c.originalSelect2Event) { var d = c.originalSelect2Event; if ("select" === d._type || "unselect" === d._type) return } var e = this.getHighlightedResults(); if (!(e.length < 1)) { var f = a.GetData(e[0], "data"); null != f.element && f.element.selected || null == f.element && f.selected || this.trigger("select", { data: f }) } }, b }), b.define("select2/dropdown/closeOnSelect", [], function () { function a() { } return a.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), b.on("select", function (a) { d._selectTriggered(a) }), b.on("unselect", function (a) { d._selectTriggered(a) }) }, a.prototype._selectTriggered = function (a, b) { var c = b.originalEvent; c && c.ctrlKey || this.trigger("close", { originalEvent: c, originalSelect2Event: b }) }, a }), b.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (a) { var b = a.input.length - a.maximum, c = "Please delete " + b + " character"; return 1 != b && (c += "s"), c }, inputTooShort: function (a) { return "Please enter " + (a.minimum - a.input.length) + " or more characters" }, loadingMore: function () { return "Loading more results" }, maximumSelected: function (a) { var b = "You can only select " + a.maximum + " item"; return 1 != a.maximum && (b += "s"), b }, noResults: function () { return "No results found" }, searching: function () { return "Searching" } } }), b.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C) { function D() { this.reset() } return D.prototype.apply = function (l) { if (l = a.extend(!0, {}, this.defaults, l), null == l.dataAdapter) { if (null != l.ajax ? l.dataAdapter = o : null != l.data ? l.dataAdapter = n : l.dataAdapter = m, l.minimumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, r)), l.maximumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, s)), l.maximumSelectionLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, t)), l.tags && (l.dataAdapter = j.Decorate(l.dataAdapter, p)), null == l.tokenSeparators && null == l.tokenizer || (l.dataAdapter = j.Decorate(l.dataAdapter, q)), null != l.query) { var C = b(l.amdBase + "compat/query"); l.dataAdapter = j.Decorate(l.dataAdapter, C) } if (null != l.initSelection) { var D = b(l.amdBase + "compat/initSelection"); l.dataAdapter = j.Decorate(l.dataAdapter, D) } } if (null == l.resultsAdapter && (l.resultsAdapter = c, null != l.ajax && (l.resultsAdapter = j.Decorate(l.resultsAdapter, x)), null != l.placeholder && (l.resultsAdapter = j.Decorate(l.resultsAdapter, w)), l.selectOnClose && (l.resultsAdapter = j.Decorate(l.resultsAdapter, A))), null == l.dropdownAdapter) { if (l.multiple) l.dropdownAdapter = u; else { var E = j.Decorate(u, v); l.dropdownAdapter = E } if (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, z)), l.closeOnSelect && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, B)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) { var F = b(l.amdBase + "compat/dropdownCss"); l.dropdownAdapter = j.Decorate(l.dropdownAdapter, F) } l.dropdownAdapter = j.Decorate(l.dropdownAdapter, y) } if (null == l.selectionAdapter) { if (l.multiple ? l.selectionAdapter = e : l.selectionAdapter = d, null != l.placeholder && (l.selectionAdapter = j.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = j.Decorate(l.selectionAdapter, g)), l.multiple && (l.selectionAdapter = j.Decorate(l.selectionAdapter, h)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) { var G = b(l.amdBase + "compat/containerCss"); l.selectionAdapter = j.Decorate(l.selectionAdapter, G) } l.selectionAdapter = j.Decorate(l.selectionAdapter, i) } if ("string" == typeof l.language) if (l.language.indexOf("-") > 0) { var H = l.language.split("-"), I = H[0]; l.language = [l.language, I] } else l.language = [l.language]; if (a.isArray(l.language)) { var J = new k; l.language.push("en"); for (var K = l.language, L = 0; L < K.length; L++) { var M = K[L], N = {}; try { N = k.loadPath(M) } catch (a) { try { M = this.defaults.amdLanguageBase + M, N = k.loadPath(M) } catch (a) { l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + M + '" could not be automatically loaded. A fallback will be used instead.'); continue } } J.extend(N) } l.translations = J } else { var O = k.loadPath(this.defaults.amdLanguageBase + "en"), P = new k(l.language); P.extend(O), l.translations = P } return l }, D.prototype.reset = function () { function b(a) { function b(a) { return l[a] || a } return a.replace(/[^\u0000-\u007E]/g, b) } function c(d, e) { if ("" === a.trim(d.term)) return e; if (e.children && e.children.length > 0) { for (var f = a.extend(!0, {}, e), g = e.children.length - 1; g >= 0; g--) { null == c(d, e.children[g]) && f.children.splice(g, 1) } return f.children.length > 0 ? f : c(d, f) } var h = b(e.text).toUpperCase(), i = b(d.term).toUpperCase(); return h.indexOf(i) > -1 ? e : null } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: j.escapeMarkup, language: C, matcher: c, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, sorter: function (a) { return a }, templateResult: function (a) { return a.text }, templateSelection: function (a) { return a.text }, theme: "default", width: "resolve" } }, D.prototype.set = function (b, c) { var d = a.camelCase(b), e = {}; e[d] = c; var f = j._convertData(e); a.extend(!0, this.defaults, f) }, new D }), b.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (a, b, c, d) { function e(b, e) { if (this.options = b, null != e && this.fromElement(e), this.options = c.apply(this.options), e && e.is("input")) { var f = a(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = d.Decorate(this.options.dataAdapter, f) } } return e.prototype.fromElement = function (a) { var c = ["select2"]; null == this.options.multiple && (this.options.multiple = a.prop("multiple")), null == this.options.disabled && (this.options.disabled = a.prop("disabled")), null == this.options.language && (a.prop("lang") ? this.options.language = a.prop("lang").toLowerCase() : a.closest("[lang]").prop("lang") && (this.options.language = a.closest("[lang]").prop("lang"))), null == this.options.dir && (a.prop("dir") ? this.options.dir = a.prop("dir") : a.closest("[dir]").prop("dir") ? this.options.dir = a.closest("[dir]").prop("dir") : this.options.dir = "ltr"), a.prop("disabled", this.options.disabled), a.prop("multiple", this.options.multiple), d.GetData(a[0], "select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), d.StoreData(a[0], "data", d.GetData(a[0], "select2Tags")), d.StoreData(a[0], "tags", !0)), d.GetData(a[0], "ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), a.attr("ajax--url", d.GetData(a[0], "ajaxUrl")), d.StoreData(a[0], "ajax-Url", d.GetData(a[0], "ajaxUrl"))); var e = {}; e = b.fn.jquery && "1." == b.fn.jquery.substr(0, 2) && a[0].dataset ? b.extend(!0, {}, a[0].dataset, d.GetData(a[0])) : d.GetData(a[0]); var f = b.extend(!0, {}, e); f = d._convertData(f); for (var g in f) b.inArray(g, c) > -1 || (b.isPlainObject(this.options[g]) ? b.extend(this.options[g], f[g]) : this.options[g] = f[g]); return this }, e.prototype.get = function (a) { return this.options[a] }, e.prototype.set = function (a, b) { this.options[a] = b }, e }), b.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (a, b, c, d) { var e = function (a, d) { null != c.GetData(a[0], "select2") && c.GetData(a[0], "select2").destroy(), this.$element = a, this.id = this._generateId(a), d = d || {}, this.options = new b(d, a), e.__super__.constructor.call(this); var f = a.attr("tabindex") || 0; c.StoreData(a[0], "old-tabindex", f), a.attr("tabindex", "-1"); var g = this.options.get("dataAdapter"); this.dataAdapter = new g(a, this.options); var h = this.render(); this._placeContainer(h); var i = this.options.get("selectionAdapter"); this.selection = new i(a, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, h); var j = this.options.get("dropdownAdapter"); this.dropdown = new j(a, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, h); var k = this.options.get("resultsAdapter"); this.results = new k(a, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown); var l = this; this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function (a) { l.trigger("selection:update", { data: a }) }), a.addClass("select2-hidden-accessible"), a.attr("aria-hidden", "true"), this._syncAttributes(), c.StoreData(a[0], "select2", this), a.data("select2", this) }; return c.Extend(e, c.Observable), e.prototype._generateId = function (a) { var b = ""; return b = null != a.attr("id") ? a.attr("id") : null != a.attr("name") ? a.attr("name") + "-" + c.generateChars(2) : c.generateChars(4), b = b.replace(/(:|\.|\[|\]|,)/g, ""), b = "select2-" + b }, e.prototype._placeContainer = function (a) { a.insertAfter(this.$element); var b = this._resolveWidth(this.$element, this.options.get("width")); null != b && a.css("width", b) }, e.prototype._resolveWidth = function (a, b) { var c = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i; if ("resolve" == b) { var d = this._resolveWidth(a, "style"); return null != d ? d : this._resolveWidth(a, "element") } if ("element" == b) { var e = a.outerWidth(!1); return e <= 0 ? "auto" : e + "px" } if ("style" == b) { var f = a.attr("style"); if ("string" != typeof f) return null; for (var g = f.split(";"), h = 0, i = g.length; h < i; h += 1) { var j = g[h].replace(/\s/g, ""), k = j.match(c); if (null !== k && k.length >= 1) return k[1] } return null } return b }, e.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container) }, e.prototype._registerDomEvents = function () { var b = this; this.$element.on("change.select2", function () { b.dataAdapter.current(function (a) { b.trigger("selection:update", { data: a }) }) }), this.$element.on("focus.select2", function (a) { b.trigger("focus", a) }), this._syncA = c.bind(this._syncAttributes, this), this._syncS = c.bind(this._syncSubtree, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); var d = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != d ? (this._observer = new d(function (c) { a.each(c, b._syncA), a.each(c, b._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", b._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", b._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", b._syncS, !1)) }, e.prototype._registerDataEvents = function () { var a = this; this.dataAdapter.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerSelectionEvents = function () { var b = this, c = ["toggle", "focus"]; this.selection.on("toggle", function () { b.toggleDropdown() }), this.selection.on("focus", function (a) { b.focus(a) }), this.selection.on("*", function (d, e) { -1 === a.inArray(d, c) && b.trigger(d, e) }) }, e.prototype._registerDropdownEvents = function () { var a = this; this.dropdown.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerResultsEvents = function () { var a = this; this.results.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerEvents = function () { var a = this; this.on("open", function () { a.$container.addClass("select2-container--open") }), this.on("close", function () { a.$container.removeClass("select2-container--open") }), this.on("enable", function () { a.$container.removeClass("select2-container--disabled") }), this.on("disable", function () { a.$container.addClass("select2-container--disabled") }), this.on("blur", function () { a.$container.removeClass("select2-container--focus") }), this.on("query", function (b) { a.isOpen() || a.trigger("open", {}), this.dataAdapter.query(b, function (c) { a.trigger("results:all", { data: c, query: b }) }) }), this.on("query:append", function (b) { this.dataAdapter.query(b, function (c) { a.trigger("results:append", { data: c, query: b }) }) }), this.on("keypress", function (b) { var c = b.which; a.isOpen() ? c === d.ESC || c === d.TAB || c === d.UP && b.altKey ? (a.close(), b.preventDefault()) : c === d.ENTER ? (a.trigger("results:select", {}), b.preventDefault()) : c === d.SPACE && b.ctrlKey ? (a.trigger("results:toggle", {}), b.preventDefault()) : c === d.UP ? (a.trigger("results:previous", {}), b.preventDefault()) : c === d.DOWN && (a.trigger("results:next", {}), b.preventDefault()) : (c === d.ENTER || c === d.SPACE || c === d.DOWN && b.altKey) && (a.open(), b.preventDefault()) }) }, e.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, e.prototype._syncSubtree = function (a, b) { var c = !1, d = this; if (!a || !a.target || "OPTION" === a.target.nodeName || "OPTGROUP" === a.target.nodeName) { if (b) if (b.addedNodes && b.addedNodes.length > 0) for (var e = 0; e < b.addedNodes.length; e++) { var f = b.addedNodes[e]; f.selected && (c = !0) } else b.removedNodes && b.removedNodes.length > 0 && (c = !0); else c = !0; c && this.dataAdapter.current(function (a) { d.trigger("selection:update", { data: a }) }) } }, e.prototype.trigger = function (a, b) { var c = e.__super__.trigger, d = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting", clear: "clearing" }; if (void 0 === b && (b = {}), a in d) { var f = d[a], g = { prevented: !1, name: a, args: b }; if (c.call(this, f, g), g.prevented) return void (b.prevented = !0) } c.call(this, a, b) }, e.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, e.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, e.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, e.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, e.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, e.prototype.focus = function (a) { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, e.prototype.enable = function (a) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), null != a && 0 !== a.length || (a = [!0]); var b = !a[0]; this.$element.prop("disabled", b) }, e.prototype.data = function () { this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var a = []; return this.dataAdapter.current(function (b) { a = b }), a }, e.prototype.val = function (b) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == b || 0 === b.length) return this.$element.val(); var c = b[0]; a.isArray(c) && (c = a.map(c, function (a) { return a.toString() })), this.$element.val(c).trigger("change") }, e.prototype.destroy = function () { this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)), this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", c.GetData(this.$element[0], "old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), c.RemoveData(this.$element[0]), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null }, e.prototype.render = function () { var b = a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>'); return b.attr("dir", this.options.get("dir")), this.$container = b, this.$container.addClass("select2-container--" + this.options.get("theme")), c.StoreData(b[0], "element", this.$element), b }, e }), b.define("jquery-mousewheel", ["jquery"], function (a) { return a }), b.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults", "./select2/utils"], function (a, b, c, d, e) { if (null == a.fn.select2) { var f = ["open", "close", "destroy"]; a.fn.select2 = function (b) { if ("object" == typeof (b = b || {})) return this.each(function () { var d = a.extend(!0, {}, b); new c(a(this), d) }), this; if ("string" == typeof b) { var d, g = Array.prototype.slice.call(arguments, 1); return this.each(function () { var a = e.GetData(this, "select2"); null == a && window.console && console.error && console.error("The select2('" + b + "') method was called on an element that is not using Select2."), d = a[b].apply(a, g) }), a.inArray(b, f) > -1 ? this : d } throw new Error("Invalid arguments for Select2: " + b) } } return null == a.fn.select2.defaults && (a.fn.select2.defaults = d), c }), { define: b.define, require: b.require } }(), c = b.require("jquery.select2"); return a.fn.select2.amd = b, c });
// 4.7.9 (2018-02-27)
// !function () { "use strict"; var e, t, n, r, o, i, a, u, s, c, l, f, d, m, p, g, h, v = function (e) { return function () { return e } }, y = { noop: function () { }, noarg: function (e) { return function () { return e() } }, compose: function (e, t) { return function () { return e(t.apply(null, arguments)) } }, constant: v, identity: function (e) { return e }, tripleEquals: function (e, t) { return e === t }, curry: function (e) { for (var t = new Array(arguments.length - 1), n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; return function () { for (var n = new Array(arguments.length), r = 0; r < n.length; r++)n[r] = arguments[r]; var o = t.concat(n); return e.apply(null, o) } }, not: function (e) { return function () { return !e.apply(null, arguments) } }, die: function (e) { return function () { throw new Error(e) } }, apply: function (e) { return e() }, call: function (e) { e() }, never: v(!1), always: v(!0) }, b = y.never, C = y.always, x = function () { return w }, w = (r = { fold: function (e, t) { return e() }, is: b, isSome: b, isNone: C, getOr: n = function (e) { return e }, getOrThunk: t = function (e) { return e() }, getOrDie: function (e) { throw new Error(e || "error: getOrDie called on none.") }, or: n, orThunk: t, map: x, ap: x, each: function () { }, bind: x, flatten: x, exists: b, forall: C, filter: x, equals: e = function (e) { return e.isNone() }, equals_: e, toArray: function () { return [] }, toString: y.constant("none()") }, Object.freeze && Object.freeze(r), r), N = function (e) { var t = function () { return e }, n = function () { return o }, r = function (t) { return t(e) }, o = { fold: function (t, n) { return n(e) }, is: function (t) { return e === t }, isSome: C, isNone: b, getOr: t, getOrThunk: t, getOrDie: t, or: n, orThunk: n, map: function (t) { return N(t(e)) }, ap: function (t) { return t.fold(x, function (t) { return N(t(e)) }) }, each: function (t) { t(e) }, bind: r, flatten: t, exists: r, forall: r, filter: function (t) { return t(e) ? o : w }, equals: function (t) { return t.is(e) }, equals_: function (t, n) { return t.fold(b, function (t) { return n(e, t) }) }, toArray: function () { return [e] }, toString: function () { return "some(" + e + ")" } }; return o }, E = { some: N, none: x, from: function (e) { return null === e || e === undefined ? w : N(e) } }, S = (o = Array.prototype.indexOf) === undefined ? function (e, t) { return D(e, t) } : function (e, t) { return o.call(e, t) }, k = function (e, t) { return S(e, t) > -1 }, T = function (e, t) { for (var n = e.length, r = new Array(n), o = 0; o < n; o++) { var i = e[o]; r[o] = t(i, o, e) } return r }, A = function (e, t) { for (var n = 0, r = e.length; n < r; n++)t(e[n], n, e) }, _ = function (e, t) { for (var n = e.length - 1; n >= 0; n--)t(e[n], n, e) }, R = function (e, t) { for (var n = [], r = 0, o = e.length; r < o; r++) { var i = e[r]; t(i, r, e) && n.push(i) } return n }, B = function (e, t) { for (var n = 0, r = e.length; n < r; n++)if (t(e[n], n, e)) return E.some(n); return E.none() }, D = function (e, t) { for (var n = 0, r = e.length; n < r; ++n)if (e[n] === t) return n; return -1 }, O = Array.prototype.push, P = function (e) { for (var t = [], n = 0, r = e.length; n < r; ++n) { if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e); O.apply(t, e[n]) } return t }, L = function (e, t) { for (var n = 0, r = e.length; n < r; ++n)if (!0 !== t(e[n], n, e)) return !1; return !0 }, I = Array.prototype.slice, M = { map: T, each: A, eachr: _, partition: function (e, t) { for (var n = [], r = [], o = 0, i = e.length; o < i; o++) { var a = e[o]; (t(a, o, e) ? n : r).push(a) } return { pass: n, fail: r } }, filter: R, groupBy: function (e, t) { if (0 === e.length) return []; for (var n = t(e[0]), r = [], o = [], i = 0, a = e.length; i < a; i++) { var u = e[i], s = t(u); s !== n && (r.push(o), o = []), n = s, o.push(u) } return 0 !== o.length && r.push(o), r }, indexOf: function (e, t) { var n = S(e, t); return -1 === n ? E.none() : E.some(n) }, foldr: function (e, t, n) { return _(e, function (e) { n = t(n, e) }), n }, foldl: function (e, t, n) { return A(e, function (e) { n = t(n, e) }), n }, find: function (e, t) { for (var n = 0, r = e.length; n < r; n++) { var o = e[n]; if (t(o, n, e)) return E.some(o) } return E.none() }, findIndex: B, flatten: P, bind: function (e, t) { var n = T(e, t); return P(n) }, forall: L, exists: function (e, t) { return B(e, t).isSome() }, contains: k, equal: function (e, t) { return e.length === t.length && L(e, function (e, n) { return e === t[n] }) }, reverse: function (e) { var t = I.call(e, 0); return t.reverse(), t }, chunk: function (e, t) { for (var n = [], r = 0; r < e.length; r += t) { var o = e.slice(r, r + t); n.push(o) } return n }, difference: function (e, t) { return R(e, function (e) { return !k(t, e) }) }, mapToObject: function (e, t) { for (var n = {}, r = 0, o = e.length; r < o; r++) { var i = e[r]; n[String(i)] = t(i, r) } return n }, pure: function (e) { return [e] }, sort: function (e, t) { var n = I.call(e, 0); return n.sort(t), n }, range: function (e, t) { for (var n = [], r = 0; r < e; r++)n.push(t(r)); return n }, head: function (e) { return 0 === e.length ? E.none() : E.some(e[0]) }, last: function (e) { return 0 === e.length ? E.none() : E.some(e[e.length - 1]) } }, F = "undefined" != typeof window ? window : Function("return this;")(), z = function (e, t) { for (var n = t !== undefined && null !== t ? t : F, r = 0; r < e.length && n !== undefined && null !== n; ++r)n = n[e[r]]; return n }, U = function (e, t) { var n = e.split("."); return z(n, t) }, q = { getOrDie: function (e, t) { var n = U(e, t); if (n === undefined || null === n) throw e + " not available on this browser"; return n } }, V = function () { return q.getOrDie("URL") }, H = { createObjectURL: function (e) { return V().createObjectURL(e) }, revokeObjectURL: function (e) { V().revokeObjectURL(e) } }, j = navigator, $ = j.userAgent, W = function (e) { return "matchMedia" in window && matchMedia(e).matches }; d = /Android/.test($), a = (a = !(i = /WebKit/.test($)) && /MSIE/gi.test($) && /Explorer/gi.test(j.appName)) && /MSIE (\w+)\./.exec($)[1], u = -1 !== $.indexOf("Trident/") && (-1 !== $.indexOf("rv:") || -1 !== j.appName.indexOf("Netscape")) && 11, s = -1 !== $.indexOf("Edge/") && !a && !u && 12, a = a || u || s, c = !i && !u && /Gecko/.test($), l = -1 !== $.indexOf("Mac"), f = /(iPad|iPhone)/.test($), m = "FormData" in window && "FileReader" in window && "URL" in window && !!H.createObjectURL, p = W("only screen and (max-device-width: 480px)") && (d || f), g = W("only screen and (min-width: 800px)") && (d || f), h = -1 !== $.indexOf("Windows Phone"), s && (i = !1); var K, X, Y, G, J, Q, Z, ee, te, ne, re, oe, ie, ae, ue, se, ce, le, fe, de = { opera: !1, webkit: i, ie: a, gecko: c, mac: l, iOS: f, android: d, contentEditable: !f || m || parseInt($.match(/AppleWebKit\/(\d*)/)[1], 10) >= 534, transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", caretAfter: 8 !== a, range: window.getSelection && "Range" in window, documentMode: a && !s ? document.documentMode || 7 : 10, fileApi: m, ceFalse: !1 === a || a > 8, cacheSuffix: "", container: null, overrideViewPort: null, experimentalShadowDom: !1, canHaveCSP: !1 === a || a > 11, desktop: !p && !g, windowsPhone: h }, me = window.Promise ? window.Promise : function () { function e(e, t) { return function () { e.apply(t, arguments) } } var t = Array.isArray || function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, n = function (t) { if ("object" != typeof this) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof t) throw new TypeError("not a function"); this._state = null, this._value = null, this._deferreds = [], s(t, e(i, this), e(a, this)) }, r = n.immediateFn || "function" == typeof setImmediate && setImmediate || function (e) { setTimeout(e, 1) }; function o(e) { var t = this; null !== this._state ? r(function () { var n = t._state ? e.onFulfilled : e.onRejected; if (null !== n) { var r; try { r = n(t._value) } catch (o) { return void e.reject(o) } e.resolve(r) } else (t._state ? e.resolve : e.reject)(t._value) }) : this._deferreds.push(e) } function i(t) { try { if (t === this) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" == typeof t || "function" == typeof t)) { var n = t.then; if ("function" == typeof n) return void s(e(n, t), e(i, this), e(a, this)) } this._state = !0, this._value = t, u.call(this) } catch (r) { a.call(this, r) } } function a(e) { this._state = !1, this._value = e, u.call(this) } function u() { for (var e = 0, t = this._deferreds.length; e < t; e++)o.call(this, this._deferreds[e]); this._deferreds = null } function s(e, t, n) { var r = !1; try { e(function (e) { r || (r = !0, t(e)) }, function (e) { r || (r = !0, n(e)) }) } catch (o) { if (r) return; r = !0, n(o) } } return n.prototype["catch"] = function (e) { return this.then(null, e) }, n.prototype.then = function (e, t) { var r = this; return new n(function (n, i) { o.call(r, new function (e, t, n, r) { this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r }(e, t, n, i)) }) }, n.all = function () { var e = Array.prototype.slice.call(1 === arguments.length && t(arguments[0]) ? arguments[0] : arguments); return new n(function (t, n) { if (0 === e.length) return t([]); var r = e.length; function o(i, a) { try { if (a && ("object" == typeof a || "function" == typeof a)) { var u = a.then; if ("function" == typeof u) return void u.call(a, function (e) { o(i, e) }, n) } e[i] = a, 0 == --r && t(e) } catch (s) { n(s) } } for (var i = 0; i < e.length; i++)o(i, e[i]) }) }, n.resolve = function (e) { return e && "object" == typeof e && e.constructor === n ? e : new n(function (t) { t(e) }) }, n.reject = function (e) { return new n(function (t, n) { n(e) }) }, n.race = function (e) { return new n(function (t, n) { for (var r = 0, o = e.length; r < o; r++)e[r].then(t, n) }) }, n }(), pe = function (e, t) { return "number" != typeof t && (t = 0), setTimeout(e, t) }, ge = function (e, t) { return "number" != typeof t && (t = 1), setInterval(e, t) }, he = function (e, t) { var n, r; return (r = function () { var r = arguments; clearTimeout(n), n = pe(function () { e.apply(this, r) }, t) }).stop = function () { clearTimeout(n) }, r }, ve = { requestAnimationFrame: function (e, t) { K ? K.then(e) : K = new me(function (e) { t || (t = document.body), function (e, t) { var n, r = window.requestAnimationFrame, o = ["ms", "moz", "webkit"]; for (n = 0; n < o.length && !r; n++)r = window[o[n] + "RequestAnimationFrame"]; r || (r = function (e) { window.setTimeout(e, 0) }), r(e, t) }(e, t) }).then(e) }, setTimeout: pe, setInterval: ge, setEditorTimeout: function (e, t, n) { return pe(function () { e.removed || t() }, n) }, setEditorInterval: function (e, t, n) { var r; return r = ge(function () { e.removed ? clearInterval(r) : t() }, n) }, debounce: he, throttle: he, clearInterval: function (e) { return clearInterval(e) }, clearTimeout: function (e) { return clearTimeout(e) } }, ye = /^(?:mouse|contextmenu)|click/, be = { keyLocation: 1, layerX: 1, layerY: 1, returnValue: 1, webkitMovementX: 1, webkitMovementY: 1, keyIdentifier: 1 }, Ce = function () { return !1 }, xe = function () { return !0 }, we = function (e, t, n, r) { e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n) }, Ne = function (e, t, n, r) { e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n) }, Ee = function (e, t) { var n, r, o, i, a, u, s = t || {}; for (n in e) be[n] || (s[n] = e[n]); if (s.target || (s.target = s.srcElement || document), de.experimentalShadowDom && (s.target = (r = e, o = s.target, a = o, (i = r.path) && i.length > 0 && (a = i[0]), r.composedPath && (i = r.composedPath()) && i.length > 0 && (a = i[0]), a)), e && ye.test(e.type) && e.pageX === undefined && e.clientX !== undefined) { var c = s.target.ownerDocument || document, l = c.documentElement, f = c.body; s.pageX = e.clientX + (l && l.scrollLeft || f && f.scrollLeft || 0) - (l && l.clientLeft || f && f.clientLeft || 0), s.pageY = e.clientY + (l && l.scrollTop || f && f.scrollTop || 0) - (l && l.clientTop || f && f.clientTop || 0) } return s.preventDefault = function () { s.isDefaultPrevented = xe, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1) }, s.stopPropagation = function () { s.isPropagationStopped = xe, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0) }, s.stopImmediatePropagation = function () { s.isImmediatePropagationStopped = xe, s.stopPropagation() }, 0 == ((u = s).isDefaultPrevented === xe || u.isDefaultPrevented === Ce) && (s.isDefaultPrevented = Ce, s.isPropagationStopped = Ce, s.isImmediatePropagationStopped = Ce), "undefined" == typeof s.metaKey && (s.metaKey = !1), s }, Se = function (e, t, n) { var r = e.document, o = { type: "ready" }; if (n.domLoaded) t(o); else { var i = function () { return "complete" === r.readyState || "interactive" === r.readyState && r.body }, a = function () { n.domLoaded || (n.domLoaded = !0, t(o)) }, u = function () { i() && (Ne(r, "readystatechange", u), a()) }, s = function () { try { r.documentElement.doScroll("left") } catch (e) { return void ve.setTimeout(s) } a() }; !r.addEventListener || de.ie && de.ie < 11 ? (we(r, "readystatechange", u), r.documentElement.doScroll && e.self === e.top && s()) : i() ? a() : we(e, "DOMContentLoaded", a), we(e, "load", a) } }, ke = function () { var e, t, n, r, o, i = this, a = {}; t = "mce-data-" + (+new Date).toString(32), r = "onmouseenter" in document.documentElement, n = "onfocusin" in document.documentElement, o = { mouseenter: "mouseover", mouseleave: "mouseout" }, e = 1, i.domLoaded = !1, i.events = a; var u = function (e, t) { var n, r, o, i, u = a[t]; if (n = u && u[e.type]) for (r = 0, o = n.length; r < o; r++)if ((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return }; i.bind = function (s, c, l, f) { var d, m, p, g, h, v, y, b = window, C = function (e) { u(Ee(e || b.event), d) }; if (s && 3 !== s.nodeType && 8 !== s.nodeType) { for (s[t] ? d = s[t] : (d = e++, s[t] = d, a[d] = {}), f = f || s, p = (c = c.split(" ")).length; p--;)v = C, h = y = !1, "DOMContentLoaded" === (g = c[p]) && (g = "ready"), i.domLoaded && "ready" === g && "complete" === s.readyState ? l.call(f, Ee({ type: g })) : (r || (h = o[g]) && (v = function (e) { var t, n; if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n); else for (; n && n !== t;)n = n.parentNode; n || ((e = Ee(e || b.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, u(e, d)) }), n || "focusin" !== g && "focusout" !== g || (y = !0, h = "focusin" === g ? "focus" : "blur", v = function (e) { (e = Ee(e || b.event)).type = "focus" === e.type ? "focusin" : "focusout", u(e, d) }), (m = a[d][g]) ? "ready" === g && i.domLoaded ? l({ type: g }) : m.push({ func: l, scope: f }) : (a[d][g] = m = [{ func: l, scope: f }], m.fakeName = h, m.capture = y, m.nativeHandler = v, "ready" === g ? Se(s, v, i) : we(s, h || g, v, y))); return s = m = 0, l } }, i.unbind = function (e, n, r) { var o, u, s, c, l, f; if (!e || 3 === e.nodeType || 8 === e.nodeType) return i; if (o = e[t]) { if (f = a[o], n) { for (s = (n = n.split(" ")).length; s--;)if (u = f[l = n[s]]) { if (r) for (c = u.length; c--;)if (u[c].func === r) { var d = u.nativeHandler, m = u.fakeName, p = u.capture; (u = u.slice(0, c).concat(u.slice(c + 1))).nativeHandler = d, u.fakeName = m, u.capture = p, f[l] = u } r && 0 !== u.length || (delete f[l], Ne(e, u.fakeName || l, u.nativeHandler, u.capture)) } } else { for (l in f) u = f[l], Ne(e, u.fakeName || l, u.nativeHandler, u.capture); f = {} } for (l in f) return i; delete a[o]; try { delete e[t] } catch (g) { e[t] = null } } return i }, i.fire = function (e, n, r) { var o; if (!e || 3 === e.nodeType || 8 === e.nodeType) return i; for ((r = Ee(null, r)).type = n, r.target = e; (o = e[t]) && u(r, o), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !r.isPropagationStopped();); return i }, i.clean = function (e) { var n, r, o = i.unbind; if (!e || 3 === e.nodeType || 8 === e.nodeType) return i; if (e[t] && o(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName) for (o(e), n = (r = e.getElementsByTagName("*")).length; n--;)(e = r[n])[t] && o(e); return i }, i.destroy = function () { a = {} }, i.cancel = function (e) { return e && (e.preventDefault(), e.stopImmediatePropagation()), !1 } }; (ke.Event = new ke).bind(window, "ready", function () { }); var Te = "sizzle" + -new Date, Ae = window.document, _e = 0, Re = 0, Be = lt(), De = lt(), Oe = lt(), Pe = function (e, t) { return e === t && (oe = !0), 0 }, Le = typeof undefined, Ie = 1 << 31, Me = {}.hasOwnProperty, Fe = [], ze = Fe.pop, Ue = Fe.push, qe = Fe.push, Ve = Fe.slice, He = Fe.indexOf || function (e) { for (var t = 0, n = this.length; t < n; t++)if (this[t] === e) return t; return -1 }, je = "[\\x20\\t\\r\\n\\f]", $e = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", We = "\\[" + je + "*(" + $e + ")(?:" + je + "*([*^$|!~]?=)" + je + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + $e + "))|)" + je + "*\\]", Ke = ":(" + $e + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + We + ")*)|.*)\\)|)", Xe = new RegExp("^" + je + "+|((?:^|[^\\\\])(?:\\\\.)*)" + je + "+$", "g"), Ye = new RegExp("^" + je + "*," + je + "*"), Ge = new RegExp("^" + je + "*([>+~]|" + je + ")" + je + "*"), Je = new RegExp("=" + je + "*([^\\]'\"]*?)" + je + "*\\]", "g"), Qe = new RegExp(Ke), Ze = new RegExp("^" + $e + "$"), et = { ID: new RegExp("^#(" + $e + ")"), CLASS: new RegExp("^\\.(" + $e + ")"), TAG: new RegExp("^(" + $e + "|[*])"), ATTR: new RegExp("^" + We), PSEUDO: new RegExp("^" + Ke), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + je + "*(even|odd|(([+-]|)(\\d*)n|)" + je + "*(?:([+-]|)" + je + "*(\\d+)|))" + je + "*\\)|)", "i"), bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"), needsContext: new RegExp("^" + je + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + je + "*((?:-\\d)?\\d*)" + je + "*\\)|)(?=[^-]|$)", "i") }, tt = /^(?:input|select|textarea|button)$/i, nt = /^h\d$/i, rt = /^[^{]+\{\s*\[native \w/, ot = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, it = /[+~]/, at = /'|\\/g, ut = new RegExp("\\\\([\\da-f]{1,6}" + je + "?|(" + je + ")|.)", "ig"), st = function (e, t, n) { var r = "0x" + t - 65536; return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320) }; try { qe.apply(Fe = Ve.call(Ae.childNodes), Ae.childNodes), Fe[Ae.childNodes.length].nodeType } catch (vx) { qe = { apply: Fe.length ? function (e, t) { Ue.apply(e, Ve.call(t)) } : function (e, t) { for (var n = e.length, r = 0; e[n++] = t[r++];); e.length = n - 1 } } } var ct = function (e, t, n, r) { var o, i, a, u, s, c, l, f, d, m; if ((t ? t.ownerDocument || t : Ae) !== ae && ie(t), n = n || [], !e || "string" != typeof e) return n; if (1 !== (u = (t = t || ae).nodeType) && 9 !== u) return []; if (se && !r) { if (o = ot.exec(e)) if (a = o[1]) { if (9 === u) { if (!(i = t.getElementById(a)) || !i.parentNode) return n; if (i.id === a) return n.push(i), n } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && fe(t, i) && i.id === a) return n.push(i), n } else { if (o[2]) return qe.apply(n, t.getElementsByTagName(e)), n; if ((a = o[3]) && Y.getElementsByClassName) return qe.apply(n, t.getElementsByClassName(a)), n } if (Y.qsa && (!ce || !ce.test(e))) { if (f = l = Te, d = t, m = 9 === u && e, 1 === u && "object" !== t.nodeName.toLowerCase()) { for (c = Z(e), (l = t.getAttribute("id")) ? f = l.replace(at, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", s = c.length; s--;)c[s] = f + yt(c[s]); d = it.test(e) && ht(t.parentNode) || t, m = c.join(",") } if (m) try { return qe.apply(n, d.querySelectorAll(m)), n } catch (p) { } finally { l || t.removeAttribute("id") } } } return te(e.replace(Xe, "$1"), t, n, r) }; function lt() { var e = []; return function t(n, r) { return e.push(n + " ") > G.cacheLength && delete t[e.shift()], t[n + " "] = r } } function ft(e) { return e[Te] = !0, e } function dt(e, t) { var n = t && e, r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || Ie) - (~e.sourceIndex || Ie); if (r) return r; if (n) for (; n = n.nextSibling;)if (n === t) return -1; return e ? 1 : -1 } function mt(e) { return function (t) { return "input" === t.nodeName.toLowerCase() && t.type === e } } function pt(e) { return function (t) { var n = t.nodeName.toLowerCase(); return ("input" === n || "button" === n) && t.type === e } } function gt(e) { return ft(function (t) { return t = +t, ft(function (n, r) { for (var o, i = e([], n.length, t), a = i.length; a--;)n[o = i[a]] && (n[o] = !(r[o] = n[o])) }) }) } function ht(e) { return e && typeof e.getElementsByTagName !== Le && e } for (X in Y = ct.support = {}, Q = ct.isXML = function (e) { var t = e && (e.ownerDocument || e).documentElement; return !!t && "HTML" !== t.nodeName }, ie = ct.setDocument = function (e) { var t, n = e ? e.ownerDocument || e : Ae, r = n.defaultView; return n !== ae && 9 === n.nodeType && n.documentElement ? (ae = n, ue = n.documentElement, se = !Q(n), r && r !== function (e) { try { return e.top } catch (t) { } return null }(r) && (r.addEventListener ? r.addEventListener("unload", function () { ie() }, !1) : r.attachEvent && r.attachEvent("onunload", function () { ie() })), Y.attributes = !0, Y.getElementsByTagName = !0, Y.getElementsByClassName = rt.test(n.getElementsByClassName), Y.getById = !0, G.find.ID = function (e, t) { if (typeof t.getElementById !== Le && se) { var n = t.getElementById(e); return n && n.parentNode ? [n] : [] } }, G.filter.ID = function (e) { var t = e.replace(ut, st); return function (e) { return e.getAttribute("id") === t } }, G.find.TAG = Y.getElementsByTagName ? function (e, t) { if (typeof t.getElementsByTagName !== Le) return t.getElementsByTagName(e) } : function (e, t) { var n, r = [], o = 0, i = t.getElementsByTagName(e); if ("*" === e) { for (; n = i[o++];)1 === n.nodeType && r.push(n); return r } return i }, G.find.CLASS = Y.getElementsByClassName && function (e, t) { if (se) return t.getElementsByClassName(e) }, le = [], ce = [], Y.disconnectedMatch = !0, ce = ce.length && new RegExp(ce.join("|")), le = le.length && new RegExp(le.join("|")), t = rt.test(ue.compareDocumentPosition), fe = t || rt.test(ue.contains) ? function (e, t) { var n = 9 === e.nodeType ? e.documentElement : e, r = t && t.parentNode; return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r))) } : function (e, t) { if (t) for (; t = t.parentNode;)if (t === e) return !0; return !1 }, Pe = t ? function (e, t) { if (e === t) return oe = !0, 0; var r = !e.compareDocumentPosition - !t.compareDocumentPosition; return r || (1 & (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !Y.sortDetached && t.compareDocumentPosition(e) === r ? e === n || e.ownerDocument === Ae && fe(Ae, e) ? -1 : t === n || t.ownerDocument === Ae && fe(Ae, t) ? 1 : re ? He.call(re, e) - He.call(re, t) : 0 : 4 & r ? -1 : 1) } : function (e, t) { if (e === t) return oe = !0, 0; var r, o = 0, i = e.parentNode, a = t.parentNode, u = [e], s = [t]; if (!i || !a) return e === n ? -1 : t === n ? 1 : i ? -1 : a ? 1 : re ? He.call(re, e) - He.call(re, t) : 0; if (i === a) return dt(e, t); for (r = e; r = r.parentNode;)u.unshift(r); for (r = t; r = r.parentNode;)s.unshift(r); for (; u[o] === s[o];)o++; return o ? dt(u[o], s[o]) : u[o] === Ae ? -1 : s[o] === Ae ? 1 : 0 }, n) : ae }, ct.matches = function (e, t) { return ct(e, null, null, t) }, ct.matchesSelector = function (e, t) { if ((e.ownerDocument || e) !== ae && ie(e), t = t.replace(Je, "='$1']"), Y.matchesSelector && se && (!le || !le.test(t)) && (!ce || !ce.test(t))) try { var n = (void 0).call(e, t); if (n || Y.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n } catch (vx) { } return ct(t, ae, null, [e]).length > 0 }, ct.contains = function (e, t) { return (e.ownerDocument || e) !== ae && ie(e), fe(e, t) }, ct.attr = function (e, t) { (e.ownerDocument || e) !== ae && ie(e); var n = G.attrHandle[t.toLowerCase()], r = n && Me.call(G.attrHandle, t.toLowerCase()) ? n(e, t, !se) : undefined; return r !== undefined ? r : Y.attributes || !se ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null }, ct.error = function (e) { throw new Error("Syntax error, unrecognized expression: " + e) }, ct.uniqueSort = function (e) { var t, n = [], r = 0, o = 0; if (oe = !Y.detectDuplicates, re = !Y.sortStable && e.slice(0), e.sort(Pe), oe) { for (; t = e[o++];)t === e[o] && (r = n.push(o)); for (; r--;)e.splice(n[r], 1) } return re = null, e }, J = ct.getText = function (e) { var t, n = "", r = 0, o = e.nodeType; if (o) { if (1 === o || 9 === o || 11 === o) { if ("string" == typeof e.textContent) return e.textContent; for (e = e.firstChild; e; e = e.nextSibling)n += J(e) } else if (3 === o || 4 === o) return e.nodeValue } else for (; t = e[r++];)n += J(t); return n }, (G = ct.selectors = { cacheLength: 50, createPseudo: ft, match: et, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (e) { return e[1] = e[1].replace(ut, st), e[3] = (e[3] || e[4] || e[5] || "").replace(ut, st), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4) }, CHILD: function (e) { return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || ct.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && ct.error(e[0]), e }, PSEUDO: function (e) { var t, n = !e[6] && e[2]; return et.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && Qe.test(n) && (t = Z(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3)) } }, filter: { TAG: function (e) { var t = e.replace(ut, st).toLowerCase(); return "*" === e ? function () { return !0 } : function (e) { return e.nodeName && e.nodeName.toLowerCase() === t } }, CLASS: function (e) { var t = Be[e + " "]; return t || (t = new RegExp("(^|" + je + ")" + e + "(" + je + "|$)")) && Be(e, function (e) { return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Le && e.getAttribute("class") || "") }) }, ATTR: function (e, t, n) { return function (r) { var o = ct.attr(r, e); return null == o ? "!=" === t : !t || (o += "", "=" === t ? o === n : "!=" === t ? o !== n : "^=" === t ? n && 0 === o.indexOf(n) : "*=" === t ? n && o.indexOf(n) > -1 : "$=" === t ? n && o.slice(-n.length) === n : "~=" === t ? (" " + o + " ").indexOf(n) > -1 : "|=" === t && (o === n || o.slice(0, n.length + 1) === n + "-")) } }, CHILD: function (e, t, n, r, o) { var i = "nth" !== e.slice(0, 3), a = "last" !== e.slice(-4), u = "of-type" === t; return 1 === r && 0 === o ? function (e) { return !!e.parentNode } : function (t, n, s) { var c, l, f, d, m, p, g = i !== a ? "nextSibling" : "previousSibling", h = t.parentNode, v = u && t.nodeName.toLowerCase(), y = !s && !u; if (h) { if (i) { for (; g;) { for (f = t; f = f[g];)if (u ? f.nodeName.toLowerCase() === v : 1 === f.nodeType) return !1; p = g = "only" === e && !p && "nextSibling" } return !0 } if (p = [a ? h.firstChild : h.lastChild], a && y) { for (m = (c = (l = h[Te] || (h[Te] = {}))[e] || [])[0] === _e && c[1], d = c[0] === _e && c[2], f = m && h.childNodes[m]; f = ++m && f && f[g] || (d = m = 0) || p.pop();)if (1 === f.nodeType && ++d && f === t) { l[e] = [_e, m, d]; break } } else if (y && (c = (t[Te] || (t[Te] = {}))[e]) && c[0] === _e) d = c[1]; else for (; (f = ++m && f && f[g] || (d = m = 0) || p.pop()) && ((u ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++d || (y && ((f[Te] || (f[Te] = {}))[e] = [_e, d]), f !== t));); return (d -= o) === r || d % r == 0 && d / r >= 0 } } }, PSEUDO: function (e, t) { var n, r = G.pseudos[e] || G.setFilters[e.toLowerCase()] || ct.error("unsupported pseudo: " + e); return r[Te] ? r(t) : r.length > 1 ? (n = [e, e, "", t], G.setFilters.hasOwnProperty(e.toLowerCase()) ? ft(function (e, n) { for (var o, i = r(e, t), a = i.length; a--;)e[o = He.call(e, i[a])] = !(n[o] = i[a]) }) : function (e) { return r(e, 0, n) }) : r } }, pseudos: { not: ft(function (e) { var t = [], n = [], r = ee(e.replace(Xe, "$1")); return r[Te] ? ft(function (e, t, n, o) { for (var i, a = r(e, null, o, []), u = e.length; u--;)(i = a[u]) && (e[u] = !(t[u] = i)) }) : function (e, o, i) { return t[0] = e, r(t, null, i, n), !n.pop() } }), has: ft(function (e) { return function (t) { return ct(e, t).length > 0 } }), contains: ft(function (e) { return e = e.replace(ut, st), function (t) { return (t.textContent || t.innerText || J(t)).indexOf(e) > -1 } }), lang: ft(function (e) { return Ze.test(e || "") || ct.error("unsupported lang: " + e), e = e.replace(ut, st).toLowerCase(), function (t) { var n; do { if (n = se ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-") } while ((t = t.parentNode) && 1 === t.nodeType); return !1 } }), target: function (e) { var t = window.location && window.location.hash; return t && t.slice(1) === e.id }, root: function (e) { return e === ue }, focus: function (e) { return e === ae.activeElement && (!ae.hasFocus || ae.hasFocus()) && !!(e.type || e.href || ~e.tabIndex) }, enabled: function (e) { return !1 === e.disabled }, disabled: function (e) { return !0 === e.disabled }, checked: function (e) { var t = e.nodeName.toLowerCase(); return "input" === t && !!e.checked || "option" === t && !!e.selected }, selected: function (e) { return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected }, empty: function (e) { for (e = e.firstChild; e; e = e.nextSibling)if (e.nodeType < 6) return !1; return !0 }, parent: function (e) { return !G.pseudos.empty(e) }, header: function (e) { return nt.test(e.nodeName) }, input: function (e) { return tt.test(e.nodeName) }, button: function (e) { var t = e.nodeName.toLowerCase(); return "input" === t && "button" === e.type || "button" === t }, text: function (e) { var t; return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase()) }, first: gt(function () { return [0] }), last: gt(function (e, t) { return [t - 1] }), eq: gt(function (e, t, n) { return [n < 0 ? n + t : n] }), even: gt(function (e, t) { for (var n = 0; n < t; n += 2)e.push(n); return e }), odd: gt(function (e, t) { for (var n = 1; n < t; n += 2)e.push(n); return e }), lt: gt(function (e, t, n) { for (var r = n < 0 ? n + t : n; --r >= 0;)e.push(r); return e }), gt: gt(function (e, t, n) { for (var r = n < 0 ? n + t : n; ++r < t;)e.push(r); return e }) } }).pseudos.nth = G.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) G.pseudos[X] = mt(X); for (X in { submit: !0, reset: !0 }) G.pseudos[X] = pt(X); function vt() { } function yt(e) { for (var t = 0, n = e.length, r = ""; t < n; t++)r += e[t].value; return r } function bt(e, t, n) { var r = t.dir, o = n && "parentNode" === r, i = Re++; return t.first ? function (t, n, i) { for (; t = t[r];)if (1 === t.nodeType || o) return e(t, n, i) } : function (t, n, a) { var u, s, c = [_e, i]; if (a) { for (; t = t[r];)if ((1 === t.nodeType || o) && e(t, n, a)) return !0 } else for (; t = t[r];)if (1 === t.nodeType || o) { if ((u = (s = t[Te] || (t[Te] = {}))[r]) && u[0] === _e && u[1] === i) return c[2] = u[2]; if (s[r] = c, c[2] = e(t, n, a)) return !0 } } } function Ct(e) { return e.length > 1 ? function (t, n, r) { for (var o = e.length; o--;)if (!e[o](t, n, r)) return !1; return !0 } : e[0] } function xt(e, t, n, r, o) { for (var i, a = [], u = 0, s = e.length, c = null != t; u < s; u++)(i = e[u]) && (n && !n(i, r, o) || (a.push(i), c && t.push(u))); return a } function wt(e, t, n, r, o, i) { return r && !r[Te] && (r = wt(r)), o && !o[Te] && (o = wt(o, i)), ft(function (i, a, u, s) { var c, l, f, d = [], m = [], p = a.length, g = i || function (e, t, n) { for (var r = 0, o = t.length; r < o; r++)ct(e, t[r], n); return n }(t || "*", u.nodeType ? [u] : u, []), h = !e || !i && t ? g : xt(g, d, e, u, s), v = n ? o || (i ? e : p || r) ? [] : a : h; if (n && n(h, v, u, s), r) for (c = xt(v, m), r(c, [], u, s), l = c.length; l--;)(f = c[l]) && (v[m[l]] = !(h[m[l]] = f)); if (i) { if (o || e) { if (o) { for (c = [], l = v.length; l--;)(f = v[l]) && c.push(h[l] = f); o(null, v = [], c, s) } for (l = v.length; l--;)(f = v[l]) && (c = o ? He.call(i, f) : d[l]) > -1 && (i[c] = !(a[c] = f)) } } else v = xt(v === a ? v.splice(p, v.length) : v), o ? o(null, a, v, s) : qe.apply(a, v) }) } function Nt(e) { for (var t, n, r, o = e.length, i = G.relative[e[0].type], a = i || G.relative[" "], u = i ? 1 : 0, s = bt(function (e) { return e === t }, a, !0), c = bt(function (e) { return He.call(t, e) > -1 }, a, !0), l = [function (e, n, r) { return !i && (r || n !== ne) || ((t = n).nodeType ? s(e, n, r) : c(e, n, r)) }]; u < o; u++)if (n = G.relative[e[u].type]) l = [bt(Ct(l), n)]; else { if ((n = G.filter[e[u].type].apply(null, e[u].matches))[Te]) { for (r = ++u; r < o && !G.relative[e[r].type]; r++); return wt(u > 1 && Ct(l), u > 1 && yt(e.slice(0, u - 1).concat({ value: " " === e[u - 2].type ? "*" : "" })).replace(Xe, "$1"), n, u < r && Nt(e.slice(u, r)), r < o && Nt(e = e.slice(r)), r < o && yt(e)) } l.push(n) } return Ct(l) } vt.prototype = G.filters = G.pseudos, G.setFilters = new vt, Z = ct.tokenize = function (e, t) { var n, r, o, i, a, u, s, c = De[e + " "]; if (c) return t ? 0 : c.slice(0); for (a = e, u = [], s = G.preFilter; a;) { for (i in n && !(r = Ye.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = Ge.exec(a)) && (n = r.shift(), o.push({ value: n, type: r[0].replace(Xe, " ") }), a = a.slice(n.length)), G.filter) !(r = et[i].exec(a)) || s[i] && !(r = s[i](r)) || (n = r.shift(), o.push({ value: n, type: i, matches: r }), a = a.slice(n.length)); if (!n) break } return t ? a.length : a ? ct.error(e) : De(e, u).slice(0) }, ee = ct.compile = function (e, t) { var n, r, o, i, a, u, s = [], c = [], l = Oe[e + " "]; if (!l) { for (t || (t = Z(e)), n = t.length; n--;)(l = Nt(t[n]))[Te] ? s.push(l) : c.push(l); (l = Oe(e, (r = c, i = (o = s).length > 0, a = r.length > 0, u = function (e, t, n, u, s) { var c, l, f, d = 0, m = "0", p = e && [], g = [], h = ne, v = e || a && G.find.TAG("*", s), y = _e += null == h ? 1 : Math.random() || .1, b = v.length; for (s && (ne = t !== ae && t); m !== b && null != (c = v[m]); m++) { if (a && c) { for (l = 0; f = r[l++];)if (f(c, t, n)) { u.push(c); break } s && (_e = y) } i && ((c = !f && c) && d--, e && p.push(c)) } if (d += m, i && m !== d) { for (l = 0; f = o[l++];)f(p, g, t, n); if (e) { if (d > 0) for (; m--;)p[m] || g[m] || (g[m] = ze.call(u)); g = xt(g) } qe.apply(u, g), s && !e && g.length > 0 && d + o.length > 1 && ct.uniqueSort(u) } return s && (_e = y, ne = h), p }, i ? ft(u) : u))).selector = e } return l }, te = ct.select = function (e, t, n, r) { var o, i, a, u, s, c = "function" == typeof e && e, l = !r && Z(e = c.selector || e); if (n = n || [], 1 === l.length) { if ((i = l[0] = l[0].slice(0)).length > 2 && "ID" === (a = i[0]).type && Y.getById && 9 === t.nodeType && se && G.relative[i[1].type]) { if (!(t = (G.find.ID(a.matches[0].replace(ut, st), t) || [])[0])) return n; c && (t = t.parentNode), e = e.slice(i.shift().value.length) } for (o = et.needsContext.test(e) ? 0 : i.length; o-- && (a = i[o], !G.relative[u = a.type]);)if ((s = G.find[u]) && (r = s(a.matches[0].replace(ut, st), it.test(i[0].type) && ht(t.parentNode) || t))) { if (i.splice(o, 1), !(e = r.length && yt(i))) return qe.apply(n, r), n; break } } return (c || ee(e, l))(r, t, !se, n, it.test(e) && ht(t.parentNode) || t), n }, Y.sortStable = Te.split("").sort(Pe).join("") === Te, Y.detectDuplicates = !!oe, ie(), Y.sortDetached = !0; var Et = Array.isArray || function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, St = function (e, t, n) { var r, o; if (!e) return 0; if (n = n || e, e.length !== undefined) { for (r = 0, o = e.length; r < o; r++)if (!1 === t.call(n, e[r], r, e)) return 0 } else for (r in e) if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0; return 1 }, kt = function (e, t, n) { var r, o; for (r = 0, o = e.length; r < o; r++)if (t.call(n, e[r], r, e)) return r; return -1 }, Tt = { isArray: Et, toArray: function (e) { var t, n, r = e; if (!Et(e)) for (r = [], t = 0, n = e.length; t < n; t++)r[t] = e[t]; return r }, each: St, map: function (e, t) { var n = []; return St(e, function (r, o) { n.push(t(r, o, e)) }), n }, filter: function (e, t) { var n = []; return St(e, function (r, o) { t && !t(r, o, e) || n.push(r) }), n }, indexOf: function (e, t) { var n, r; if (e) for (n = 0, r = e.length; n < r; n++)if (e[n] === t) return n; return -1 }, reduce: function (e, t, n, r) { var o = 0; for (arguments.length < 3 && (n = e[0]); o < e.length; o++)n = t.call(r, n, e[o], o); return n }, findIndex: kt, find: function (e, t, n) { var r = kt(e, t, n); return -1 !== r ? e[r] : undefined }, last: function (e) { return e[e.length - 1] } }, At = /^\s*|\s*$/g, _t = function (e) { return null === e || e === undefined ? "" : ("" + e).replace(At, "") }, Rt = function (e, t) { return t ? !("array" !== t || !Tt.isArray(e)) || typeof e === t : e !== undefined }, Bt = function (e, t, n, r) { r = r || this, e && (n && (e = e[n]), Tt.each(e, function (e, o) { if (!1 === t.call(r, e, o, n)) return !1; Bt(e, t, n, r) })) }, Dt = { trim: _t, isArray: Tt.isArray, is: Rt, toArray: Tt.toArray, makeMap: function (e, t, n) { var r; for (t = t || ",", "string" == typeof (e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--;)n[e[r]] = {}; return n }, each: Tt.each, map: Tt.map, grep: Tt.filter, inArray: Tt.indexOf, hasOwn: function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, extend: function (e, t) { for (var n, r, o, i = [], a = 2; a < arguments.length; a++)i[a - 2] = arguments[a]; var u, s = arguments; for (n = 1, r = s.length; n < r; n++)for (o in t = s[n]) t.hasOwnProperty(o) && (u = t[o]) !== undefined && (e[o] = u); return e }, create: function (e, t, n) { var r, o, i, a, u, s = this, c = 0; if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), i = e[3].match(/(^|\.)(\w+)$/i)[2], !(o = s.createNS(e[3].replace(/\.\w+$/, ""), n))[i]) { if ("static" === e[2]) return o[i] = t, void (this.onCreate && this.onCreate(e[2], e[3], o[i])); t[i] || (t[i] = function () { }, c = 1), o[i] = t[i], s.extend(o[i].prototype, t), e[5] && (r = s.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], u = o[i], o[i] = c ? function () { return r[a].apply(this, arguments) } : function () { return this.parent = r[a], u.apply(this, arguments) }, o[i].prototype[i] = o[i], s.each(r, function (e, t) { o[i].prototype[t] = r[t] }), s.each(t, function (e, t) { r[t] ? o[i].prototype[t] = function () { return this.parent = r[t], e.apply(this, arguments) } : t !== i && (o[i].prototype[t] = e) })), s.each(t["static"], function (e, t) { o[i][t] = e }) } }, walk: Bt, createNS: function (e, t) { var n, r; for (t = t || window, e = e.split("."), n = 0; n < e.length; n++)t[r = e[n]] || (t[r] = {}), t = t[r]; return t }, resolve: function (e, t) { var n, r; for (t = t || window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++); return t }, explode: function (e, t) { return !e || Rt(e, "array") ? e : Tt.map(e.split(t || ","), _t) }, _addCacheSuffix: function (e) { var t = de.cacheSuffix; return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e } }, Ot = document, Pt = Array.prototype.push, Lt = Array.prototype.slice, It = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, Mt = ke.Event, Ft = Dt.makeMap("children,contents,next,prev"), zt = function (e) { return void 0 !== e }, Ut = function (e) { return "string" == typeof e }, qt = function (e, t) { var n, r, o; for (o = (t = t || Ot).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; r = o.firstChild;)n.appendChild(r); return n }, Vt = function (e, t, n, r) { var o; if (Ut(t)) t = qt(t, nn(e[0])); else if (t.length && !t.nodeType) { if (t = Jt.makeArray(t), r) for (o = t.length - 1; o >= 0; o--)Vt(e, t[o], n, r); else for (o = 0; o < t.length; o++)Vt(e, t[o], n, r); return e } if (t.nodeType) for (o = e.length; o--;)n.call(e[o], t); return e }, Ht = function (e, t) { return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ") }, jt = function (e, t, n) { var r, o; return t = Jt(t)[0], e.each(function () { var e = this; n && r === e.parentNode ? o.appendChild(e) : (r = e.parentNode, o = t.cloneNode(!1), e.parentNode.insertBefore(o, e), o.appendChild(e)) }), e }, $t = Dt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "), Wt = Dt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "), Kt = { "for": "htmlFor", "class": "className", readonly: "readOnly" }, Xt = { "float": "cssFloat" }, Yt = {}, Gt = {}, Jt = function (e, t) { return new Jt.fn.init(e, t) }, Qt = /^\s*|\s*$/g, Zt = function (e) { return null === e || e === undefined ? "" : ("" + e).replace(Qt, "") }, en = function (e, t) { var n, r, o, i; if (e) if ((n = e.length) === undefined) { for (r in e) if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break } else for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++); return e }, tn = function (e, t) { var n = []; return en(e, function (e, r) { t(r, e) && n.push(r) }), n }, nn = function (e) { return e ? 9 === e.nodeType ? e : e.ownerDocument : Ot }; Jt.fn = Jt.prototype = { constructor: Jt, selector: "", context: null, length: 0, init: function (e, t) { var n, r, o = this; if (!e) return o; if (e.nodeType) return o.context = o[0] = e, o.length = 1, o; if (t && t.nodeType) o.context = t; else { if (t) return Jt(e).attr(t); o.context = t = document } if (Ut(e)) { if (o.selector = e, !(n = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : It.exec(e))) return Jt(t).find(e); if (n[1]) for (r = qt(e, nn(t)).firstChild; r;)Pt.call(o, r), r = r.nextSibling; else { if (!(r = nn(t).getElementById(n[2]))) return o; if (r.id !== n[2]) return o.find(e); o.length = 1, o[0] = r } } else this.add(e, !1); return o }, toArray: function () { return Dt.toArray(this) }, add: function (e, t) { var n, r, o = this; if (Ut(e)) return o.add(Jt(e)); if (!1 !== t) for (n = Jt.unique(o.toArray().concat(Jt.makeArray(e))), o.length = n.length, r = 0; r < n.length; r++)o[r] = n[r]; else Pt.apply(o, Jt.makeArray(e)); return o }, attr: function (e, t) { var n, r = this; if ("object" == typeof e) en(e, function (e, t) { r.attr(e, t) }); else { if (!zt(t)) { if (r[0] && 1 === r[0].nodeType) { if ((n = Yt[e]) && n.get) return n.get(r[0], e); if (Wt[e]) return r.prop(e) ? e : undefined; null === (t = r[0].getAttribute(e, 2)) && (t = undefined) } return t } this.each(function () { var n; if (1 === this.nodeType) { if ((n = Yt[e]) && n.set) return void n.set(this, t); null === t ? this.removeAttribute(e, 2) : this.setAttribute(e, t, 2) } }) } return r }, removeAttr: function (e) { return this.attr(e, null) }, prop: function (e, t) { var n = this; if ("object" == typeof (e = Kt[e] || e)) en(e, function (e, t) { n.prop(e, t) }); else { if (!zt(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t; this.each(function () { 1 === this.nodeType && (this[e] = t) }) } return n }, css: function (e, t) { var n, r, o = this, i = function (e) { return e.replace(/-(\D)/g, function (e, t) { return t.toUpperCase() }) }, a = function (e) { return e.replace(/[A-Z]/g, function (e) { return "-" + e }) }; if ("object" == typeof e) en(e, function (e, t) { o.css(e, t) }); else if (zt(t)) e = i(e), "number" != typeof t || $t[e] || (t = t.toString() + "px"), o.each(function () { var n = this.style; if ((r = Gt[e]) && r.set) r.set(this, t); else { try { this.style[Xt[e] || e] = t } catch (o) { } null !== t && "" !== t || (n.removeProperty ? n.removeProperty(a(e)) : n.removeAttribute(e)) } }); else { if (n = o[0], (r = Gt[e]) && r.get) return r.get(n); if (n.ownerDocument.defaultView) try { return n.ownerDocument.defaultView.getComputedStyle(n, null).getPropertyValue(a(e)) } catch (u) { return undefined } else if (n.currentStyle) return n.currentStyle[i(e)] } return o }, remove: function () { for (var e, t = this.length; t--;)e = this[t], Mt.clean(e), e.parentNode && e.parentNode.removeChild(e); return this }, empty: function () { for (var e, t = this.length; t--;)for (e = this[t]; e.firstChild;)e.removeChild(e.firstChild); return this }, html: function (e) { var t, n = this; if (zt(e)) { t = n.length; try { for (; t--;)n[t].innerHTML = e } catch (r) { Jt(n[t]).empty().append(e) } return n } return n[0] ? n[0].innerHTML : "" }, text: function (e) { var t, n = this; if (zt(e)) { for (t = n.length; t--;)"innerText" in n[t] ? n[t].innerText = e : n[0].textContent = e; return n } return n[0] ? n[0].innerText || n[0].textContent : "" }, append: function () { return Vt(this, arguments, function (e) { (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e) }) }, prepend: function () { return Vt(this, arguments, function (e) { (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild) }, !0) }, before: function () { return this[0] && this[0].parentNode ? Vt(this, arguments, function (e) { this.parentNode.insertBefore(e, this) }) : this }, after: function () { return this[0] && this[0].parentNode ? Vt(this, arguments, function (e) { this.parentNode.insertBefore(e, this.nextSibling) }, !0) : this }, appendTo: function (e) { return Jt(e).append(this), this }, prependTo: function (e) { return Jt(e).prepend(this), this }, replaceWith: function (e) { return this.before(e).remove() }, wrap: function (e) { return jt(this, e) }, wrapAll: function (e) { return jt(this, e, !0) }, wrapInner: function (e) { return this.each(function () { Jt(this).contents().wrapAll(e) }), this }, unwrap: function () { return this.parent().each(function () { Jt(this).replaceWith(this.childNodes) }) }, clone: function () { var e = []; return this.each(function () { e.push(this.cloneNode(!0)) }), Jt(e) }, addClass: function (e) { return this.toggleClass(e, !0) }, removeClass: function (e) { return this.toggleClass(e, !1) }, toggleClass: function (e, t) { var n = this; return "string" != typeof e ? n : (-1 !== e.indexOf(" ") ? en(e.split(" "), function () { n.toggleClass(this, t) }) : n.each(function (n, r) { var o, i; (i = Ht(r, e)) !== t && (o = r.className, i ? r.className = Zt((" " + o + " ").replace(" " + e + " ", " ")) : r.className += o ? " " + e : e) }), n) }, hasClass: function (e) { return Ht(this[0], e) }, each: function (e) { return en(this, e) }, on: function (e, t) { return this.each(function () { Mt.bind(this, e, t) }) }, off: function (e, t) { return this.each(function () { Mt.unbind(this, e, t) }) }, trigger: function (e) { return this.each(function () { "object" == typeof e ? Mt.fire(this, e.type, e) : Mt.fire(this, e) }) }, show: function () { return this.css("display", "") }, hide: function () { return this.css("display", "none") }, slice: function () { return new Jt(Lt.apply(this, arguments)) }, eq: function (e) { return -1 === e ? this.slice(e) : this.slice(e, +e + 1) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, find: function (e) { var t, n, r = []; for (t = 0, n = this.length; t < n; t++)Jt.find(e, this[t], r); return Jt(r) }, filter: function (e) { return Jt("function" == typeof e ? tn(this.toArray(), function (t, n) { return e(n, t) }) : Jt.filter(e, this.toArray())) }, closest: function (e) { var t = []; return e instanceof Jt && (e = e[0]), this.each(function (n, r) { for (; r;) { if ("string" == typeof e && Jt(r).is(e)) { t.push(r); break } if (r === e) { t.push(r); break } r = r.parentNode } }), Jt(t) }, offset: function (e) { var t, n, r, o, i = 0, a = 0; return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), { left: i, top: a }) }, push: Pt, sort: [].sort, splice: [].splice }, Dt.extend(Jt, { extend: Dt.extend, makeArray: function (e) { return (t = e) && t === t.window || e.nodeType ? [e] : Dt.toArray(e); var t }, inArray: function (e, t) { var n; if (t.indexOf) return t.indexOf(e); for (n = t.length; n--;)if (t[n] === e) return n; return -1 }, isArray: Dt.isArray, each: en, trim: Zt, grep: tn, find: ct, expr: ct.selectors, unique: ct.uniqueSort, text: ct.getText, contains: ct.contains, filter: function (e, t, n) { var r = t.length; for (n && (e = ":not(" + e + ")"); r--;)1 !== t[r].nodeType && t.splice(r, 1); return t = 1 === t.length ? Jt.find.matchesSelector(t[0], e) ? [t[0]] : [] : Jt.find.matches(e, t) } }); var rn = function (e, t, n) { var r = [], o = e[t]; for ("string" != typeof n && n instanceof Jt && (n = n[0]); o && 9 !== o.nodeType;) { if (n !== undefined) { if (o === n) break; if ("string" == typeof n && Jt(o).is(n)) break } 1 === o.nodeType && r.push(o), o = o[t] } return r }, on = function (e, t, n, r) { var o = []; for (r instanceof Jt && (r = r[0]); e; e = e[t])if (!n || e.nodeType === n) { if (r !== undefined) { if (e === r) break; if ("string" == typeof r && Jt(e).is(r)) break } o.push(e) } return o }, an = function (e, t, n) { for (e = e[t]; e; e = e[t])if (e.nodeType === n) return e; return null }; en({ parent: function (e) { var t = e.parentNode; return t && 11 !== t.nodeType ? t : null }, parents: function (e) { return rn(e, "parentNode") }, next: function (e) { return an(e, "nextSibling", 1) }, prev: function (e) { return an(e, "previousSibling", 1) }, children: function (e) { return on(e.firstChild, "nextSibling", 1) }, contents: function (e) { return Dt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes) } }, function (e, t) { Jt.fn[e] = function (n) { var r = []; return this.each(function () { var e = t.call(r, this, n, r); e && (Jt.isArray(e) ? r.push.apply(r, e) : r.push(e)) }), this.length > 1 && (Ft[e] || (r = Jt.unique(r)), 0 === e.indexOf("parents") && (r = r.reverse())), r = Jt(r), n ? r.filter(n) : r } }), en({ parentsUntil: function (e, t) { return rn(e, "parentNode", t) }, nextUntil: function (e, t) { return on(e, "nextSibling", 1, t).slice(1) }, prevUntil: function (e, t) { return on(e, "previousSibling", 1, t).slice(1) } }, function (e, t) { Jt.fn[e] = function (n, r) { var o = []; return this.each(function () { var e = t.call(o, this, n, o); e && (Jt.isArray(e) ? o.push.apply(o, e) : o.push(e)) }), this.length > 1 && (o = Jt.unique(o), 0 !== e.indexOf("parents") && "prevUntil" !== e || (o = o.reverse())), o = Jt(o), r ? o.filter(r) : o } }), Jt.fn.is = function (e) { return !!e && this.filter(e).length > 0 }, Jt.fn.init.prototype = Jt.fn, Jt.overrideDefaults = function (e) { var t, n = function (r, o) { return t = t || e(), 0 === arguments.length && (r = t.element), o || (o = t.context), new n.fn.init(r, o) }; return Jt.extend(n, this), n }; var un = function (e, t, n) { en(n, function (n, r) { e[n] = e[n] || {}, e[n][t] = r }) }; de.ie && de.ie < 8 && (un(Yt, "get", { maxlength: function (e) { var t = e.maxLength; return 2147483647 === t ? undefined : t }, size: function (e) { var t = e.size; return 20 === t ? undefined : t }, "class": function (e) { return e.className }, style: function (e) { var t = e.style.cssText; return 0 === t.length ? undefined : t } }), un(Yt, "set", { "class": function (e, t) { e.className = t }, style: function (e, t) { e.style.cssText = t } })), de.ie && de.ie < 9 && (Xt["float"] = "styleFloat", un(Gt, "set", { opacity: function (e, t) { var n = e.style; null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")") } })), Jt.attrHooks = Yt, Jt.cssHooks = Gt; var sn, cn = function (e) { var t, n = !1; return function () { return n || (n = !0, t = e.apply(null, arguments)), t } }, ln = function (e, t) { var n = function (e, t) { for (var n = 0; n < e.length; n++) { var r = e[n]; if (r.test(t)) return r } return undefined }(e, t); if (!n) return { major: 0, minor: 0 }; var r = function (e) { return Number(t.replace(n, "$" + e)) }; return dn(r(1), r(2)) }, fn = function () { return dn(0, 0) }, dn = function (e, t) { return { major: e, minor: t } }, mn = { nu: dn, detect: function (e, t) { var n = String(t).toLowerCase(); return 0 === e.length ? fn() : ln(e, n) }, unknown: fn }, pn = "Firefox", gn = function (e, t) { return function () { return t === e } }, hn = function (e) { var t = e.current; return { current: t, version: e.version, isEdge: gn("Edge", t), isChrome: gn("Chrome", t), isIE: gn("IE", t), isOpera: gn("Opera", t), isFirefox: gn(pn, t), isSafari: gn("Safari", t) } }, vn = { unknown: function () { return hn({ current: undefined, version: mn.unknown() }) }, nu: hn, edge: y.constant("Edge"), chrome: y.constant("Chrome"), ie: y.constant("IE"), opera: y.constant("Opera"), firefox: y.constant(pn), safari: y.constant("Safari") }, yn = "Windows", bn = "Android", Cn = "Solaris", xn = "FreeBSD", wn = function (e, t) { return function () { return t === e } }, Nn = function (e) { var t = e.current; return { current: t, version: e.version, isWindows: wn(yn, t), isiOS: wn("iOS", t), isAndroid: wn(bn, t), isOSX: wn("OSX", t), isLinux: wn("Linux", t), isSolaris: wn(Cn, t), isFreeBSD: wn(xn, t) } }, En = { unknown: function () { return Nn({ current: undefined, version: mn.unknown() }) }, nu: Nn, windows: y.constant(yn), ios: y.constant("iOS"), android: y.constant(bn), linux: y.constant("Linux"), osx: y.constant("OSX"), solaris: y.constant(Cn), freebsd: y.constant(xn) }, Sn = function (e, t) { var n = String(t).toLowerCase(); return M.find(e, function (e) { return e.search(n) }) }, kn = function (e, t) { return Sn(e, t).map(function (e) { var n = mn.detect(e.versionRegexes, t); return { current: e.name, version: n } }) }, Tn = function (e, t) { return Sn(e, t).map(function (e) { var n = mn.detect(e.versionRegexes, t); return { current: e.name, version: n } }) }, An = function (e, t) { return -1 !== e.indexOf(t) }, _n = function (e) { return e.replace(/^\s+|\s+$/g, "") }, Rn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/, Bn = function (e) { return function (t) { return An(t, e) } }, Dn = [{ name: "Edge", versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/], search: function (e) { return An(e, "edge/") && An(e, "chrome") && An(e, "safari") && An(e, "applewebkit") } }, { name: "Chrome", versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Rn], search: function (e) { return An(e, "chrome") && !An(e, "chromeframe") } }, { name: "IE", versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/], search: function (e) { return An(e, "msie") || An(e, "trident") } }, { name: "Opera", versionRegexes: [Rn, /.*?opera\/([0-9]+)\.([0-9]+).*/], search: Bn("opera") }, { name: "Firefox", versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/], search: Bn("firefox") }, { name: "Safari", versionRegexes: [Rn, /.*?cpu os ([0-9]+)_([0-9]+).*/], search: function (e) { return (An(e, "safari") || An(e, "mobile/")) && An(e, "applewebkit") } }], On = [{ name: "Windows", search: Bn("win"), versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/] }, { name: "iOS", search: function (e) { return An(e, "iphone") || An(e, "ipad") }, versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/] }, { name: "Android", search: Bn("android"), versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/] }, { name: "OSX", search: Bn("os x"), versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/] }, { name: "Linux", search: Bn("linux"), versionRegexes: [] }, { name: "Solaris", search: Bn("sunos"), versionRegexes: [] }, { name: "FreeBSD", search: Bn("freebsd"), versionRegexes: [] }], Pn = { browsers: y.constant(Dn), oses: y.constant(On) }, Ln = function (e) { var t, n, r, o, i, a, u, s, c, l, f, d = Pn.browsers(), m = Pn.oses(), p = kn(d, e).fold(vn.unknown, vn.nu), g = Tn(m, e).fold(En.unknown, En.nu); return { browser: p, os: g, deviceType: (n = p, r = e, o = (t = g).isiOS() && !0 === /ipad/i.test(r), i = t.isiOS() && !o, a = t.isAndroid() && 3 === t.version.major, u = t.isAndroid() && 4 === t.version.major, s = o || a || u && !0 === /mobile/i.test(r), c = t.isiOS() || t.isAndroid(), l = c && !s, f = n.isSafari() && t.isiOS() && !1 === /safari/i.test(r), { isiPad: y.constant(o), isiPhone: y.constant(i), isTablet: y.constant(s), isPhone: y.constant(l), isTouch: y.constant(c), isAndroid: t.isAndroid, isiOS: t.isiOS, isWebView: y.constant(f) }) } }, In = { detect: cn(function () { var e = navigator.userAgent; return Ln(e) }) }, Mn = function (e) { if (null === e || e === undefined) throw new Error("Node cannot be null or undefined"); return { dom: y.constant(e) } }, Fn = { fromHtml: function (e, t) { var n = (t || document).createElement("div"); if (n.innerHTML = e, !n.hasChildNodes() || n.childNodes.length > 1) throw console.error("HTML does not have a single root node", e), "HTML must have a single root node"; return Mn(n.childNodes[0]) }, fromTag: function (e, t) { var n = (t || document).createElement(e); return Mn(n) }, fromText: function (e, t) { var n = (t || document).createTextNode(e); return Mn(n) }, fromDom: Mn, fromPoint: function (e, t, n) { return E.from(e.dom().elementFromPoint(t, n)).map(Mn) } }, zn = 8, Un = 9, qn = 1, Vn = 3, Hn = function (e) { return e.dom().nodeName.toLowerCase() }, jn = function (e) { return e.dom().nodeType }, $n = function (e) { return function (t) { return jn(t) === e } }, Wn = $n(qn), Kn = $n(Vn), Xn = $n(Un), Yn = { name: Hn, type: jn, value: function (e) { return e.dom().nodeValue }, isElement: Wn, isText: Kn, isDocument: Xn, isComment: function (e) { return jn(e) === zn || "#comment" === Hn(e) } }, Gn = function (e) { return function (t) { return function (e) { if (null === e) return "null"; var t = typeof e; return "object" === t && Array.prototype.isPrototypeOf(e) ? "array" : "object" === t && String.prototype.isPrototypeOf(e) ? "string" : t }(t) === e } }, Jn = { isString: Gn("string"), isObject: Gn("object"), isArray: Gn("array"), isNull: Gn("null"), isBoolean: Gn("boolean"), isUndefined: Gn("undefined"), isFunction: Gn("function"), isNumber: Gn("number") }, Qn = (sn = Object.keys) === undefined ? function (e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(n); return t } : sn, Zn = function (e, t) { for (var n = Qn(e), r = 0, o = n.length; r < o; r++) { var i = n[r]; t(e[i], i, e) } }, er = function (e, t) { var n = {}; return Zn(e, function (r, o) { var i = t(r, o, e); n[i.k] = i.v }), n }, tr = function (e, t) { var n = []; return Zn(e, function (e, r) { n.push(t(e, r)) }), n }, nr = function (e) { return tr(e, function (e) { return e }) }, rr = { bifilter: function (e, t) { var n = {}, r = {}; return Zn(e, function (e, o) { (t(e, o) ? n : r)[o] = e }), { t: n, f: r } }, each: Zn, map: function (e, t) { return er(e, function (e, n, r) { return { k: n, v: t(e, n, r) } }) }, mapToArray: tr, tupleMap: er, find: function (e, t) { for (var n = Qn(e), r = 0, o = n.length; r < o; r++) { var i = n[r], a = e[i]; if (t(a, i, e)) return E.some(a) } return E.none() }, keys: Qn, values: nr, size: function (e) { return nr(e).length } }, or = function (e, t, n) { if (!(Jn.isString(n) || Jn.isBoolean(n) || Jn.isNumber(n))) throw console.error("Invalid call to Attr.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple"); e.setAttribute(t, n + "") }, ir = function (e, t, n) { or(e.dom(), t, n) }, ar = function (e, t) { var n = e.dom().getAttribute(t); return null === n ? undefined : n }, ur = function (e, t) { var n = e.dom(); return !(!n || !n.hasAttribute) && n.hasAttribute(t) }, sr = { clone: function (e) { return M.foldl(e.dom().attributes, function (e, t) { return e[t.name] = t.value, e }, {}) }, set: ir, setAll: function (e, t) { var n = e.dom(); rr.each(t, function (e, t) { or(n, t, e) }) }, get: ar, has: ur, remove: function (e, t) { e.dom().removeAttribute(t) }, hasNone: function (e) { var t = e.dom().attributes; return t === undefined || null === t || 0 === t.length }, transfer: function (e, t, n) { Yn.isElement(e) && Yn.isElement(t) && M.each(n, function (n) { var r, o, i; o = t, ur(r = e, i = n) && !ur(o, i) && ir(o, i, ar(r, i)) }) } }, cr = cn(function () { return lr(Fn.fromDom(document)) }), lr = function (e) { var t = e.dom().body; if (null === t || t === undefined) throw "Body is not available yet"; return Fn.fromDom(t) }, fr = { body: cr, getBody: lr, inBody: function (e) { var t = Yn.isText(e) ? e.dom().parentNode : e.dom(); return t !== undefined && null !== t && t.ownerDocument.body.contains(t) } }, dr = function (e) { return e.style !== undefined }, mr = function (e, t, n) { if (!Jn.isString(n)) throw console.error("Invalid call to CSS.set. Property ", t, ":: Value ", n, ":: Element ", e), new Error("CSS value must be a string: " + n); dr(e) && e.style.setProperty(t, n) }, pr = function (e, t) { return dr(e) ? e.style.getPropertyValue(t) : "" }, gr = function (e, t) { var n = e.dom(); rr.each(t, function (e, t) { mr(n, t, e) }) }, hr = function (e, t) { var n = e.dom(), r = window.getComputedStyle(n).getPropertyValue(t), o = "" !== r || fr.inBody(e) ? r : pr(n, t); return null === o ? undefined : o }, vr = function (e) { return e.slice(0).sort() }, yr = { sort: vr, reqMessage: function (e, t) { throw new Error("All required keys (" + vr(e).join(", ") + ") were not specified. Specified keys were: " + vr(t).join(", ") + ".") }, unsuppMessage: function (e) { throw new Error("Unsupported keys for object: " + vr(e).join(", ")) }, validateStrArr: function (e, t) { if (!Jn.isArray(t)) throw new Error("The " + e + " fields must be an array. Was: " + t + "."); M.each(t, function (t) { if (!Jn.isString(t)) throw new Error("The value " + t + " in the " + e + " fields was not a string.") }) }, invalidTypeMessage: function (e, t) { throw new Error("All values need to be of type: " + t + ". Keys (" + vr(e).join(", ") + ") were not.") }, checkDupes: function (e) { var t = vr(e); M.find(t, function (e, n) { return n < t.length - 1 && e === t[n + 1] }).each(function (e) { throw new Error("The field: " + e + " occurs more than once in the combined fields: [" + t.join(", ") + "].") }) } }, br = { immutable: function () { var e = arguments; return function () { for (var t = new Array(arguments.length), n = 0; n < t.length; n++)t[n] = arguments[n]; if (e.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + e.length + ']", got ' + t.length + " arguments"); var r = {}; return M.each(e, function (e, n) { r[e] = y.constant(t[n]) }), r } }, immutableBag: function (e, t) { var n = e.concat(t); if (0 === n.length) throw new Error("You must specify at least one required or optional field."); return yr.validateStrArr("required", e), yr.validateStrArr("optional", t), yr.checkDupes(n), function (r) { var o = rr.keys(r); M.forall(e, function (e) { return M.contains(o, e) }) || yr.reqMessage(e, o); var i = M.filter(o, function (e) { return !M.contains(n, e) }); i.length > 0 && yr.unsuppMessage(i); var a = {}; return M.each(e, function (e) { a[e] = y.constant(r[e]) }), M.each(t, function (e) { a[e] = y.constant(Object.prototype.hasOwnProperty.call(r, e) ? E.some(r[e]) : E.none()) }), a } } }, Cr = function (e, t) { for (var n = [], r = function (e) { return n.push(e), t(e) }, o = t(e); (o = o.bind(r)).isSome();); return n }, xr = function () { return q.getOrDie("Node") }, wr = function (e, t, n) { return 0 != (e.compareDocumentPosition(t) & n) }, Nr = function (e, t) { return wr(e, t, xr().DOCUMENT_POSITION_CONTAINED_BY) }, Er = qn, Sr = Un, kr = function (e) { return e.nodeType !== Er && e.nodeType !== Sr || 0 === e.childElementCount }, Tr = { all: function (e, t) { var n = t === undefined ? document : t.dom(); return kr(n) ? [] : M.map(n.querySelectorAll(e), Fn.fromDom) }, is: function (e, t) { var n = e.dom(); if (n.nodeType !== Er) return !1; if (n.matches !== undefined) return n.matches(t); if (n.msMatchesSelector !== undefined) return n.msMatchesSelector(t); if (n.webkitMatchesSelector !== undefined) return n.webkitMatchesSelector(t); if (n.mozMatchesSelector !== undefined) return n.mozMatchesSelector(t); throw new Error("Browser lacks native selectors") }, one: function (e, t) { var n = t === undefined ? document : t.dom(); return kr(n) ? E.none() : E.from(n.querySelector(e)).map(Fn.fromDom) } }, Ar = function (e, t) { return e.dom() === t.dom() }, _r = In.detect().browser.isIE() ? function (e, t) { return Nr(e.dom(), t.dom()) } : function (e, t) { var n = e.dom(), r = t.dom(); return n !== r && n.contains(r) }, Rr = { eq: Ar, isEqualNode: function (e, t) { return e.dom().isEqualNode(t.dom()) }, member: function (e, t) { return M.exists(t, y.curry(Ar, e)) }, contains: _r, is: Tr.is }, Br = function (e) { return Fn.fromDom(e.dom().ownerDocument) }, Dr = function (e) { var t = e.dom(); return E.from(t.parentNode).map(Fn.fromDom) }, Or = function (e) { var t = e.dom(); return E.from(t.previousSibling).map(Fn.fromDom) }, Pr = function (e) { var t = e.dom(); return E.from(t.nextSibling).map(Fn.fromDom) }, Lr = function (e) { var t = e.dom(); return M.map(t.childNodes, Fn.fromDom) }, Ir = function (e, t) { var n = e.dom().childNodes; return E.from(n[t]).map(Fn.fromDom) }, Mr = br.immutable("element", "offset"), Fr = { owner: Br, defaultView: function (e) { var t = e.dom().ownerDocument.defaultView; return Fn.fromDom(t) }, documentElement: function (e) { var t = Br(e); return Fn.fromDom(t.dom().documentElement) }, parent: Dr, findIndex: function (e) { return Dr(e).bind(function (t) { var n = Lr(t); return M.findIndex(n, function (t) { return Rr.eq(e, t) }) }) }, parents: function (e, t) { for (var n = Jn.isFunction(t) ? t : y.constant(!1), r = e.dom(), o = []; null !== r.parentNode && r.parentNode !== undefined;) { var i = r.parentNode, a = Fn.fromDom(i); if (o.push(a), !0 === n(a)) break; r = i } return o }, siblings: function (e) { return Dr(e).map(Lr).map(function (t) { return M.filter(t, function (t) { return !Rr.eq(e, t) }) }).getOr([]) }, prevSibling: Or, offsetParent: function (e) { var t = e.dom(); return E.from(t.offsetParent).map(Fn.fromDom) }, prevSiblings: function (e) { return M.reverse(Cr(e, Or)) }, nextSibling: Pr, nextSiblings: function (e) { return Cr(e, Pr) }, children: Lr, child: Ir, firstChild: function (e) { return Ir(e, 0) }, lastChild: function (e) { return Ir(e, e.dom().childNodes.length - 1) }, childNodesCount: function (e) { return e.dom().childNodes.length }, hasChildNodes: function (e) { return e.dom().hasChildNodes() }, leaf: function (e, t) { var n = Lr(e); return n.length > 0 && t < n.length ? Mr(n[t], 0) : Mr(e, t) } }, zr = In.detect().browser, Ur = function (e) { return M.find(e, Yn.isElement) }, qr = function (e, t, n) { var r, o, i, a = 0, u = 0, s = e.ownerDocument; if (n = n || e, t) { if (n === e && t.getBoundingClientRect && "static" === hr(Fn.fromDom(e), "position")) return { x: a = (o = t.getBoundingClientRect()).left + (s.documentElement.scrollLeft || e.scrollLeft) - s.documentElement.clientLeft, y: u = o.top + (s.documentElement.scrollTop || e.scrollTop) - s.documentElement.clientTop }; for (r = t; r && r !== n && r.nodeType;)a += r.offsetLeft || 0, u += r.offsetTop || 0, r = r.offsetParent; for (r = t.parentNode; r && r !== n && r.nodeType;)a -= r.scrollLeft || 0, u -= r.scrollTop || 0, r = r.parentNode; u += (i = Fn.fromDom(t), zr.isFirefox() && "table" === Yn.name(i) ? Ur(Fr.children(i)).filter(function (e) { return "caption" === Yn.name(e) }).bind(function (e) { return Ur(Fr.nextSiblings(e)).map(function (t) { var n = t.dom().offsetTop, r = e.dom().offsetTop, o = e.dom().offsetHeight; return n <= r ? -o : 0 }) }).getOr(0) : 0) } return { x: a, y: u } }, Vr = function (e) { var t = E.none(), n = [], r = function (e) { o() ? a(e) : n.push(e) }, o = function () { return t.isSome() }, i = function (e) { M.each(e, a) }, a = function (e) { t.each(function (t) { setTimeout(function () { e(t) }, 0) }) }; return e(function (e) { t = E.some(e), i(n), n = [] }), { get: r, map: function (e) { return Vr(function (t) { r(function (n) { t(e(n)) }) }) }, isReady: o } }, Hr = { nu: Vr, pure: function (e) { return Vr(function (t) { t(e) }) } }, jr = function (e) { return function () { var t = Array.prototype.slice.call(arguments), n = this; setTimeout(function () { e.apply(n, t) }, 0) } }, $r = function (e) { var t = function (t) { e(jr(t)) }; return { map: function (e) { return $r(function (n) { t(function (t) { var r = e(t); n(r) }) }) }, bind: function (e) { return $r(function (n) { t(function (t) { e(t).get(n) }) }) }, anonBind: function (e) { return $r(function (n) { t(function (t) { e.get(n) }) }) }, toLazy: function () { return Hr.nu(t) }, get: t } }, Wr = { nu: $r, pure: function (e) { return $r(function (t) { t(e) }) } }, Kr = function (e, t) { return t(function (t) { var n = [], r = 0; 0 === e.length ? t([]) : M.each(e, function (o, i) { var a; o.get((a = i, function (o) { n[a] = o, ++r >= e.length && t(n) })) }) }) }, Xr = function (e) { return Kr(e, Wr.nu) }, Yr = { par: Xr, mapM: function (e, t) { var n = M.map(e, t); return Xr(n) }, compose: function (e, t) { return function (n) { return t(n).bind(e) } } }, Gr = function (e) { return { is: function (t) { return e === t }, isValue: y.always, isError: y.never, getOr: y.constant(e), getOrThunk: y.constant(e), getOrDie: y.constant(e), or: function (t) { return Gr(e) }, orThunk: function (t) { return Gr(e) }, fold: function (t, n) { return n(e) }, map: function (t) { return Gr(t(e)) }, each: function (t) { t(e) }, bind: function (t) { return t(e) }, exists: function (t) { return t(e) }, forall: function (t) { return t(e) }, toOption: function () { return E.some(e) } } }, Jr = function (e) { return { is: y.never, isValue: y.never, isError: y.always, getOr: y.identity, getOrThunk: function (e) { return e() }, getOrDie: function () { return y.die(e)() }, or: function (e) { return e }, orThunk: function (e) { return e() }, fold: function (t, n) { return t(e) }, map: function (t) { return Jr(e) }, each: y.noop, bind: function (t) { return Jr(e) }, exists: y.never, forall: y.always, toOption: E.none } }, Qr = { value: Gr, error: Jr }; function Zr(e, t) { var n = e, r = function (e, n, r, o) { var i, a; if (e) { if (!o && e[n]) return e[n]; if (e !== t) { if (i = e[r]) return i; for (a = e.parentNode; a && a !== t; a = a.parentNode)if (i = a[r]) return i } } }; this.current = function () { return n }, this.next = function (e) { return n = r(n, "firstChild", "nextSibling", e) }, this.prev = function (e) { return n = r(n, "lastChild", "previousSibling", e) }, this.prev2 = function (e) { return n = function (e, n, r, o) { var i, a, u; if (e) { if (i = e[r], t && i === t) return; if (i) { if (!o) for (u = i[n]; u; u = u[n])if (!u[n]) return u; return i } if ((a = e.parentNode) && a !== t) return a } }(n, "lastChild", "previousSibling", e) } } var eo, to, no, ro = function (e) { var t; return function (n) { return (t = t || M.mapToObject(e, y.constant(!0))).hasOwnProperty(Yn.name(n)) } }, oo = ro(["h1", "h2", "h3", "h4", "h5", "h6"]), io = ro(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]), ao = function (e) { return Yn.isElement(e) && !io(e) }, uo = function (e) { return Yn.isElement(e) && "br" === Yn.name(e) }, so = ro(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]), co = ro(["ul", "ol", "dl"]), lo = ro(["li", "dd", "dt"]), fo = ro(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]), mo = ro(["thead", "tbody", "tfoot"]), po = ro(["td", "th"]), go = function (e) { return function (t) { return !!t && t.nodeType === e } }, ho = go(1), vo = function (e) { var t = e.toLowerCase().split(" "); return function (e) { var n, r; if (e && e.nodeType) for (r = e.nodeName.toLowerCase(), n = 0; n < t.length; n++)if (r === t[n]) return !0; return !1 } }, yo = function (e) { return function (t) { if (ho(t)) { if (t.contentEditable === e) return !0; if (t.getAttribute("data-mce-contenteditable") === e) return !0 } return !1 } }, bo = go(3), Co = go(8), xo = go(9), wo = vo("br"), No = yo("true"), Eo = yo("false"), So = { isText: bo, isElement: ho, isComment: Co, isDocument: xo, isBr: wo, isContentEditableTrue: No, isContentEditableFalse: Eo, matchNodeNames: vo, hasPropValue: function (e, t) { return function (n) { return ho(n) && n[e] === t } }, hasAttribute: function (e, t) { return function (t) { return ho(t) && t.hasAttribute(e) } }, hasAttributeValue: function (e, t) { return function (n) { return ho(n) && n.getAttribute(e) === t } }, matchStyleValues: function (e, t) { var n = t.toLowerCase().split(" "); return function (t) { var r; if (ho(t)) for (r = 0; r < n.length; r++)if (t.ownerDocument.defaultView.getComputedStyle(t, null).getPropertyValue(e) === n[r]) return !0; return !1 } }, isBogus: function (e) { return ho(e) && e.hasAttribute("data-mce-bogus") }, isBogusAll: function (e) { return ho(e) && "all" === e.getAttribute("data-mce-bogus") }, isTable: function (e) { return ho(e) && "TABLE" === e.tagName } }, ko = function (e) { return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type") }, To = function (e, t) { var n, r = t.childNodes; if (!So.isElement(t) || !ko(t)) { for (n = r.length - 1; n >= 0; n--)To(e, r[n]); if (!1 === So.isDocument(t)) { if (So.isText(t) && t.nodeValue.length > 0) { var o = Dt.trim(t.nodeValue).length; if (e.isBlock(t.parentNode) || o > 0) return; if (0 === o && (a = (i = t).previousSibling && "SPAN" === i.previousSibling.nodeName, u = i.nextSibling && "SPAN" === i.nextSibling.nodeName, a && u)) return } else if (So.isElement(t) && (1 === (r = t.childNodes).length && ko(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || fo(Fn.fromDom(t)))) return; e.remove(t) } var i, a, u; return t } }, Ao = { trimNode: To }, _o = Dt.makeMap, Ro = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g, Bo = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g, Do = /[<>&\"\']/g, Oo = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi, Po = { 128: "\u20ac", 130: "\u201a", 131: "\u0192", 132: "\u201e", 133: "\u2026", 134: "\u2020", 135: "\u2021", 136: "\u02c6", 137: "\u2030", 138: "\u0160", 139: "\u2039", 140: "\u0152", 142: "\u017d", 145: "\u2018", 146: "\u2019", 147: "\u201c", 148: "\u201d", 149: "\u2022", 150: "\u2013", 151: "\u2014", 152: "\u02dc", 153: "\u2122", 154: "\u0161", 155: "\u203a", 156: "\u0153", 158: "\u017e", 159: "\u0178" }; to = { '"': "&quot;", "'": "&#39;", "<": "&lt;", ">": "&gt;", "&": "&amp;", "`": "&#96;" }, no = { "&lt;": "<", "&gt;": ">", "&amp;": "&", "&quot;": '"', "&apos;": "'" }; var Lo = function (e, t) { var n, r, o, i = {}; if (e) { for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2)r = String.fromCharCode(parseInt(e[n], t)), to[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r); return i } }; eo = Lo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32); var Io = function (e, t) { return e.replace(t ? Ro : Bo, function (e) { return to[e] || e }) }, Mo = function (e, t) { return e.replace(t ? Ro : Bo, function (e) { return e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : to[e] || "&#" + e.charCodeAt(0) + ";" }) }, Fo = function (e, t, n) { return n = n || eo, e.replace(t ? Ro : Bo, function (e) { return to[e] || n[e] || e }) }, zo = { encodeRaw: Io, encodeAllRaw: function (e) { return ("" + e).replace(Do, function (e) { return to[e] || e }) }, encodeNumeric: Mo, encodeNamed: Fo, getEncodeFunc: function (e, t) { var n = Lo(t) || eo, r = _o(e.replace(/\+/g, ",")); return r.named && r.numeric ? function (e, t) { return e.replace(t ? Ro : Bo, function (e) { return to[e] !== undefined ? to[e] : n[e] !== undefined ? n[e] : e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";" }) } : r.named ? t ? function (e, t) { return Fo(e, t, n) } : Fo : r.numeric ? Mo : Io }, decode: function (e) { return e.replace(Oo, function (e, t) { return t ? (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) > 65535 ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : Po[t] || String.fromCharCode(t) : no[e] || eo[e] || (n = e, (r = Fn.fromTag("div").dom()).innerHTML = n, r.textContent || r.innerText || n); var n, r }) } }, Uo = {}, qo = {}, Vo = Dt.makeMap, Ho = Dt.each, jo = Dt.extend, $o = Dt.explode, Wo = Dt.inArray, Ko = function (e, t) { return (e = Dt.trim(e)) ? e.split(t || " ") : [] }, Xo = function (e) { var t, n, r, o, i, a, u = {}, s = function (e, n, r) { var o, i, a, s = function (e, t) { var n, r, o = {}; for (n = 0, r = e.length; n < r; n++)o[e[n]] = t || {}; return o }; for (n = n || "", "string" == typeof (r = r || []) && (r = Ko(r)), o = (e = Ko(e)).length; o--;)a = { attributes: s(i = Ko([t, n].join(" "))), attributesOrder: i, children: s(r, qo) }, u[e[o]] = a }, c = function (e, t) { var n, r, o, i; for (n = (e = Ko(e)).length, t = Ko(t); n--;)for (r = u[e[n]], o = 0, i = t.length; o < i; o++)r.attributes[t[o]] = {}, r.attributesOrder.push(t[o]) }; return Uo[e] ? Uo[e] : (t = "id accesskey class dir lang style tabindex title role", n = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", r = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (t += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", n += " article aside details dialog figure header footer hgroup section nav", r += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (t += " xml:lang", r = [r, a = "acronym applet basefont big font strike tt"].join(" "), Ho(Ko(a), function (e) { s(e, "", r) }), n = [n, i = "center dir isindex noframes"].join(" "), o = [n, r].join(" "), Ho(Ko(i), function (e) { s(e, "", o) })), o = o || [n, r].join(" "), s("html", "manifest", "head body"), s("head", "", "base command link meta noscript script style title"), s("title hr noscript br"), s("base", "href target"), s("link", "href rel media hreflang type sizes hreflang"), s("meta", "name http-equiv content charset"), s("style", "media type scoped"), s("script", "src async defer type charset"), s("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", o), s("address dt dd div caption", "", o), s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", r), s("blockquote", "cite", o), s("ol", "reversed start type", "li"), s("ul", "", "li"), s("li", "value", o), s("dl", "", "dt dd"), s("a", "href target rel media hreflang type", r), s("q", "cite", r), s("ins del", "cite datetime", o), s("img", "src sizes srcset alt usemap ismap width height"), s("iframe", "src name width height", o), s("embed", "src type width height"), s("object", "data type typemustmatch name usemap form width height", [o, "param"].join(" ")), s("param", "name value"), s("map", "name", [o, "area"].join(" ")), s("area", "alt coords shape href target rel media hreflang type"), s("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")), s("colgroup", "span", "col"), s("col", "span"), s("tbody thead tfoot", "", "tr"), s("tr", "", "td th"), s("td", "colspan rowspan headers", o), s("th", "colspan rowspan headers scope abbr", o), s("form", "accept-charset action autocomplete enctype method name novalidate target", o), s("fieldset", "disabled form name", [o, "legend"].join(" ")), s("label", "form for", r), s("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), s("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? o : r), s("select", "disabled form multiple name required size", "option optgroup"), s("optgroup", "disabled label", "option"), s("option", "disabled label selected value"), s("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), s("menu", "type label", [o, "li"].join(" ")), s("noscript", "", o), "html4" !== e && (s("wbr"), s("ruby", "", [r, "rt rp"].join(" ")), s("figcaption", "", o), s("mark rt rp summary bdi", "", r), s("canvas", "width height", o), s("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [o, "track source"].join(" ")), s("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [o, "track source"].join(" ")), s("picture", "", "img source"), s("source", "src srcset type media sizes"), s("track", "kind src srclang label default"), s("datalist", "", [r, "option"].join(" ")), s("article section nav aside header footer", "", o), s("hgroup", "", "h1 h2 h3 h4 h5 h6"), s("figure", "", [o, "figcaption"].join(" ")), s("time", "datetime", r), s("dialog", "open", o), s("command", "type label icon disabled checked radiogroup command"), s("output", "for form name", r), s("progress", "value max", r), s("meter", "value min max low high optimum", r), s("details", "open", [o, "summary"].join(" ")), s("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (c("script", "language xml:space"), c("style", "xml:space"), c("object", "declare classid code codebase codetype archive standby align border hspace vspace"), c("embed", "align name hspace vspace"), c("param", "valuetype type"), c("a", "charset name rev shape coords"), c("br", "clear"), c("applet", "codebase archive code object alt name width height align hspace vspace"), c("img", "name longdesc align border hspace vspace"), c("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), c("font basefont", "size color face"), c("input", "usemap align"), c("select", "onchange"), c("textarea"), c("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), c("ul", "type compact"), c("li", "type"), c("ol dl menu dir", "compact"), c("pre", "width xml:space"), c("hr", "align noshade size width"), c("isindex", "prompt"), c("table", "summary width frame rules cellspacing cellpadding align bgcolor"), c("col", "width align char charoff valign"), c("colgroup", "width align char charoff valign"), c("thead", "align char charoff valign"), c("tr", "align char charoff valign bgcolor"), c("th", "axis align char charoff valign nowrap bgcolor width height"), c("form", "accept"), c("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), c("tfoot", "align char charoff valign"), c("tbody", "align char charoff valign"), c("area", "nohref"), c("body", "background bgcolor text link vlink alink")), "html4" !== e && (c("input button select textarea", "autofocus"), c("input textarea", "placeholder"), c("a", "download"), c("link script img", "crossorigin"), c("iframe", "sandbox seamless allowfullscreen")), Ho(Ko("a form meter progress dfn"), function (e) { u[e] && delete u[e].children[e] }), delete u.caption.children.table, delete u.script, Uo[e] = u, u) }, Yo = function (e, t) { var n; return e && (n = {}, "string" == typeof e && (e = { "*": e }), Ho(e, function (e, r) { n[r] = n[r.toUpperCase()] = "map" === t ? Vo(e, /[, ]/) : $o(e, /[, ]/) })), n }; function Go(e) { var t, n, r, o, i, a, u, s, c, l, f, d, m, p = {}, g = {}, h = [], v = {}, y = {}, b = function (t, n, r) { var o = e[t]; return o ? o = Vo(o, /[, ]/, Vo(o.toUpperCase(), /[, ]/)) : (o = Uo[t]) || (o = Vo(n, " ", Vo(n.toUpperCase(), " ")), o = jo(o, r), Uo[t] = o), o }; r = Xo((e = e || {}).schema), !1 === e.verify_html && (e.valid_elements = "*[*]"), t = Yo(e.valid_styles), n = Yo(e.invalid_styles, "map"), s = Yo(e.valid_classes, "map"), o = b("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), i = b("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), a = b("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), u = b("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), l = b("non_empty_elements", "td th iframe video audio object script pre code", a), f = b("move_caret_before_on_enter_elements", "table", l), d = b("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"), c = b("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption", d), m = b("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), Ho((e.special || "script noscript noframes noembed title style textarea xmp").split(" "), function (e) { y[e] = new RegExp("</" + e + "[^>]*>", "gi") }); var C = function (e) { return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$") }, x = function (e) { var t, n, r, o, i, a, u, s, c, l, f, d, m, g, v, y, b, x, w, N = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/, E = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/, S = /[*?+]/; if (e) for (e = Ko(e, ","), p["@"] && (y = p["@"].attributes, b = p["@"].attributesOrder), t = 0, n = e.length; t < n; t++)if (i = N.exec(e[t])) { if (g = i[1], c = i[2], v = i[3], s = i[5], a = { attributes: d = {}, attributesOrder: m = [] }, "#" === g && (a.paddEmpty = !0), "-" === g && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), y) { for (x in y) d[x] = y[x]; m.push.apply(m, b) } if (s) for (r = 0, o = (s = Ko(s, "|")).length; r < o; r++)if (i = E.exec(s[r])) { if (u = {}, f = i[1], l = i[2].replace(/[\\:]:/g, ":"), g = i[3], w = i[4], "!" === f && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(l), u.required = !0), "-" === f) { delete d[l], m.splice(Wo(m, l), 1); continue } g && ("=" === g && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({ name: l, value: w }), u.defaultValue = w), ":" === g && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({ name: l, value: w }), u.forcedValue = w), "<" === g && (u.validValues = Vo(w, "?"))), S.test(l) ? (a.attributePatterns = a.attributePatterns || [], u.pattern = C(l), a.attributePatterns.push(u)) : (d[l] || m.push(l), d[l] = u) } y || "@" !== c || (y = d, b = m), v && (a.outputName = c, p[v] = a), S.test(c) ? (a.pattern = C(c), h.push(a)) : p[c] = a } }, w = function (e) { p = {}, h = [], x(e), Ho(r, function (e, t) { g[t] = e.children }) }, N = function (e) { var t = /^(~)?(.+)$/; e && (Uo.text_block_elements = Uo.block_elements = null, Ho(Ko(e, ","), function (e) { var n = t.exec(e), r = "~" === n[1], o = r ? "span" : "div", i = n[2]; if (g[i] = g[o], v[i] = o, r || (c[i.toUpperCase()] = {}, c[i] = {}), !p[i]) { var a = p[o]; delete (a = jo({}, a)).removeEmptyAttrs, delete a.removeEmpty, p[i] = a } Ho(g, function (e, t) { e[o] && (g[t] = e = jo({}, g[t]), e[i] = e[o]) }) })) }, E = function (t) { var n = /^([+\-]?)(\w+)\[([^\]]+)\]$/; Uo[e.schema] = null, t && Ho(Ko(t, ","), function (e) { var t, r, o = n.exec(e); o && (r = o[1], t = r ? g[o[2]] : g[o[2]] = { "#comment": {} }, t = g[o[2]], Ho(Ko(o[3], "|"), function (e) { "-" === r ? delete t[e] : t[e] = {} })) }) }, S = function (e) { var t, n = p[e]; if (n) return n; for (t = h.length; t--;)if ((n = h[t]).pattern.test(e)) return n }; return e.valid_elements ? w(e.valid_elements) : (Ho(r, function (e, t) { p[t] = { attributes: e.attributes, attributesOrder: e.attributesOrder }, g[t] = e.children }), "html5" !== e.schema && Ho(Ko("strong/b em/i"), function (e) { e = Ko(e, "/"), p[e[1]].outputName = e[0] }), Ho(Ko("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function (e) { p[e] && (p[e].removeEmpty = !0) }), Ho(Ko("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function (e) { p[e].paddEmpty = !0 }), Ho(Ko("span"), function (e) { p[e].removeEmptyAttrs = !0 })), N(e.custom_elements), E(e.valid_children), x(e.extended_valid_elements), E("+ol[ul|ol],+ul[ul|ol]"), Ho({ dd: "dl", dt: "dl", li: "ul ol", td: "tr", th: "tr", tr: "tbody thead tfoot", tbody: "table", thead: "table", tfoot: "table", legend: "fieldset", area: "map", param: "video audio object" }, function (e, t) { p[t] && (p[t].parentsRequired = Ko(e)) }), e.invalid_elements && Ho($o(e.invalid_elements), function (e) { p[e] && delete p[e] }), S("span") || x("span[!data-mce-type|*]"), { children: g, elements: p, getValidStyles: function () { return t }, getValidClasses: function () { return s }, getBlockElements: function () { return c }, getInvalidStyles: function () { return n }, getShortEndedElements: function () { return a }, getTextBlockElements: function () { return d }, getTextInlineElements: function () { return m }, getBoolAttrs: function () { return u }, getElementRule: S, getSelfClosingElements: function () { return i }, getNonEmptyElements: function () { return l }, getMoveCaretBeforeOnEnterElements: function () { return f }, getWhiteSpaceElements: function () { return o }, getSpecialElements: function () { return y }, isValidChild: function (e, t) { var n = g[e.toLowerCase()]; return !(!n || !n[t.toLowerCase()]) }, isValid: function (e, t) { var n, r, o = S(e); if (o) { if (!t) return !0; if (o.attributes[t]) return !0; if (n = o.attributePatterns) for (r = n.length; r--;)if (n[r].pattern.test(e)) return !0 } return !1 }, getCustomElements: function () { return v }, addValidElements: x, setValidElements: w, addCustomElements: N, addValidChildren: E } } var Jo = function (e, t, n, r) { var o = function (e) { return (e = parseInt(e, 10).toString(16)).length > 1 ? e : "0" + e }; return "#" + o(t) + o(n) + o(r) }; function Qo(e, t) { var n, r, o, i, a = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi, u = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi, s = /\s*([^:]+):\s*([^;]+);?/g, c = /\s+$/, l = {}, f = "\ufeff"; for (e = e || {}, t && (o = t.getValidStyles(), i = t.getInvalidStyles()), r = ("\\\" \\' \\; \\: ; : " + f).split(" "), n = 0; n < r.length; n++)l[r[n]] = f + n, l[f + n] = r[n]; return { toHex: function (e) { return e.replace(a, Jo) }, parse: function (t) { var r, o, i, d, m, p, g, h, v = {}, y = e.url_converter, b = e.url_converter_scope || this, C = function (e, t, r) { var o, i, a, u; if ((o = v[e + "-top" + t]) && (i = v[e + "-right" + t]) && (a = v[e + "-bottom" + t]) && (u = v[e + "-left" + t])) { var s = [o, i, a, u]; for (n = s.length - 1; n-- && s[n] === s[n + 1];); n > -1 && r || (v[e + t] = -1 === n ? s[0] : s.join(" "), delete v[e + "-top" + t], delete v[e + "-right" + t], delete v[e + "-bottom" + t], delete v[e + "-left" + t]) } }, x = function (e) { var t, n = v[e]; if (n) { for (t = (n = n.split(" ")).length; t--;)if (n[t] !== n[0]) return !1; return v[e] = n[0], !0 } }, w = function (e) { return d = !0, l[e] }, N = function (e, t) { return d && (e = e.replace(/\uFEFF[0-9]/g, function (e) { return l[e] })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e }, E = function (e) { return String.fromCharCode(parseInt(e.slice(1), 16)) }, S = function (e) { return e.replace(/\\[0-9a-f]+/gi, E) }, k = function (t, n, r, o, i, a) { if (i = i || a) return "'" + (i = N(i)).replace(/\'/g, "\\'") + "'"; if (n = N(n || r || o), !e.allow_script_urls) { var u = n.replace(/[\s\r\n]+/g, ""); if (/(java|vb)script:/i.test(u)) return ""; if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(u)) return "" } return y && (n = y.call(b, n, "style")), "url('" + n.replace(/\'/g, "\\'") + "')" }; if (t) { for (t = (t = t.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, w).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) { return e.replace(/[;:]/g, w) }); r = s.exec(t);)if (s.lastIndex = r.index + r[0].length, o = r[1].replace(c, "").toLowerCase(), i = r[2].replace(c, ""), o && i) { if (o = S(o), i = S(i), -1 !== o.indexOf(f) || -1 !== o.indexOf('"')) continue; if (!e.allow_script_urls && ("behavior" === o || /expression\s*\(|\/\*|\*\//.test(i))) continue; "font-weight" === o && "700" === i ? i = "bold" : "color" !== o && "background-color" !== o || (i = i.toLowerCase()), i = (i = i.replace(a, Jo)).replace(u, k), v[o] = d ? N(i, !0) : i } C("border", "", !0), C("border", "-width"), C("border", "-color"), C("border", "-style"), C("padding", ""), C("margin", ""), m = "border", g = "border-style", h = "border-color", x(p = "border-width") && x(g) && x(h) && (v[m] = v[p] + " " + v[g] + " " + v[h], delete v[p], delete v[g], delete v[h]), "medium none" === v.border && delete v.border, "none" === v["border-image"] && delete v["border-image"] } return v }, serialize: function (e, t) { var n, r, a, u, s, c = "", l = function (t) { var n, r, i, a; if (n = o[t]) for (r = 0, i = n.length; r < i; r++)t = n[r], (a = e[t]) && (c += (c.length > 0 ? " " : "") + t + ": " + a + ";") }; if (t && o) l("*"), l(t); else for (n in e) !(r = e[n]) || i && (a = n, u = t, s = void 0, (s = i["*"]) && s[a] || (s = i[u]) && s[a]) || (c += (c.length > 0 ? " " : "") + n + ": " + r + ";"); return c } } } var Zo = Dt.each, ei = Dt.is, ti = Dt.grep, ni = de.ie, ri = /^([a-z0-9],?)+$/i, oi = /^[ \t\r\n]*$/, ii = function (e, t) { var n = t.attr("style"); (n = e.serializeStyle(e.parseStyle(n), t[0].nodeName)) || (n = null), t.attr("data-mce-style", n) }, ai = function (e, t) { var n, r, o = 0; if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling)r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r); return o }, ui = function (e, t) { var n, r, o, i, a, u, s = this; s.doc = e, s.win = window, s.files = {}, s.counter = 0, s.stdMode = !ni || e.documentMode >= 8, s.boxModel = !ni || "CSS1Compat" === e.compatMode || s.stdMode, s.styleSheetLoader = function (e, t) { var n, r = 0, o = {}; n = (t = t || {}).maxLoadTime || 5e3; var i = function (t) { e.getElementsByTagName("head")[0].appendChild(t) }, a = function (t, a, u) { var s, c, l, f, d = function () { for (var e = f.passed, t = e.length; t--;)e[t](); f.status = 2, f.passed = [], f.failed = [] }, m = function () { for (var e = f.failed, t = e.length; t--;)e[t](); f.status = 3, f.passed = [], f.failed = [] }, p = function (e, t) { e() || ((new Date).getTime() - l < n ? ve.setTimeout(t) : m()) }, g = function () { p(function () { for (var t, n, r = e.styleSheets, o = r.length; o--;)if ((n = (t = r[o]).ownerNode ? t.ownerNode : t.owningElement) && n.id === s.id) return d(), !0 }, g) }, h = function () { p(function () { try { var e = c.sheet.cssRules; return d(), !!e } catch (t) { } }, h) }; if (t = Dt._addCacheSuffix(t), o[t] ? f = o[t] : (f = { passed: [], failed: [] }, o[t] = f), a && f.passed.push(a), u && f.failed.push(u), 1 !== f.status) if (2 !== f.status) if (3 !== f.status) { if (f.status = 1, (s = e.createElement("link")).rel = "stylesheet", s.type = "text/css", s.id = "u" + r++, s.async = !1, s.defer = !1, l = (new Date).getTime(), "onload" in s && !((v = navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(v[1], 10) < 536)) s.onload = g, s.onerror = m; else { if (navigator.userAgent.indexOf("Firefox") > 0) return (c = e.createElement("style")).textContent = '@import "' + t + '"', h(), void i(c); g() } var v; i(s), s.href = t } else m(); else d() }, u = function (e) { return Wr.nu(function (t) { a(e, y.compose(t, y.constant(Qr.value(e))), y.compose(t, y.constant(Qr.error(e)))) }) }, s = function (e) { return e.fold(y.identity, y.identity) }; return { load: a, loadAll: function (e, t, n) { Yr.par(M.map(e, u)).get(function (e) { var r = M.partition(e, function (e) { return e.isValue() }); r.fail.length > 0 ? n(r.fail.map(s)) : t(r.pass.map(s)) }) } } }(e), s.boundEvents = [], s.settings = t = t || {}, s.schema = t.schema ? t.schema : Go({}), s.styles = Qo({ url_converter: t.url_converter, url_converter_scope: t.url_converter_scope }, t.schema), s.fixDoc(e), s.events = t.ownEvents ? new ke(t.proxy) : ke.Event, s.attrHooks = (r = s, a = {}, u = (o = t).keep_values, i = { set: function (e, t, n) { o.url_converter && (t = o.url_converter.call(o.url_converter_scope || r, t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t) }, get: function (e, t) { return e.attr("data-mce-" + t) || e.attr(t) } }, a = { style: { set: function (e, t) { null === t || "object" != typeof t ? (u && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t) }, get: function (e) { var t = e.attr("data-mce-style") || e.attr("style"); return t = r.serializeStyle(r.parseStyle(t), e[0].nodeName) } } }, u && (a.href = a.src = i), a), n = s.schema.getBlockElements(), s.$ = Jt.overrideDefaults(function () { return { context: e, element: s.getRoot() } }), s.isBlock = function (e) { if (!e) return !1; var t = e.nodeType; return t ? !(1 !== t || !n[e.nodeName]) : !!n[e] } }; ui.prototype = { $$: function (e) { return "string" == typeof e && (e = this.get(e)), this.$(e) }, root: null, fixDoc: function (e) { }, clone: function (e, t) { var n, r, o = this; return !ni || 1 !== e.nodeType || t ? e.cloneNode(t) : (r = o.doc, t ? n.firstChild : (n = r.createElement(e.nodeName), Zo(o.getAttribs(e), function (t) { o.setAttrib(n, t.nodeName, o.getAttrib(e, t.nodeName)) }), n)) }, getRoot: function () { return this.settings.root_element || this.doc.body }, getViewPort: function (e) { var t, n; return t = (e = e || this.win).document, n = this.boxModel ? t.documentElement : t.body, { x: e.pageXOffset || n.scrollLeft, y: e.pageYOffset || n.scrollTop, w: e.innerWidth || n.clientWidth, h: e.innerHeight || n.clientHeight } }, getRect: function (e) { var t, n; return e = this.get(e), t = this.getPos(e), n = this.getSize(e), { x: t.x, y: t.y, w: n.w, h: n.h } }, getSize: function (e) { var t, n; return e = this.get(e), t = this.getStyle(e, "width"), n = this.getStyle(e, "height"), -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), { w: parseInt(t, 10) || e.offsetWidth || e.clientWidth, h: parseInt(n, 10) || e.offsetHeight || e.clientHeight } }, getParent: function (e, t, n) { return this.getParents(e, t, n, !1) }, getParents: function (e, t, n, r) { var o, i = this, a = []; for (e = i.get(e), r = r === undefined, n = n || ("BODY" !== i.getRoot().nodeName ? i.getRoot().parentNode : null), ei(t, "string") && (o = t, t = "*" === t ? function (e) { return 1 === e.nodeType } : function (e) { return i.is(e, o) }); e && e !== n && e.nodeType && 9 !== e.nodeType;) { if (!t || t(e)) { if (!r) return e; a.push(e) } e = e.parentNode } return r ? a : null }, get: function (e) { var t; return e && this.doc && "string" == typeof e && (t = e, (e = this.doc.getElementById(e)) && e.id !== t) ? this.doc.getElementsByName(t)[1] : e }, getNext: function (e, t) { return this._findSib(e, t, "nextSibling") }, getPrev: function (e, t) { return this._findSib(e, t, "previousSibling") }, select: function (e, t) { return ct(e, this.get(t) || this.settings.root_element || this.doc, []) }, is: function (e, t) { var n; if (!e) return !1; if (e.length === undefined) { if ("*" === t) return 1 === e.nodeType; if (ri.test(t)) { for (t = t.toLowerCase().split(/,/), e = e.nodeName.toLowerCase(), n = t.length - 1; n >= 0; n--)if (t[n] === e) return !0; return !1 } } if (e.nodeType && 1 !== e.nodeType) return !1; var r = e.nodeType ? [e] : e; return ct(t, r[0].ownerDocument || r[0], null, r).length > 0 }, add: function (e, t, n, r, o) { var i = this; return this.run(e, function (e) { var a; return a = ei(t, "string") ? i.doc.createElement(t) : t, i.setAttribs(a, n), r && (r.nodeType ? a.appendChild(r) : i.setHTML(a, r)), o ? a : e.appendChild(a) }) }, create: function (e, t, n) { return this.add(this.doc.createElement(e), e, t, n, 1) }, createHTML: function (e, t, n) { var r, o = ""; for (r in o += "<" + e, t) t.hasOwnProperty(r) && null !== t[r] && "undefined" != typeof t[r] && (o += " " + r + '="' + this.encode(t[r]) + '"'); return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />" }, createFragment: function (e) { var t, n, r, o = this.doc; for (r = o.createElement("div"), t = o.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;)t.appendChild(n); return t }, remove: function (e, t) { return e = this.$$(e), t ? e.each(function () { for (var e; e = this.firstChild;)3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this) }).remove() : e.remove(), e.length > 1 ? e.toArray() : e[0] }, setStyle: function (e, t, n) { e = this.$$(e).css(t, n), this.settings.update_styles && ii(this, e) }, getStyle: function (e, t, n) { return e = this.$$(e), n ? e.css(t) : ("float" === (t = t.replace(/-(\D)/g, function (e, t) { return t.toUpperCase() })) && (t = de.ie && de.ie < 12 ? "styleFloat" : "cssFloat"), e[0] && e[0].style ? e[0].style[t] : undefined) }, setStyles: function (e, t) { e = this.$$(e).css(t), this.settings.update_styles && ii(this, e) }, removeAllAttribs: function (e) { return this.run(e, function (e) { var t, n = e.attributes; for (t = n.length - 1; t >= 0; t--)e.removeAttributeNode(n.item(t)) }) }, setAttrib: function (e, t, n) { var r, o, i = this.settings; "" === n && (n = null), r = (e = this.$$(e)).attr(t), e.length && ((o = this.attrHooks[t]) && o.set ? o.set(e, n, t) : e.attr(t, n), r !== n && i.onSetAttrib && i.onSetAttrib({ attrElm: e, attrName: t, attrValue: n })) }, setAttribs: function (e, t) { var n = this; n.$$(e).each(function (e, r) { Zo(t, function (e, t) { n.setAttrib(r, t, e) }) }) }, getAttrib: function (e, t, n) { var r, o; return (e = this.$$(e)).length && (o = (r = this.attrHooks[t]) && r.get ? r.get(e, t) : e.attr(t)), void 0 === o && (o = n || ""), o }, getPos: function (e, t) { return qr(this.doc.body, this.get(e), t) }, parseStyle: function (e) { return this.styles.parse(e) }, serializeStyle: function (e, t) { return this.styles.serialize(e, t) }, addStyle: function (e) { var t, n, r = this.doc; if (this !== ui.DOM && r === document) { var o = ui.DOM.addedStyles; if ((o = o || [])[e]) return; o[e] = !0, ui.DOM.addedStyles = o } (n = r.getElementById("mceDefaultStyles")) || ((n = r.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = r.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(r.createTextNode(e)) }, loadCSS: function (e) { var t, n = this, r = n.doc; n === ui.DOM || r !== document ? (e || (e = ""), t = r.getElementsByTagName("head")[0], Zo(e.split(","), function (e) { var o; e = Dt._addCacheSuffix(e), n.files[e] || (n.files[e] = !0, o = n.create("link", { rel: "stylesheet", href: e }), ni && r.documentMode && r.recalc && (o.onload = function () { r.recalc && r.recalc(), o.onload = null }), t.appendChild(o)) })) : ui.DOM.loadCSS(e) }, addClass: function (e, t) { this.$$(e).addClass(t) }, removeClass: function (e, t) { this.toggleClass(e, t, !1) }, hasClass: function (e, t) { return this.$$(e).hasClass(t) }, toggleClass: function (e, t, n) { this.$$(e).toggleClass(t, n).each(function () { "" === this.className && Jt(this).attr("class", null) }) }, show: function (e) { this.$$(e).show() }, hide: function (e) { this.$$(e).hide() }, isHidden: function (e) { return "none" === this.$$(e).css("display") }, uniqueId: function (e) { return (e || "mce_") + this.counter++ }, setHTML: function (e, t) { e = this.$$(e), ni ? e.each(function (e, n) { if (!1 !== n.canHaveHTML) { for (; n.firstChild;)n.removeChild(n.firstChild); try { n.innerHTML = "<br>" + t, n.removeChild(n.firstChild) } catch (r) { Jt("<div></div>").html("<br>" + t).contents().slice(1).appendTo(n) } return t } }) : e.html(t) }, getOuterHTML: function (e) { return 1 === (e = this.get(e)).nodeType && "outerHTML" in e ? e.outerHTML : Jt("<div></div>").append(Jt(e).clone()).html() }, setOuterHTML: function (e, t) { var n = this; n.$$(e).each(function () { try { if ("outerHTML" in this) return void (this.outerHTML = t) } catch (e) { } n.remove(Jt(this).html(t), !0) }) }, decode: zo.decode, encode: zo.encodeAllRaw, insertAfter: function (e, t) { return t = this.get(t), this.run(e, function (e) { var n, r; return n = t.parentNode, (r = t.nextSibling) ? n.insertBefore(e, r) : n.appendChild(e), e }) }, replace: function (e, t, n) { return this.run(t, function (t) { return ei(t, "array") && (e = e.cloneNode(!0)), n && Zo(ti(t.childNodes), function (t) { e.appendChild(t) }), t.parentNode.replaceChild(e, t) }) }, rename: function (e, t) { var n, r = this; return e.nodeName !== t.toUpperCase() && (n = r.create(t), Zo(r.getAttribs(e), function (t) { r.setAttrib(n, t.nodeName, r.getAttrib(e, t.nodeName)) }), r.replace(n, e, 1)), n || e }, findCommonAncestor: function (e, t) { for (var n, r = e; r;) { for (n = t; n && r !== n;)n = n.parentNode; if (r === n) break; r = r.parentNode } return !r && e.ownerDocument ? e.ownerDocument.documentElement : r }, toHex: function (e) { return this.styles.toHex(Dt.trim(e)) }, run: function (e, t, n) { var r, o = this; return "string" == typeof e && (e = o.get(e)), !!e && (n = n || this, e.nodeType || !e.length && 0 !== e.length ? t.call(n, e) : (r = [], Zo(e, function (e, i) { e && ("string" == typeof e && (e = o.get(e)), r.push(t.call(n, e, i))) }), r)) }, getAttribs: function (e) { var t; return (e = this.get(e)) ? ni ? (t = [], "OBJECT" === e.nodeName ? e.attributes : ("OPTION" === e.nodeName && this.getAttrib(e, "selected") && t.push({ specified: 1, nodeName: "selected" }), e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi, "").replace(/[\w:\-]+/gi, function (e) { t.push({ specified: 1, nodeName: e }) }), t)) : e.attributes : [] }, isEmpty: function (e, t) { var n, r, o, i, a, u, s = 0; if (e = e.firstChild) { a = new Zr(e, e.parentNode), t = t || (this.schema ? this.schema.getNonEmptyElements() : null), i = this.schema ? this.schema.getWhiteSpaceElements() : {}; do { if (1 === (o = e.nodeType)) { var c = e.getAttribute("data-mce-bogus"); if (c) { e = a.next("all" === c); continue } if (u = e.nodeName.toLowerCase(), t && t[u]) { if ("br" === u) { s++, e = a.next(); continue } return !1 } for (n = (r = this.getAttribs(e)).length; n--;)if ("name" === (u = r[n].nodeName) || "data-mce-bookmark" === u) return !1 } if (8 === o) return !1; if (3 === o && !oi.test(e.nodeValue)) return !1; if (3 === o && e.parentNode && i[e.parentNode.nodeName] && oi.test(e.nodeValue)) return !1; e = a.next() } while (e) } return s <= 1 }, createRng: function () { return this.doc.createRange() }, nodeIndex: ai, split: function (e, t, n) { var r, o, i, a = this.createRng(); if (e && t) return a.setStart(e.parentNode, this.nodeIndex(e)), a.setEnd(t.parentNode, this.nodeIndex(t)), r = a.extractContents(), (a = this.createRng()).setStart(t.parentNode, this.nodeIndex(t) + 1), a.setEnd(e.parentNode, this.nodeIndex(e) + 1), o = a.extractContents(), (i = e.parentNode).insertBefore(Ao.trimNode(this, r), e), n ? i.insertBefore(n, e) : i.insertBefore(t, e), i.insertBefore(Ao.trimNode(this, o), e), this.remove(e), n || t }, bind: function (e, t, n, r) { if (Dt.isArray(e)) { for (var o = e.length; o--;)e[o] = this.bind(e[o], t, n, r); return e } return !this.settings.collect || e !== this.doc && e !== this.win || this.boundEvents.push([e, t, n, r]), this.events.bind(e, t, n, r || this) }, unbind: function (e, t, n) { var r; if (Dt.isArray(e)) { for (r = e.length; r--;)e[r] = this.unbind(e[r], t, n); return e } if (this.boundEvents && (e === this.doc || e === this.win)) for (r = this.boundEvents.length; r--;) { var o = this.boundEvents[r]; e !== o[0] || t && t !== o[1] || n && n !== o[2] || this.events.unbind(o[0], o[1], o[2]) } return this.events.unbind(e, t, n) }, fire: function (e, t, n) { return this.events.fire(e, t, n) }, getContentEditable: function (e) { var t; return e && 1 === e.nodeType ? (t = e.getAttribute("data-mce-contenteditable")) && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null : null }, getContentEditableParent: function (e) { for (var t = this.getRoot(), n = null; e && e !== t && null === (n = this.getContentEditable(e)); e = e.parentNode); return n }, destroy: function () { if (this.boundEvents) { for (var e = this.boundEvents.length; e--;) { var t = this.boundEvents[e]; this.events.unbind(t[0], t[1], t[2]) } this.boundEvents = null } ct.setDocument && ct.setDocument(), this.win = this.doc = this.root = this.events = this.frag = null }, isChildOf: function (e, t) { for (; e;) { if (t === e) return !0; e = e.parentNode } return !1 }, dumpRng: function (e) { return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset }, _findSib: function (e, t, n) { var r = this, o = t; if (e) for ("string" == typeof o && (o = function (e) { return r.is(e, t) }), e = e[n]; e; e = e[n])if (o(e)) return e; return null } }, ui.DOM = new ui(document), ui.nodeIndex = ai; var si = ui.DOM, ci = Dt.each, li = Dt.grep, fi = function (e) { return "function" == typeof e }, di = function () { var e = {}, t = [], n = {}, r = [], o = 0; this.isDone = function (t) { return 2 === e[t] }, this.markDone = function (t) { e[t] = 2 }, this.add = this.load = function (r, o, i, a) { e[r] === undefined && (t.push(r), e[r] = 0), o && (n[r] || (n[r] = []), n[r].push({ success: o, failure: a, scope: i || this })) }, this.remove = function (t) { delete e[t], delete n[t] }, this.loadQueue = function (e, n, r) { this.loadScripts(t, e, n, r) }, this.loadScripts = function (t, i, a, u) { var s, c = [], l = function (e, t) { ci(n[t], function (t) { fi(t[e]) && t[e].call(t.scope) }), n[t] = undefined }; r.push({ success: i, failure: u, scope: a || this }), (s = function () { var n = li(t); if (t.length = 0, ci(n, function (t) { var n, r, i, a, u, f, d; 2 !== e[t] ? 3 !== e[t] ? 1 !== e[t] && (e[t] = 1, o++, n = t, r = function () { e[t] = 2, o--, l("success", t), s() }, i = function () { e[t] = 3, o--, c.push(t), l("failure", t), s() }, d = function () { f.remove(u), a && (a.onreadystatechange = a.onload = a = null), r() }, u = (f = si).uniqueId(), (a = document.createElement("script")).id = u, a.type = "text/javascript", a.src = Dt._addCacheSuffix(n), "onreadystatechange" in a ? a.onreadystatechange = function () { /loaded|complete/.test(a.readyState) && d() } : a.onload = d, a.onerror = function () { fi(i) ? i() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + n) }, (document.getElementsByTagName("head")[0] || document.body).appendChild(a)) : l("failure", t) : l("success", t) }), !o) { var i = r.slice(0); r.length = 0, ci(i, function (e) { 0 === c.length ? fi(e.success) && e.success.call(e.scope) : fi(e.failure) && e.failure.call(e.scope, c) }) } })() } }; di.ScriptLoader = new di; var mi = Dt.each, pi = function () { this.items = [], this.urls = {}, this.lookup = {}, this._listeners = [] }; pi.prototype = { get: function (e) { return this.lookup[e] ? this.lookup[e].instance : undefined }, dependencies: function (e) { var t; return this.lookup[e] && (t = this.lookup[e].dependencies), t || [] }, requireLangPack: function (e, t) { var n = pi.language; if (n && !1 !== pi.languageLoad) { if (t) if (-1 !== (t = "," + t + ",").indexOf("," + n.substr(0, 2) + ",")) n = n.substr(0, 2); else if (-1 === t.indexOf("," + n + ",")) return; di.ScriptLoader.add(this.urls[e] + "/langs/" + n + ".js") } }, add: function (e, t, n) { this.items.push(t), this.lookup[e] = { instance: t, dependencies: n }; var r = M.partition(this._listeners, function (t) { return t.name === e }); return this._listeners = r.fail, mi(r.pass, function (e) { e.callback() }), t }, remove: function (e) { delete this.urls[e], delete this.lookup[e] }, createUrl: function (e, t) { return "object" == typeof t ? t : { prefix: e.prefix, resource: t, suffix: e.suffix } }, addComponents: function (e, t) { var n = this.urls[e]; mi(t, function (e) { di.ScriptLoader.add(n + "/" + e) }) }, load: function (e, t, n, r, o) { var i = this, a = t, u = function () { var o = i.dependencies(e); mi(o, function (e) { var n = i.createUrl(t, e); i.load(n.resource, n, undefined, undefined) }), n && (r ? n.call(r) : n.call(di)) }; i.urls[e] || ("object" == typeof t && (a = t.prefix + t.resource + t.suffix), 0 !== a.indexOf("/") && -1 === a.indexOf("://") && (a = pi.baseURL + "/" + a), i.urls[e] = a.substring(0, a.lastIndexOf("/")), i.lookup[e] ? u() : di.ScriptLoader.add(a, u, r, o)) }, waitFor: function (e, t) { this.lookup.hasOwnProperty(e) ? t() : this._listeners.push({ name: e, callback: t }) } }, pi.PluginManager = new pi, pi.ThemeManager = new pi; var gi, hi = "\ufeff", vi = function (e) { return e === hi }, yi = hi, bi = function (e) { return e.replace(new RegExp(hi, "g"), "") }, Ci = So.isElement, xi = So.isText, wi = function (e) { return xi(e) && (e = e.parentNode), Ci(e) && e.hasAttribute("data-mce-caret") }, Ni = function (e) { return xi(e) && vi(e.data) }, Ei = function (e) { return wi(e) || Ni(e) }, Si = function (e) { return e.firstChild !== e.lastChild || !So.isBr(e.firstChild) }, ki = function (e) { var t = e.container(); return e && So.isText(t) && t.data.charAt(e.offset()) === yi }, Ti = function (e) { var t = e.container(); return e && So.isText(t) && t.data.charAt(e.offset() - 1) === yi }, Ai = function (e, t, n) { var r, o, i; return (r = t.ownerDocument.createElement(e)).setAttribute("data-mce-caret", n ? "before" : "after"), r.setAttribute("data-mce-bogus", "all"), r.appendChild(((i = document.createElement("br")).setAttribute("data-mce-bogus", "1"), i)), o = t.parentNode, n ? o.insertBefore(r, t) : t.nextSibling ? o.insertBefore(r, t.nextSibling) : o.appendChild(r), r }, _i = function (e) { return xi(e) && e.data[0] === yi }, Ri = function (e) { return xi(e) && e.data[e.data.length - 1] === yi }, Bi = function (e) { return e && e.hasAttribute("data-mce-caret") ? (t = e.getElementsByTagName("br"), n = t[t.length - 1], So.isBogus(n) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null; var t, n }, Di = So.isContentEditableTrue, Oi = So.isContentEditableFalse, Pi = So.isBr, Li = So.isText, Ii = So.matchNodeNames("script style textarea"), Mi = So.matchNodeNames("img input textarea hr iframe video audio object"), Fi = So.matchNodeNames("table"), zi = Ei, Ui = function (e) { return !zi(e) && (Li(e) ? !Ii(e.parentNode) : Mi(e) || Pi(e) || Fi(e) || Oi(e)) }, qi = function (e, t) { return Ui(e) && function (e, t) { for (e = e.parentNode; e && e !== t; e = e.parentNode) { if (Oi(e)) return !1; if (Di(e)) return !0 } return !0 }(e, t) }, Vi = Math.round, Hi = function (e) { return e ? { left: Vi(e.left), top: Vi(e.top), bottom: Vi(e.bottom), right: Vi(e.right), width: Vi(e.width), height: Vi(e.height) } : { left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0 } }, ji = function (e, t) { return e = Hi(e), t ? e.right = e.left : (e.left = e.left + e.width, e.right = e.left), e.width = 0, e }, $i = function (e, t, n) { return e >= 0 && e <= Math.min(t.height, n.height) / 2 }, Wi = function (e, t) { return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && $i(t.top - e.bottom, e, t) }, Ki = function (e, t) { return e.top > t.bottom || !(e.bottom < t.top) && $i(t.bottom - e.top, e, t) }, Xi = function (e) { var t = e.startContainer, n = e.startOffset; return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null }, Yi = function (e, t) { return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e }, Gi = new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"), Ji = function (e) { return "string" == typeof e && e.charCodeAt(0) >= 768 && Gi.test(e) }, Qi = [].slice, Zi = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; var r = Qi.call(arguments); return r.length - 1 >= e.length ? e.apply(this, r.slice(1)) : function () { var e = r.concat([].slice.call(arguments)); return Zi.apply(this, e) } }, ea = { constant: function (e) { return function () { return e } }, negate: function (e) { return function (t) { return !e(t) } }, and: function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var n = Qi.call(arguments); return function (e) { for (var t = 0; t < n.length; t++)if (!n[t](e)) return !1; return !0 } }, or: function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var n = Qi.call(arguments); return function (e) { for (var t = 0; t < n.length; t++)if (n[t](e)) return !0; return !1 } }, curry: Zi, compose: function (e, t) { return function (n) { return e(t(n)) } }, noop: function () { } }, ta = So.isElement, na = Ui, ra = So.matchStyleValues("display", "block table"), oa = So.matchStyleValues("float", "left right"), ia = ea.and(ta, na, ea.negate(oa)), aa = ea.negate(So.matchStyleValues("white-space", "pre pre-line pre-wrap")), ua = So.isText, sa = So.isBr, ca = ui.nodeIndex, la = Yi, fa = function (e) { return "createRange" in e ? e.createRange() : ui.DOM.createRng() }, da = function (e) { return e && /[\r\n\t ]/.test(e) }, ma = function (e) { return !!e.setStart && !!e.setEnd }, pa = function (e) { var t, n = e.startContainer, r = e.startOffset; return !!(da(e.toString()) && aa(n.parentNode) && So.isText(n) && (t = n.data, da(t[r - 1]) || da(t[r + 1]))) }, ga = function (e) { return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom }, ha = function (e) { var t, n, r, o, i, a, u, s; return t = (n = e.getClientRects()).length > 0 ? Hi(n[0]) : Hi(e.getBoundingClientRect()), !ma(e) && sa(e) && ga(t) ? (i = (r = e).ownerDocument, a = fa(i), u = i.createTextNode("\xa0"), (s = r.parentNode).insertBefore(u, r), a.setStart(u, 0), a.setEnd(u, 1), o = Hi(a.getBoundingClientRect()), s.removeChild(u), o) : ga(t) && ma(e) ? function (e) { var t = e.startContainer, n = e.endContainer, r = e.startOffset, o = e.endOffset; if (t === n && So.isText(n) && 0 === r && 1 === o) { var i = e.cloneRange(); return i.setEndAfter(n), ha(i) } return null }(e) : t }, va = function (e, t) { var n = ji(e, t); return n.width = 1, n.right = n.left + 1, n }, ya = function (e) { var t, n, r = [], o = function (e) { var t, n; 0 !== e.height && (r.length > 0 && (t = e, n = r[r.length - 1], t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right) || r.push(e)) }, i = function (e, t) { var n = fa(e.ownerDocument); if (t < e.data.length) { if (Ji(e.data[t])) return r; if (Ji(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !pa(n))) return o(va(ha(n), !1)), r } t > 0 && (n.setStart(e, t - 1), n.setEnd(e, t), pa(n) || o(va(ha(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), pa(n) || o(va(ha(n), !0))) }; if (ua(e.container())) return i(e.container(), e.offset()), r; if (ta(e.container())) if (e.isAtEnd()) n = la(e.container(), e.offset()), ua(n) && i(n, n.data.length), ia(n) && !sa(n) && o(va(ha(n), !1)); else { if (n = la(e.container(), e.offset()), ua(n) && i(n, 0), ia(n) && e.isAtEnd()) return o(va(ha(n), !1)), r; t = la(e.container(), e.offset() - 1), ia(t) && !sa(t) && (ra(t) || ra(n) || !ia(n)) && o(va(ha(t), !1)), ia(n) && o(va(ha(n), !0)) } return r }; function ba(e, t, n) { var r = function () { return n || (n = ya(ba(e, t))), n }; return { container: ea.constant(e), offset: ea.constant(t), toRange: function () { var n; return (n = fa(e.ownerDocument)).setStart(e, t), n.setEnd(e, t), n }, getClientRects: r, isVisible: function () { return r().length > 0 }, isAtStart: function () { return ua(e), 0 === t }, isAtEnd: function () { return ua(e) ? t >= e.data.length : t >= e.childNodes.length }, isEqual: function (n) { return n && e === n.container() && t === n.offset() }, getNode: function (n) { return la(e, n ? t - 1 : t) } } } (gi = ba || (ba = {})).fromRangeStart = function (e) { return gi(e.startContainer, e.startOffset) }, gi.fromRangeEnd = function (e) { return gi(e.endContainer, e.endOffset) }, gi.after = function (e) { return gi(e.parentNode, ca(e) + 1) }, gi.before = function (e) { return gi(e.parentNode, ca(e)) }, gi.isAtStart = function (e) { return !!e && e.isAtStart() }, gi.isAtEnd = function (e) { return !!e && e.isAtEnd() }, gi.isTextPosition = function (e) { return !!e && So.isText(e.container()) }; var Ca, xa, wa = ba, Na = So.isElement, Ea = So.isText, Sa = function (e) { var t = e.parentNode; t && t.removeChild(e) }, ka = function (e, t) { 0 === t.length ? Sa(e) : e.nodeValue = t }, Ta = function (e) { var t = bi(e); return { count: e.length - t.length, text: t } }, Aa = function (e, t) { return Ba(e), t }, _a = function (e, t) { return Ea(e) && t.container() === e ? (r = t, o = Ta((n = e).data.substr(0, r.offset())), i = Ta(n.data.substr(r.offset())), (a = o.text + i.text).length > 0 ? (ka(n, a), wa(n, r.offset() - o.count)) : r) : Aa(e, t); var n, r, o, i, a }, Ra = function (e, t) { return t.container() === e.parentNode ? (n = e, o = (r = t).container(), i = M.indexOf(o.childNodes, n).map(function (e) { return e < r.offset() ? wa(o, r.offset() - 1) : r }).getOr(r), Ba(n), i) : Aa(e, t); var n, r, o, i }, Ba = function (e) { if (Na(e) && Ei(e) && (Si(e) ? e.removeAttribute("data-mce-caret") : Sa(e)), Ea(e)) { var t = bi(function (e) { try { return e.nodeValue } catch (t) { return "" } }(e)); ka(e, t) } }, Da = { removeAndReposition: function (e, t) { return wa.isTextPosition(t) ? _a(e, t) : Ra(e, t) }, remove: Ba }, Oa = function (e) { return wa.isTextPosition(e) ? 0 === e.offset() : Ui(e.getNode()) }, Pa = function (e) { if (wa.isTextPosition(e)) { var t = e.container(); return e.offset() === t.data.length } return Ui(e.getNode(!0)) }, La = function (e, t) { return !wa.isTextPosition(e) && !wa.isTextPosition(t) && e.getNode() === t.getNode(!0) }, Ia = function (e, t, n) { return e ? !La(t, n) && (r = t, !(!wa.isTextPosition(r) && So.isBr(r.getNode()))) && Pa(t) && Oa(n) : !La(n, t) && Oa(t) && Pa(n); var r }, Ma = function (e, t, n) { var r = ls(t); return E.from(e ? r.next(n) : r.prev(n)) }, Fa = function (e, t) { var n, r, o, i, a, u = e ? t.firstChild : t.lastChild; return So.isText(u) ? E.some(wa(u, e ? 0 : u.data.length)) : u ? Ui(u) ? E.some(e ? wa.before(u) : (a = u, So.isBr(a) ? wa.before(a) : wa.after(a))) : (r = t, o = u, i = (n = e) ? wa.before(o) : wa.after(o), Ma(n, r, i)) : E.none() }, za = { fromPosition: Ma, nextPosition: y.curry(Ma, !0), prevPosition: y.curry(Ma, !1), navigate: function (e, t, n) { return Ma(e, t, n).bind(function (r) { return Pu(n, r, t) && Ia(e, n, r) ? Ma(e, t, r) : E.some(r) }) }, positionIn: Fa, firstPositionIn: y.curry(Fa, !0), lastPositionIn: y.curry(Fa, !1) }, Ua = So.isContentEditableTrue, qa = So.isContentEditableFalse, Va = function (e, t, n, r, o) { return t._selectionOverrides.showCaret(e, n, r, o) }, Ha = function (e, t) { var n, r; return e.fire("BeforeObjectSelected", { target: t }).isDefaultPrevented() ? null : ((r = (n = t).ownerDocument.createRange()).selectNode(n), r) }, ja = function (e, t, n) { var r, o; return t = Uu(1, e.getBody(), t), r = wa.fromRangeStart(t), qa(r.getNode()) ? Va(1, e, r.getNode(), !r.isAtEnd(), !1) : qa(r.getNode(!0)) ? Va(1, e, r.getNode(!0), !1, !1) : (o = e.dom.getParent(r.getNode(), function (e) { return qa(e) || Ua(e) }), qa(o) ? Va(1, e, o, !1, n) : null) }, $a = function (e, t, n) { return t && t.collapsed && ja(e, t, n) || t }, Wa = function (e, t) { for (var n = [], r = 0; r < e.length; r++) { var o = e[r]; if (!o.isSome()) return E.none(); n.push(o.getOrDie()) } return E.some(t.apply(null, n)) }; (xa = Ca || (Ca = {}))[xa.Br = 0] = "Br", xa[xa.Block = 1] = "Block", xa[xa.Wrap = 2] = "Wrap", xa[xa.Eol = 3] = "Eol"; var Ka, Xa, Ya = function (e, t) { return e === Ka.Backwards ? t.reverse() : t }, Ga = function (e, t, n, r) { for (var o, i, a, u, s, c, l = ls(n), f = r, d = []; f && (s = l, c = f, o = t === Ka.Forwards ? s.next(c) : s.prev(c));) { if (So.isBr(o.getNode(!1))) return t === Ka.Forwards ? { positions: Ya(t, d).concat([o]), breakType: Ca.Br, breakAt: E.some(o) } : { positions: Ya(t, d), breakType: Ca.Br, breakAt: E.some(o) }; if (o.isVisible()) { if (e(f, o)) { var m = (i = t, a = f, u = o, So.isBr(u.getNode(i === Ka.Forwards)) ? Ca.Br : !1 === Pu(a, u) ? Ca.Block : Ca.Wrap); return { positions: Ya(t, d), breakType: m, breakAt: E.some(o) } } d.push(o), f = o } else f = o } return { positions: Ya(t, d), breakType: Ca.Eol, breakAt: E.none() } }, Ja = function (e, t, n, r) { return t(n, r).breakAt.map(function (r) { var o = t(n, r).positions; return e === Ka.Backwards ? o.concat(r) : [r].concat(o) }).getOr([]) }, Qa = function (e, t) { return M.foldl(e, function (e, n) { return e.fold(function () { return E.some(n) }, function (r) { return Wa([M.head(r.getClientRects()), M.head(n.getClientRects())], function (e, o) { var i = Math.abs(t - e.left); return Math.abs(t - o.left) <= i ? n : r }).or(e) }) }, E.none()) }, Za = function (e, t) { return M.head(t.getClientRects()).bind(function (t) { return Qa(e, t.left) }) }, eu = y.curry(Ga, function (e, t) { return Wa([M.head(t.getClientRects()), M.last(e.getClientRects())], Wi).getOr(!1) }, -1), tu = y.curry(Ga, function (e, t) { return Wa([M.last(t.getClientRects()), M.head(e.getClientRects())], function (e, t) { return Ki(e, t) }).getOr(!1) }, 1), nu = y.curry(Ja, -1, eu), ru = y.curry(Ja, 1, tu), ou = function (e, t) { return Tr.all(t, e) }, iu = function (e, t, n, r, o) { var i, a, u, s, c, l = ou(Fn.fromDom(n), "td,th").map(function (e) { return e.dom() }), f = M.filter((i = e, a = l, M.bind(a, function (e) { var t, n, r = (t = e.getBoundingClientRect(), n = -1, { left: t.left - n, top: t.top - n, right: t.right + 2 * n, bottom: t.bottom + 2 * n, width: t.width + n, height: t.height + n }); return [{ x: r.left, y: i(r), cell: e }, { x: r.right, y: i(r), cell: e }] })), function (e) { return t(e, o) }); return (u = f, s = r, c = o, M.foldl(u, function (e, t) { return e.fold(function () { return E.some(t) }, function (e) { var n = Math.sqrt(Math.abs(e.x - s) + Math.abs(e.y - c)), r = Math.sqrt(Math.abs(t.x - s) + Math.abs(t.y - c)); return E.some(r < n ? t : e) }) }, E.none())).map(function (e) { return e.cell }) }, au = y.curry(iu, function (e) { return e.bottom }, function (e, t) { return e.y < t }), uu = y.curry(iu, function (e) { return e.top }, function (e, t) { return e.y > t }), su = function (e, t) { return M.head(t.getClientRects()).bind(function (t) { return au(e, t.left, t.top) }).bind(function (e) { return Za((n = e, za.lastPositionIn(n).map(function (e) { return eu(n, e).positions.concat(e) }).getOr([])), t); var n }) }, cu = function (e, t) { return M.last(t.getClientRects()).bind(function (t) { return uu(e, t.left, t.top) }).bind(function (e) { return Za((n = e, za.firstPositionIn(n).map(function (e) { return [e].concat(tu(n, e).positions) }).getOr([])), t); var n }) }, lu = In.detect().browser, fu = function () { return lu.isIE() || lu.isEdge() || lu.isFirefox() }, du = function (e, t, n) { var r = e(t, n); return r.breakType === Ca.Wrap && 0 === r.positions.length ? r.breakAt.map(function (n) { return e(t, n).breakAt.isNone() }).getOr(!0) : r.breakAt.isNone() }, mu = ea.curry(du, eu), pu = ea.curry(du, tu), gu = function (e, t, n, r) { var o, i, a, u, s = e.selection.getRng(), c = t ? 1 : -1; if (fu() && (o = t, i = s, a = n, u = wa.fromRangeStart(i), za.positionIn(!o, a).map(function (e) { return e.isEqual(u) }).getOr(!1))) { var l = Va(c, e, n, !t, !0); return e.selection.setRng(l), !0 } return !1 }, hu = function (e, t, n, r) { var o, i, a, u, s, c, l = e.selection.getRng(), f = wa.fromRangeStart(l), d = e.getBody(); if (!t && mu(r, f)) { var m = (u = d, su(s = n, c = f).orThunk(function () { return M.head(c.getClientRects()).bind(function (e) { return Qa(nu(u, wa.before(s)), e.left) }) }).getOr(wa.before(s))); return e.selection.setRng(m.toRange()), !0 } return !(!t || !pu(r, f)) && (o = d, m = cu(i = n, a = f).orThunk(function () { return M.head(a.getClientRects()).bind(function (e) { return Qa(ru(o, wa.after(i)), e.left) }) }).getOr(wa.after(i)), e.selection.setRng(m.toRange()), !0) }, vu = function (e, t) { return function () { return E.from(e.dom.getParent(e.selection.getNode(), "td,th")).bind(function (n) { return E.from(e.dom.getParent(n, "table")).map(function (n) { return gu(e, t, n) }) }).getOr(!1) } }, yu = function (e, t) { return function () { return E.from(e.dom.getParent(e.selection.getNode(), "td,th")).bind(function (n) { return E.from(e.dom.getParent(n, "table")).map(function (r) { return hu(e, t, r, n) }) }).getOr(!1) } }, bu = So.isContentEditableFalse, Cu = function (e, t, n) { var r, o, i = null, a = function () { !function (e) { var t, n, r, o, i; for (t = Jt("*[contentEditable=false]", e), o = 0; o < t.length; o++)r = (n = t[o]).previousSibling, Ri(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)), r = n.nextSibling, _i(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1)) }(e), o && (Da.remove(o), o = null), i && (i.remove(), i = null), clearInterval(r) }, u = function () { r = ve.setInterval(function () { n() ? Jt("div.mce-visual-caret", e).toggleClass("mce-visual-caret-hidden") : Jt("div.mce-visual-caret", e).addClass("mce-visual-caret-hidden") }, 500) }; return { show: function (n, r) { var s, c, l, f, d, m, p, g, h, v, y, b; return a(), l = r, So.isElement(l) && /^(TD|TH)$/i.test(l.tagName) ? null : t(r) ? (o = Ai("p", r, n), f = e, m = n, b = ji((d = r).getBoundingClientRect(), m), "BODY" === f.tagName ? (p = f.ownerDocument.documentElement, g = f.scrollLeft || p.scrollLeft, h = f.scrollTop || p.scrollTop) : (y = f.getBoundingClientRect(), g = f.scrollLeft - y.left, h = f.scrollTop - y.top), b.left += g, b.right += g, b.top += h, b.bottom += h, b.width = 1, (v = d.offsetWidth - d.clientWidth) > 0 && (m && (v *= -1), b.left += v, b.right += v), s = b, Jt(o).css("top", s.top), i = Jt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(e), n && i.addClass("mce-visual-caret-before"), u(), (c = r.ownerDocument.createRange()).setStart(o, 0), c.setEnd(o, 0), c) : (o = function (e, t) { var n, r, o; if (r = e.ownerDocument.createTextNode(yi), o = e.parentNode, t) { if (n = e.previousSibling, xi(n)) { if (Ei(n)) return n; if (Ri(n)) return n.splitText(n.data.length - 1) } o.insertBefore(r, e) } else { if (n = e.nextSibling, xi(n)) { if (Ei(n)) return n; if (_i(n)) return n.splitText(1), n } e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r) } return r }(r, n), c = r.ownerDocument.createRange(), bu(o.nextSibling) ? (c.setStart(o, 0), c.setEnd(o, 0)) : (c.setStart(o, 1), c.setEnd(o, 1)), c) }, hide: a, getCss: function () { return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}" }, destroy: function () { return ve.clearInterval(r) } } }, xu = function (e) { return bu(e) || So.isTable(e) && fu() }, wu = So.isContentEditableFalse, Nu = So.matchStyleValues("display", "block table table-cell table-caption list-item"), Eu = Ei, Su = wi, ku = ea.curry, Tu = So.isElement, Au = Ui, _u = function (e) { return e > 0 }, Ru = function (e) { return e < 0 }, Bu = function (e, t) { for (var n; n = e(t);)if (!Su(n)) return n; return null }, Du = function (e, t, n, r, o) { var i = new Zr(e, r); if (Ru(t)) { if ((wu(e) || Su(e)) && n(e = Bu(i.prev, !0))) return e; for (; e = Bu(i.prev, o);)if (n(e)) return e } if (_u(t)) { if ((wu(e) || Su(e)) && n(e = Bu(i.next, !0))) return e; for (; e = Bu(i.next, o);)if (n(e)) return e } return null }, Ou = function (e, t) { for (; e && e !== t;) { if (Nu(e)) return e; e = e.parentNode } return null }, Pu = function (e, t, n) { return Ou(e.container(), n) === Ou(t.container(), n) }, Lu = function (e, t) { var n, r; return t ? (n = t.container(), r = t.offset(), Tu(n) ? n.childNodes[r + e] : null) : null }, Iu = function (e, t) { var n = t.ownerDocument.createRange(); return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n }, Mu = function (e, t, n) { var r, o, i, a; for (o = e ? "previousSibling" : "nextSibling"; n && n !== t;) { if (r = n[o], Eu(r) && (r = r[o]), wu(r)) { if (a = n, Ou(r, i = t) === Ou(a, i)) return r; break } if (Au(r)) break; n = n.parentNode } return null }, Fu = ku(Iu, !0), zu = ku(Iu, !1), Uu = function (e, t, n) { var r, o, i, a, u = ku(Mu, !0, t), s = ku(Mu, !1, t); if (o = n.startContainer, i = n.startOffset, wi(o)) { if (Tu(o) || (o = o.parentNode), "before" === (a = o.getAttribute("data-mce-caret")) && (r = o.nextSibling, xu(r))) return Fu(r); if ("after" === a && (r = o.previousSibling, xu(r))) return zu(r) } if (!n.collapsed) return n; if (So.isText(o)) { if (Eu(o)) { if (1 === e) { if (r = s(o)) return Fu(r); if (r = u(o)) return zu(r) } if (-1 === e) { if (r = u(o)) return zu(r); if (r = s(o)) return Fu(r) } return n } if (Ri(o) && i >= o.data.length - 1) return 1 === e && (r = s(o)) ? Fu(r) : n; if (_i(o) && i <= 1) return -1 === e && (r = u(o)) ? zu(r) : n; if (i === o.data.length) return (r = s(o)) ? Fu(r) : n; if (0 === i) return (r = u(o)) ? zu(r) : n } return n }, qu = function (e, t) { var n = Lu(e, t); return wu(n) && !So.isBogusAll(n) }, Vu = function (e, t) { return So.isTable(Lu(e, t)) }, Hu = function (e, t) { return E.from(Lu(e ? 0 : -1, t)).filter(wu) }, ju = function (e, t, n) { var r = Uu(e, t, n); return -1 === e ? ba.fromRangeStart(r) : ba.fromRangeEnd(r) }, $u = ku(qu, 0), Wu = ku(qu, -1), Ku = ku(Vu, 0), Xu = ku(Vu, -1); (Xa = Ka || (Ka = {}))[Xa.Backwards = -1] = "Backwards", Xa[Xa.Forwards = 1] = "Forwards"; var Yu, Gu, Ju, Qu, Zu, es = So.isContentEditableFalse, ts = So.isText, ns = So.isElement, rs = So.isBr, os = Ui, is = function (e) { return Mi(e) || !!Oi(t = e) && !0 !== Tt.reduce(t.getElementsByTagName("*"), function (e, t) { return e || Di(t) }, !1); var t }, as = qi, us = function (e, t) { return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null }, ss = function (e, t) { if (_u(e)) { if (os(t.previousSibling) && !ts(t.previousSibling)) return wa.before(t); if (ts(t)) return wa(t, 0) } if (Ru(e)) { if (os(t.nextSibling) && !ts(t.nextSibling)) return wa.after(t); if (ts(t)) return wa(t, t.data.length) } return Ru(e) ? rs(t) ? wa.before(t) : wa.after(t) : wa.before(t) }, cs = function (e, t, n) { var r, o, i, a, u; if (!ns(n) || !t) return null; if (t.isEqual(wa.after(n)) && n.lastChild) { if (u = wa.after(n.lastChild), Ru(e) && os(n.lastChild) && ns(n.lastChild)) return rs(n.lastChild) ? wa.before(n.lastChild) : u } else u = t; var s, c, l, f = u.container(), d = u.offset(); if (ts(f)) { if (Ru(e) && d > 0) return wa(f, --d); if (_u(e) && d < f.length) return wa(f, ++d); r = f } else { if (Ru(e) && d > 0 && (o = us(f, d - 1), os(o))) return !is(o) && (i = Du(o, e, as, o)) ? ts(i) ? wa(i, i.data.length) : wa.after(i) : ts(o) ? wa(o, o.data.length) : wa.before(o); if (_u(e) && d < f.childNodes.length && (o = us(f, d), os(o))) return s = o, c = n, So.isBr(s) && (l = cs(1, wa.after(s), c)) && !Pu(wa.before(s), wa.before(l), c) ? cs(e, wa.after(o), n) : !is(o) && (i = Du(o, e, as, o)) ? ts(i) ? wa(i, 0) : wa.before(i) : ts(o) ? wa(o, 0) : wa.after(o); r = o || u.getNode() } return (_u(e) && u.isAtEnd() || Ru(e) && u.isAtStart()) && (r = Du(r, e, ea.constant(!0), n, !0), as(r, n)) ? ss(e, r) : (o = Du(r, e, as, n), !(a = Tt.last(Tt.filter(function (e, t) { for (var n = []; e && e !== t;)n.push(e), e = e.parentNode; return n }(f, n), es))) || o && a.contains(o) ? o ? ss(e, o) : null : u = _u(e) ? wa.after(a) : wa.before(a)) }, ls = function (e) { return { next: function (t) { return cs(Ka.Forwards, t, e) }, prev: function (t) { return cs(Ka.Backwards, t, e) } } }, fs = function (e) { return Dt.grep(e.childNodes, function (e) { return "LI" === e.nodeName }) }, ds = function (e) { return e && e.firstChild && e.firstChild === e.lastChild && ("\xa0" === (t = e.firstChild).data || So.isBr(t)); var t }, ms = function (e) { return e.length > 0 && (!(t = e[e.length - 1]).firstChild || ds(t)) ? e.slice(0, -1) : e; var t }, ps = function (e, t) { var n = e.getParent(t, e.isBlock); return n && "LI" === n.nodeName ? n : null }, gs = function (e, t) { var n = wa.after(e), r = ls(t).prev(n); return r ? r.toRange() : null }, hs = function (e, t, n) { var r, o, i, a, u = e.parentNode; return Dt.each(t, function (t) { u.insertBefore(t, e) }), r = e, o = n, i = wa.before(r), (a = ls(o).next(i)) ? a.toRange() : null }, vs = function (e, t) { var n, r, o, i, a, u, s = t.firstChild, c = t.lastChild; return s && "meta" === s.name && (s = s.next), c && "mce_marker" === c.attr("id") && (c = c.prev), r = c, u = (n = e).getNonEmptyElements(), r && (r.isEmpty(u) || (o = r, n.getBlockElements()[o.name] && (a = o).firstChild && a.firstChild === a.lastChild && ("br" === (i = o.firstChild).name || "\xa0" === i.value))) && (c = c.prev), !(!s || s !== c || "ul" !== s.name && "ol" !== s.name) }, ys = function (e, t, n, r) { var o, i, a, u, s, c, l, f, d, m, p, g, h, v, y, b, C, x, w, N = (o = t, i = r, c = e.serialize(i), l = o.createFragment(c), u = (a = l).firstChild, s = a.lastChild, u && "META" === u.nodeName && u.parentNode.removeChild(u), s && "mce_marker" === s.id && s.parentNode.removeChild(s), a), E = ps(t, n.startContainer), S = ms(fs(N.firstChild)), k = t.getRoot(), T = function (e) { var r = wa.fromRangeStart(n), o = ls(t.getRoot()), i = 1 === e ? o.prev(r) : o.next(r); return !i || ps(t, i.getNode()) !== E }; return T(1) ? hs(E, S, k) : T(2) ? (f = E, d = S, m = k, t.insertAfter(d.reverse(), f), gs(d[0], m)) : (g = S, h = k, v = p = E, b = (y = n).cloneRange(), C = y.cloneRange(), b.setStartBefore(v), C.setEndAfter(v), x = [b.cloneContents(), C.cloneContents()], (w = p.parentNode).insertBefore(x[0], p), Dt.each(g, function (e) { w.insertBefore(e, p) }), w.insertBefore(x[1], p), w.removeChild(p), gs(g[g.length - 1], h)) }, bs = function (e, t) { return !!ps(e, t) }, Cs = So.isText, xs = So.isBogus, ws = ui.nodeIndex, Ns = function (e) { var t = e.parentNode; return xs(t) ? Ns(t) : t }, Es = function (e) { return e ? Tt.reduce(e.childNodes, function (e, t) { return xs(t) && "BR" !== t.nodeName ? e = e.concat(Es(t)) : e.push(t), e }, []) : [] }, Ss = function (e) { return function (t) { return e === t } }, ks = function (e) { var t, n, r, o; return (Cs(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + (n = Es(Ns(t = e)), r = Tt.findIndex(n, Ss(t), t), n = n.slice(0, r + 1), o = Tt.reduce(n, function (e, t, r) { return Cs(t) && Cs(n[r - 1]) && e++, e }, 0), n = Tt.filter(n, So.matchNodeNames(t.nodeName)), (r = Tt.findIndex(n, Ss(t), t)) - o) + "]" }, Ts = function (e, t) { var n, r, o, i, a, u = []; return n = t.container(), r = t.offset(), Cs(n) ? o = function (e, t) { for (; (e = e.previousSibling) && Cs(e);)t += e.data.length; return t }(n, r) : (r >= (i = n.childNodes).length ? (o = "after", r = i.length - 1) : o = "before", n = i[r]), u.push(ks(n)), a = function (e, t, n) { var r = []; for (t = t.parentNode; !(t === e || n && n(t)); t = t.parentNode)r.push(t); return r }(e, n), a = Tt.filter(a, ea.negate(So.isBogus)), (u = u.concat(Tt.map(a, function (e) { return ks(e) }))).reverse().join("/") + "," + o }, As = function (e, t) { var n, r, o; return t ? (t = (n = t.split(","))[0].split("/"), o = n.length > 1 ? n[1] : "before", (r = Tt.reduce(t, function (e, t) { return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), n = e, r = t[1], o = parseInt(t[2], 10), i = Es(n), i = Tt.filter(i, function (e, t) { return !Cs(e) || !Cs(i[t - 1]) }), (i = Tt.filter(i, So.matchNodeNames(r)))[o]) : null; var n, r, o, i }, e)) ? Cs(r) ? function (e, t) { for (var n, r = e, o = 0; Cs(r);) { if (n = r.data.length, t >= o && t <= o + n) { e = r, t -= o; break } if (!Cs(r.nextSibling)) { e = r, t = n; break } o += n, r = r.nextSibling } return Cs(e) && t > e.data.length && (t = e.data.length), wa(e, t) }(r, parseInt(o, 10)) : (o = "after" === o ? ws(r) + 1 : ws(r), wa(r.parentNode, o)) : null) : null }, _s = So.isContentEditableFalse, Rs = function (e, t, n, r, o) { var i, a = r[o ? "startContainer" : "endContainer"], u = r[o ? "startOffset" : "endOffset"], s = [], c = 0, l = e.getRoot(); for (So.isText(a) ? s.push(n ? function (e, t, n) { var r, o; for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && So.isText(r); r = r.previousSibling)o += e(r.data).length; return o }(t, a, u) : u) : (u >= (i = a.childNodes).length && i.length && (c = 1, u = Math.max(0, i.length - 1)), s.push(e.nodeIndex(i[u], n) + c)); a && a !== l; a = a.parentNode)s.push(e.nodeIndex(a, n)); return s }, Bs = function (e) { So.isText(e) && 0 === e.data.length && e.parentNode.removeChild(e) }, Ds = function (e, t, n) { var r = 0; return Dt.each(e.select(t), function (e) { if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++ }), r }, Os = function (e, t) { var n, r, o, i = t ? "start" : "end"; n = e[i + "Container"], r = e[i + "Offset"], So.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r : r - 1, o.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r)) }, Ps = function (e) { return Os(e, !0), Os(e, !1), e }, Ls = function (e, t) { var n; if (So.isElement(e) && (e = Yi(e, t), _s(e))) return e; if (Ei(e)) { if (So.isText(e) && wi(e) && (e = e.parentNode), n = e.previousSibling, _s(n)) return n; if (n = e.nextSibling, _s(n)) return n } }, Is = function (e, t, n) { var r, o, i, a, u, s, c, l = n.getNode(), f = l ? l.nodeName : null, d = n.getRng(); return _s(l) || "IMG" === f ? { name: f, index: Ds(n.dom, f, l) } : (l = Ls((r = d).startContainer, r.startOffset) || Ls(r.endContainer, r.endOffset)) ? { name: f = l.tagName, index: Ds(n.dom, f, l) } : (o = e, a = t, u = d, s = (i = n).dom, (c = {}).start = Rs(s, o, a, u, !0), i.isCollapsed() || (c.end = Rs(s, o, a, u, !1)), c) }, Ms = { getBookmark: function (e, t, n) { return 2 === t ? Is(bi, n, e) : 3 === t ? (o = (r = e).getRng(), { start: Ts(r.dom.getRoot(), wa.fromRangeStart(o)), end: Ts(r.dom.getRoot(), wa.fromRangeEnd(o)) }) : t ? { rng: e.getRng() } : function (e) { var t = e.dom, n = e.getRng(), r = t.uniqueId(), o = e.isCollapsed(), i = "overflow:hidden;line-height:0px", a = e.getNode(), u = a.nodeName; if ("IMG" === u) return { name: u, index: Ds(t, u, a) }; var s = Ps(n.cloneRange()); if (!o) { s.collapse(!1); var c = t.create("span", { "data-mce-type": "bookmark", id: r + "_end", style: i }, "&#xFEFF;"); s.insertNode(c), Bs(c.nextSibling) } (n = Ps(n)).collapse(!0); var l = t.create("span", { "data-mce-type": "bookmark", id: r + "_start", style: i }, "&#xFEFF;"); return n.insertNode(l), Bs(l.previousSibling), e.moveToBookmark({ id: r, keep: 1 }), { id: r } }(e); var r, o }, getUndoBookmark: y.curry(Is, y.identity, !0) }, Fs = function (e, t) { return !e.isBlock(t) || t.innerHTML || de.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t }, zs = function (e, t, n, r) { var o, i, a, u, s = n[t ? "start" : "end"], c = e.getRoot(); if (s) { for (a = s[0], i = c, o = s.length - 1; o >= 1; o--) { if (u = i.childNodes, s[o] > u.length - 1) return; i = u[s[o]] } 3 === i.nodeType && (a = Math.min(s[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(s[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a) } return !0 }, Us = function (e, t, n) { var r, o, i, a, u, s, c = e.get(n.id + "_" + t), l = n.keep; if (c) { if (r = c.parentNode, l ? (r = c.firstChild, o = 1) : o = e.nodeIndex(c), u = r, s = o, !l) { for (a = c.previousSibling, i = c.nextSibling, Dt.each(Dt.grep(c.childNodes), function (e) { So.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, "")) }); c = e.get(n.id + "_" + t);)e.remove(c, 1); a && i && a.nodeType === i.nodeType && So.isText(a) && !de.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), u = a, s = o) } return E.some(wa(u, s)) } return E.none() }, qs = function (e, t) { var n, r, o, i, a, u, s, c, l, f, d, m, p, g, h, v = e.dom; if (t) { if (Dt.isArray(t.start)) return g = t, h = (p = v).createRng(), zs(p, !0, g, h) && zs(p, !1, g, h) ? E.some(h) : E.none(); if ("string" == typeof t.start) return E.some((f = t, d = (l = v).createRng(), m = As(l.getRoot(), f.start), d.setStart(m.container(), m.offset()), m = As(l.getRoot(), f.end), d.setEnd(m.container(), m.offset()), d)); if (t.id) return s = Us(o = v, "start", i = t), c = Us(o, "end", i), Wa([s, (a = c, u = s, a.isSome() ? a : u)], function (e, t) { var n = o.createRng(); return n.setStart(Fs(o, e.container()), e.offset()), n.setEnd(Fs(o, t.container()), t.offset()), n }); if (t.name) return n = v, r = t, E.from(n.select(r.name)[r.index]).map(function (e) { var t = n.createRng(); return t.selectNode(e), t }); if (t.rng) return E.some(t.rng) } return E.none() }, Vs = { getBookmark: function (e, t, n) { return Ms.getBookmark(e, t, n) }, moveToBookmark: function (e, t) { qs(e, t).each(function (t) { e.setRng(t) }) }, isBookmarkNode: function (e) { return So.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type") } }, Hs = Dt.each, js = function (e) { this.compare = function (t, n) { if (t.nodeName !== n.nodeName) return !1; var r = function (t) { var n = {}; return Hs(e.getAttribs(t), function (r) { var o = r.nodeName.toLowerCase(); 0 !== o.indexOf("_") && "style" !== o && 0 !== o.indexOf("data-") && (n[o] = e.getAttrib(t, o)) }), n }, o = function (e, t) { var n, r; for (r in e) if (e.hasOwnProperty(r)) { if (void 0 === (n = t[r])) return !1; if (e[r] !== n) return !1; delete t[r] } for (r in t) if (t.hasOwnProperty(r)) return !1; return !0 }; return !(!o(r(t), r(n)) || !o(e.parseStyle(e.getAttrib(t, "style")), e.parseStyle(e.getAttrib(n, "style"))) || Vs.isBookmarkNode(t) || Vs.isBookmarkNode(n)) } }, $s = function (e, t) { Fr.parent(e).each(function (n) { n.dom().insertBefore(t.dom(), e.dom()) }) }, Ws = function (e, t) { e.dom().appendChild(t.dom()) }, Ks = { before: $s, after: function (e, t) { Fr.nextSibling(e).fold(function () { Fr.parent(e).each(function (e) { Ws(e, t) }) }, function (e) { $s(e, t) }) }, prepend: function (e, t) { Fr.firstChild(e).fold(function () { Ws(e, t) }, function (n) { e.dom().insertBefore(t.dom(), n.dom()) }) }, append: Ws, appendAt: function (e, t, n) { Fr.child(e, n).fold(function () { Ws(e, t) }, function (e) { $s(e, t) }) }, wrap: function (e, t) { $s(e, t), Ws(t, e) } }, Xs = function (e, t) { M.each(t, function (t) { Ks.before(e, t) }) }, Ys = function (e, t) { M.each(t, function (t) { Ks.append(e, t) }) }, Gs = function (e) { var t = e.dom(); null !== t.parentNode && t.parentNode.removeChild(t) }, Js = { empty: function (e) { e.dom().textContent = "", M.each(Fr.children(e), function (e) { Gs(e) }) }, remove: Gs, unwrap: function (e) { var t = Fr.children(e); t.length > 0 && Xs(e, t), Gs(e) } }, Qs = (Yu = Yn.isText, Gu = "text", Ju = function (e) { return Yu(e) ? E.from(e.dom().nodeValue) : E.none() }, Qu = In.detect().browser, { get: function (e) { if (!Yu(e)) throw new Error("Can only get " + Gu + " value of a " + Gu + " node"); return Zu(e).getOr("") }, getOption: Zu = Qu.isIE() && 10 === Qu.version.major ? function (e) { try { return Ju(e) } catch (vx) { return E.none() } } : Ju, set: function (e, t) { if (!Yu(e)) throw new Error("Can only set raw " + Gu + " value of a " + Gu + " node"); e.dom().nodeValue = t } }), Zs = function (e) { return Qs.get(e) }, ec = function (e) { var t = ou(e, "br"), n = M.filter(function (e) { for (var t = [], n = e.dom(); n;)t.push(Fn.fromDom(n)), n = n.lastChild; return t }(e).slice(-1), uo); t.length === n.length && M.each(n, Js.remove) }, tc = function (e) { Js.empty(e), Ks.append(e, Fn.fromHtml('<br data-mce-bogus="1">')) }, nc = function (e) { Fr.lastChild(e).each(function (t) { Fr.prevSibling(t).each(function (n) { io(e) && uo(t) && io(n) && Js.remove(t) }) }) }, rc = Dt.makeMap; function oc(e) { var t, n, r, o, i, a = []; return t = (e = e || {}).indent, n = rc(e.indent_before || ""), r = rc(e.indent_after || ""), o = zo.getEncodeFunc(e.entity_encoding || "raw", e.entities), i = "html" === e.element_format, { start: function (e, u, s) { var c, l, f, d; if (t && n[e] && a.length > 0 && (d = a[a.length - 1]).length > 0 && "\n" !== d && a.push("\n"), a.push("<", e), u) for (c = 0, l = u.length; c < l; c++)f = u[c], a.push(" ", f.name, '="', o(f.value, !0), '"'); a[a.length] = !s || i ? ">" : " />", s && t && r[e] && a.length > 0 && (d = a[a.length - 1]).length > 0 && "\n" !== d && a.push("\n") }, end: function (e) { var n; a.push("</", e, ">"), t && r[e] && a.length > 0 && (n = a[a.length - 1]).length > 0 && "\n" !== n && a.push("\n") }, text: function (e, t) { e.length > 0 && (a[a.length] = t ? e : o(e)) }, cdata: function (e) { a.push("<![CDATA[", e, "]]>") }, comment: function (e) { a.push("\x3c!--", e, "--\x3e") }, pi: function (e, n) { n ? a.push("<?", e, " ", o(n), "?>") : a.push("<?", e, "?>"), t && a.push("\n") }, doctype: function (e) { a.push("<!DOCTYPE", e, ">", t ? "\n" : "") }, reset: function () { a.length = 0 }, getContent: function () { return a.join("").replace(/\n$/, "") } } } function ic(e, t) { void 0 === t && (t = Go()); var n = oc(e); return (e = e || {}).validate = !("validate" in e) || e.validate, { serialize: function (r) { var o, i; i = e.validate, o = { 3: function (e) { n.text(e.value, e.raw) }, 8: function (e) { n.comment(e.value) }, 7: function (e) { n.pi(e.name, e.value) }, 10: function (e) { n.doctype(e.value) }, 4: function (e) { n.cdata(e.value) }, 11: function (e) { if (e = e.firstChild) for (; a(e), e = e.next;); } }, n.reset(); var a = function (e) { var r, u, s, c, l, f, d, m, p, g = o[e.type]; if (g) g(e); else { if (r = e.name, u = e.shortEnded, s = e.attributes, i && s && s.length > 1 && ((f = []).map = {}, p = t.getElementRule(e.name))) { for (d = 0, m = p.attributesOrder.length; d < m; d++)(c = p.attributesOrder[d]) in s.map && (l = s.map[c], f.map[c] = l, f.push({ name: c, value: l })); for (d = 0, m = s.length; d < m; d++)(c = s[d].name) in f.map || (l = s.map[c], f.map[c] = l, f.push({ name: c, value: l })); s = f } if (n.start(e.name, s, u), !u) { if (e = e.firstChild) for (; a(e), e = e.next;); n.end(r) } } }; return 1 !== r.type || e.inner ? o[11](r) : a(r), n.getContent() } } } var ac = function (e) { var t = wa.fromRangeStart(e), n = wa.fromRangeEnd(e), r = e.commonAncestorContainer; return za.fromPosition(!1, r, n).map(function (o) { return !Pu(t, n, r) && Pu(t, o, r) ? (i = t.container(), a = t.offset(), u = o.container(), s = o.offset(), (c = document.createRange()).setStart(i, a), c.setEnd(u, s), c) : e; var i, a, u, s, c }).getOr(e) }, uc = function (e) { return (t = e).collapsed ? t : ac(t); var t }, sc = So.matchNodeNames("td th"), cc = function (e, t, n) { var r, o, i, a, u, s, c, l, f, d, m, p, g = e.schema.getTextInlineElements(), h = e.selection, v = e.dom; if (/^ | $/.test(t) && (t = function (e) { var t, n, r; t = h.getRng(), n = t.startContainer, r = t.startOffset; var o = function (e) { return n[e] && 3 === n[e].nodeType }; return 3 === n.nodeType && (r > 0 ? e = e.replace(/^&nbsp;/, " ") : o("previousSibling") || (e = e.replace(/^ /, "&nbsp;")), r < n.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : o("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), e }(t)), r = e.parser, p = n.merge, o = ic({ validate: e.settings.validate }, e.schema), m = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', s = { content: t, format: "html", selection: !0, paste: n.paste }, (s = e.fire("BeforeSetContent", s)).isDefaultPrevented()) e.fire("SetContent", { content: s.content, format: "html", selection: !0, paste: n.paste }); else { -1 === (t = s.content).indexOf("{$caret}") && (t += "{$caret}"), t = t.replace(/\{\$caret\}/, m); var y, b, C, x, w = (l = h.getRng()).startContainer || (l.parentElement ? l.parentElement() : null), N = e.getBody(); w === N && h.isCollapsed() && v.isBlock(N.firstChild) && (y = N.firstChild) && !e.schema.getShortEndedElements()[y.nodeName] && v.isEmpty(N.firstChild) && ((l = v.createRng()).setStart(N.firstChild, 0), l.setEnd(N.firstChild, 0), h.setRng(l)), h.isCollapsed() || (e.selection.setRng(uc(e.selection.getRng())), e.getDoc().execCommand("Delete", !1, null), C = (b = h.getRng()).startContainer, x = b.startOffset, 3 === C.nodeType && b.collapsed && ("\xa0" === C.data[x] ? (C.deleteData(x, 1), /[\u00a0| ]$/.test(t) || (t += " ")) : "\xa0" === C.data[x - 1] && (C.deleteData(x - 1, 1), /[\u00a0| ]$/.test(t) || (t = " " + t)))); var S, k, T, A = { context: (i = h.getNode()).nodeName.toLowerCase(), data: n.data, insert: !0 }; if (u = r.parse(t, A), !0 === n.paste && vs(e.schema, u) && bs(v, i)) return l = ys(o, v, e.selection.getRng(!0), u), e.selection.setRng(l), void e.fire("SetContent", s); if (function (e) { for (var t = e; t = t.walk();)1 === t.type && t.attr("data-mce-fragment", "1") }(u), "mce_marker" === (f = u.lastChild).attr("id")) for (c = f, f = f.prev; f; f = f.walk(!0))if (3 === f.type || !v.isBlock(f.name)) { e.schema.isValidChild(f.parent.name, "span") && f.parent.insert(c, f, "br" === f.name); break } if (e._selectionOverrides.showBlockCaretContainer(i), A.invalid) { for (h.setContent(m), i = h.getNode(), a = e.getBody(), 9 === i.nodeType ? i = f = a : f = i; f !== a;)i = f, f = f.parentNode; t = i === a ? a.innerHTML : v.getOuterHTML(i), t = o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () { return o.serialize(u) }))), i === a ? v.setHTML(a, t) : v.setOuterHTML(i, t) } else t = o.serialize(u), function (e, t, n) { if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n); else { var r = n.firstChild, o = n.lastChild; !r || r === o && "BR" === r.nodeName ? e.dom.setHTML(n, t) : e.selection.setContent(t) } }(e, t, i); !function () { if (p) { var t = e.getBody(), n = new js(v); Dt.each(v.select("*[data-mce-fragment]"), function (e) { for (var r = e.parentNode; r && r !== t; r = r.parentNode)g[e.nodeName.toLowerCase()] && n.compare(r, e) && v.remove(e, !0) }) } }(), function (t) { var n, r, o; if (t) { if (h.scrollIntoView(t), n = function (t) { for (var n = e.getBody(); t && t !== n; t = t.parentNode)if ("false" === e.dom.getContentEditable(t)) return t; return null }(t)) return v.remove(t), void h.select(n); l = v.createRng(), (f = t.previousSibling) && 3 === f.nodeType ? (l.setStart(f, f.nodeValue.length), de.ie || (d = t.nextSibling) && 3 === d.nodeType && (f.appendData(d.data), d.parentNode.removeChild(d))) : (l.setStartBefore(t), l.setEndBefore(t)), r = v.getParent(t, v.isBlock), v.remove(t), r && v.isEmpty(r) && (e.$(r).empty(), l.setStart(r, 0), l.setEnd(r, 0), sc(r) || r.getAttribute("data-mce-fragment") || !(o = function (t) { var n = wa.fromRangeStart(t); if (n = ls(e.getBody()).next(n)) return n.toRange() }(l)) ? v.add(r, v.create("br", { "data-mce-bogus": "1" })) : (l = o, v.remove(r))), h.setRng(l) } }(v.get("mce_marker")), S = e.getBody(), Dt.each(S.getElementsByTagName("*"), function (e) { e.removeAttribute("data-mce-fragment") }), k = e.dom, T = e.selection.getStart(), E.from(k.getParent(T, "td,th")).map(Fn.fromDom).each(nc), e.fire("SetContent", s), e.addVisual() } }, lc = { insertAtCaret: function (e, t) { var n, r, o = "string" != typeof (n = t) ? (r = Dt.extend({ paste: n.paste, data: { paste: n.paste } }, n), { content: n.content, details: r }) : { content: n, details: {} }; cc(e, o.content, o.details) } }; function fc(e, t, n, r, o) { return e(n, r) ? E.some(n) : Jn.isFunction(o) && o(n) ? E.none() : t(n, r, o) } var dc = function (e, t, n) { for (var r = e.dom(), o = Jn.isFunction(n) ? n : y.constant(!1); r.parentNode;) { r = r.parentNode; var i = Fn.fromDom(r); if (t(i)) return E.some(i); if (o(i)) break } return E.none() }, mc = function (e, t) { return M.find(e.dom().childNodes, y.compose(t, Fn.fromDom)).map(Fn.fromDom) }, pc = function (e, t) { var n = function (e) { for (var r = 0; r < e.childNodes.length; r++) { if (t(Fn.fromDom(e.childNodes[r]))) return E.some(Fn.fromDom(e.childNodes[r])); var o = n(e.childNodes[r]); if (o.isSome()) return o } return E.none() }; return n(e.dom()) }, gc = { first: function (e) { return pc(fr.body(), e) }, ancestor: dc, closest: function (e, t, n) { return fc(function (e) { return t(e) }, dc, e, t, n) }, sibling: function (e, t) { var n = e.dom(); return n.parentNode ? mc(Fn.fromDom(n.parentNode), function (n) { return !Rr.eq(e, n) && t(n) }) : E.none() }, child: mc, descendant: pc }, hc = br.immutable("sections", "settings"), vc = In.detect().deviceType.isTouch(), yc = ["lists", "autolink", "autosave"], bc = { theme: "mobile" }, Cc = function (e) { var t = Jn.isArray(e) ? e.join(" ") : e, n = M.map(Jn.isString(t) ? t.split(" ") : [], _n); return M.filter(n, function (e) { return e.length > 0 }) }, xc = function (e, t) { return e.sections().hasOwnProperty(t) }, wc = function (e, t, n, r) { var o, i, a = Cc(n.forced_plugins), u = Cc(r.plugins), s = e && xc(t, "mobile") ? (o = u, M.filter(o, y.curry(M.contains, yc))) : u, c = (i = s, [].concat(Cc(a)).concat(Cc(i))); return Dt.extend(r, { plugins: c.join(" ") }) }, Nc = function (e, t, n, r) { var o, i, a, u, s, c, l, f, d, m, p, g, h, v = (o = ["mobile"], i = r, a = rr.bifilter(i, function (e, t) { return M.contains(o, t) }), hc(a.t, a.f)), y = Dt.extend(t, n, v.settings(), (p = e, h = (g = v).settings().inline, p && xc(g, "mobile") && !h ? (l = "mobile", f = bc, d = v.sections(), m = d.hasOwnProperty(l) ? d[l] : {}, Dt.extend({}, f, m)) : {}), { validate: !0, content_editable: v.settings().inline, external_plugins: (u = n, s = v.settings(), c = s.external_plugins ? s.external_plugins : {}, u && u.external_plugins ? Dt.extend({}, u.external_plugins, c) : c) }); return wc(e, v, n, y) }, Ec = function (e, t, n) { return E.from(t.settings[n]).filter(e) }, Sc = y.curry(Ec, Jn.isString), kc = function (e, t, n, r) { var o, i, a = t in e.settings ? e.settings[t] : n; return "hash" === r ? (i = {}, "string" == typeof (o = a) ? M.each(o.indexOf("=") > 0 ? o.split(/[;,](?![^=;,]*(?:[;,]|$))/) : o.split(","), function (e) { (e = e.split("=")).length > 1 ? i[Dt.trim(e[0])] = Dt.trim(e[1]) : i[Dt.trim(e[0])] = Dt.trim(e) }) : i = o, i) : "string" === r ? Ec(Jn.isString, e, t).getOr(n) : "number" === r ? Ec(Jn.isNumber, e, t).getOr(n) : "boolean" === r ? Ec(Jn.isBoolean, e, t).getOr(n) : "object" === r ? Ec(Jn.isObject, e, t).getOr(n) : "array" === r ? Ec(Jn.isArray, e, t).getOr(n) : "function" === r ? Ec(Jn.isFunction, e, t).getOr(n) : a }, Tc = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/, Ac = function (e, t) { var n = t.container(), r = t.offset(); return e ? Ni(n) ? So.isText(n.nextSibling) ? wa(n.nextSibling, 0) : wa.after(n) : ki(t) ? wa(n, r + 1) : t : Ni(n) ? So.isText(n.previousSibling) ? wa(n.previousSibling, n.previousSibling.data.length) : wa.before(n) : Ti(t) ? wa(n, r - 1) : t }, _c = { isInlineTarget: function (e, t) { var n = Sc(e, "inline_boundaries_selector").getOr("a[href],code"); return Tr.is(Fn.fromDom(t), n) }, findRootInline: function (e, t, n) { var r, o, i, a = (r = e, o = t, i = n, M.filter(ui.DOM.getParents(i.container(), "*", o), r)); return E.from(a[a.length - 1]) }, isRtl: function (e) { return "rtl" === ui.DOM.getStyle(e, "direction", !0) || (t = e.textContent, Tc.test(t)); var t }, isAtZwsp: function (e) { return ki(e) || Ti(e) }, normalizePosition: Ac, normalizeForwards: y.curry(Ac, !0), normalizeBackwards: y.curry(Ac, !1), hasSameParentBlock: function (e, t, n) { var r = Ou(t, e), o = Ou(n, e); return r && r === o } }, Rc = function (e, t) { return Rr.contains(e, t) ? gc.closest(t, function (e) { return so(e) || lo(e) }, (n = e, function (e) { return Rr.eq(n, Fn.fromDom(e.dom().parentNode)) })) : E.none(); var n }, Bc = function (e) { var t, n, r; e.dom.isEmpty(e.getBody()) && (e.setContent(""), n = (t = e).getBody(), r = n.firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n, t.selection.setCursorLocation(r, 0)) }, Dc = function (e, t, n) { return Wa([za.firstPositionIn(n), za.lastPositionIn(n)], function (r, o) { var i = _c.normalizePosition(!0, r), a = _c.normalizePosition(!1, o), u = _c.normalizePosition(!1, t); return e ? za.nextPosition(n, u).map(function (e) { return e.isEqual(a) && t.isEqual(i) }).getOr(!1) : za.prevPosition(n, u).map(function (e) { return e.isEqual(i) && t.isEqual(a) }).getOr(!1) }).getOr(!0) }, Oc = function (e, t, n) { return gc.ancestor(e, function (e) { return Tr.is(e, t) }, n) }, Pc = Oc, Lc = function (e, t) { return Tr.one(t, e) }, Ic = function (e, t, n) { return fc(Tr.is, Oc, e, t, n) }, Mc = function (e, t, n) { return Pc(e, t, n).isSome() }, Fc = function (e, t) { return So.isText(t) && /^[ \t\r\n]*$/.test(t.data) && !1 === (n = e, r = t, o = Fn.fromDom(n), i = Fn.fromDom(r), Mc(i, "pre,code", y.curry(Rr.eq, o))); var n, r, o, i }, zc = function (e, t) { return Ui(t) && !1 === Fc(e, t) || (n = t, So.isElement(n) && "A" === n.nodeName && n.hasAttribute("name")) || Uc(t); var n }, Uc = So.hasAttribute("data-mce-bookmark"), qc = So.hasAttribute("data-mce-bogus"), Vc = So.hasAttributeValue("data-mce-bogus", "all"), Hc = function (e) { return function (e) { var t, n, r = 0; if (zc(e, e)) return !1; if (!(n = e.firstChild)) return !0; t = new Zr(n, e); do { if (Vc(n)) n = t.next(!0); else if (qc(n)) n = t.next(); else if (So.isBr(n)) r++, n = t.next(); else { if (zc(e, n)) return !1; n = t.next() } } while (n); return r <= 1 }(e.dom()) }, jc = br.immutable("block", "position"), $c = br.immutable("from", "to"), Wc = function (e, t) { var n = Fn.fromDom(e), r = Fn.fromDom(t.container()); return Rc(n, r).map(function (e) { return jc(e, t) }) }, Kc = function (e, t, n) { var r = Wc(e, wa.fromRangeStart(n)), o = r.bind(function (n) { return za.fromPosition(t, e, n.position()).bind(function (n) { return Wc(e, n).map(function (n) { return r = e, o = t, i = n, So.isBr(i.position().getNode()) && !1 === Hc(i.block()) ? za.positionIn(!1, i.block().dom()).bind(function (e) { return e.isEqual(i.position()) ? za.fromPosition(o, r, e).bind(function (e) { return Wc(r, e) }) : E.some(i) }).getOr(i) : i; var r, o, i }) }) }); return Wa([r, o], $c).filter(function (e) { return r = e, !1 === Rr.eq(r.from().block(), r.to().block()) && (n = e, Fr.parent(n.from().block()).bind(function (e) { return Fr.parent(n.to().block()).filter(function (t) { return Rr.eq(e, t) }) }).isSome()) && (t = e, !1 === So.isContentEditableFalse(t.from().block()) && !1 === So.isContentEditableFalse(t.to().block())); var t, n, r }) }, Xc = function (e, t, n) { return n.collapsed ? Kc(e, t, n) : E.none() }, Yc = function (e, t, n) { return Rr.contains(t, e) ? Fr.parents(e, function (e) { return n(e) || Rr.eq(e, t) }).slice(0, -1) : [] }, Gc = function (e, t) { return Yc(e, t, y.constant(!1)) }, Jc = Gc, Qc = function (e, t) { return [e].concat(Gc(e, t)) }, Zc = function (e) { var t, n, r = (t = e, n = Fr.children(t), M.findIndex(n, io).fold(function () { return n }, function (e) { return n.slice(0, e) })); return M.each(r, function (e) { Js.remove(e) }), r }, el = function (e, t) { za.positionIn(e, t.dom()).each(function (e) { var t = e.getNode(); So.isBr(t) && Js.remove(Fn.fromDom(t)) }) }, tl = function (e, t) { var n = Qc(t, e); return M.find(n.reverse(), Hc).each(Js.remove) }, nl = function (e, t) { return Rr.contains(t, e) ? Fr.parent(e).bind(function (n) { return Rr.eq(n, t) ? E.some(e) : (r = t, o = e, i = Fr.parents(o, function (e) { return Rr.eq(e, r) }), E.from(i[i.length - 2])); var r, o, i }) : E.none() }, rl = function (e, t, n) { if (Hc(n)) return Js.remove(n), Hc(t) && tc(t), za.firstPositionIn(t.dom()); el(!0, t), el(!1, n); var r = Zc(t); return nl(t, n).fold(function () { tl(e, t); var o = za.lastPositionIn(n.dom()); return M.each(r, function (e) { Ks.append(n, e) }), o }, function (o) { var i = za.prevPosition(n.dom(), wa.before(o.dom())); return M.each(r, function (e) { Ks.before(o, e) }), tl(e, t), i }) }, ol = function (e, t, n, r) { return t ? rl(e, r, n) : rl(e, n, r) }, il = function (e, t) { var n, r = Fn.fromDom(e.getBody()); return (n = Xc(r.dom(), t, e.selection.getRng()).bind(function (e) { return ol(r, t, e.from().block(), e.to().block()) })).each(function (t) { e.selection.setRng(t.toRange()) }), n.isSome() }, al = function (e, t) { var n = Fn.fromDom(t), r = y.curry(Rr.eq, e); return gc.ancestor(n, po, r).isSome() }, ul = function (e, t) { var n, r, o = za.prevPosition(e.dom(), wa.fromRangeStart(t)).isNone(), i = za.nextPosition(e.dom(), wa.fromRangeEnd(t)).isNone(); return !(al(n = e, (r = t).startContainer) || al(n, r.endContainer)) && o && i }, sl = function (e) { var t, n, r, o, i = Fn.fromDom(e.getBody()), a = e.selection.getRng(); return ul(i, a) ? ((o = e).setContent(""), o.selection.setCursorLocation(), !0) : (t = i, n = e.selection, r = n.getRng(), Wa([Rc(t, Fn.fromDom(r.startContainer)), Rc(t, Fn.fromDom(r.endContainer))], function (e, o) { return !1 === Rr.eq(e, o) && (r.deleteContents(), ol(t, !0, e, o).each(function (e) { n.setRng(e.toRange()) }), !0) }).getOr(!1)) }, cl = function (e, t) { return !e.selection.isCollapsed() && sl(e) }, ll = function (e) { if (!Jn.isArray(e)) throw new Error("cases must be an array"); if (0 === e.length) throw new Error("there must be at least one case"); var t = [], n = {}; return M.each(e, function (r, o) { var i = rr.keys(r); if (1 !== i.length) throw new Error("one and only one name per case"); var a = i[0], u = r[a]; if (n[a] !== undefined) throw new Error("duplicate key detected:" + a); if ("cata" === a) throw new Error("cannot have a case named cata (sorry)"); if (!Jn.isArray(u)) throw new Error("case arguments must be an array"); t.push(a), n[a] = function () { var n = arguments.length; if (n !== u.length) throw new Error("Wrong number of arguments to case " + a + ". Expected " + u.length + " (" + u + "), got " + n); for (var r = new Array(n), i = 0; i < r.length; i++)r[i] = arguments[i]; return { fold: function () { if (arguments.length !== e.length) throw new Error("Wrong number of arguments to fold. Expected " + e.length + ", got " + arguments.length); return arguments[o].apply(null, r) }, match: function (e) { var n = rr.keys(e); if (t.length !== n.length) throw new Error("Wrong number of arguments to match. Expected: " + t.join(",") + "\nActual: " + n.join(",")); if (!M.forall(t, function (e) { return M.contains(n, e) })) throw new Error("Not all branches were specified when using match. Specified: " + n.join(", ") + "\nRequired: " + t.join(", ")); return e[a].apply(null, r) }, log: function (e) { console.log(e, { constructors: t, constructor: a, params: r }) } } } }), n }, fl = ll([{ remove: ["element"] }, { moveToElement: ["element"] }, { moveToPosition: ["position"] }]), dl = function (e, t, n, r) { var o = r.getNode(!1 === t); return Rc(Fn.fromDom(e), Fn.fromDom(n.getNode())).map(function (e) { return Hc(e) ? fl.remove(e.dom()) : fl.moveToElement(o) }).orThunk(function () { return E.some(fl.moveToElement(o)) }) }, ml = function (e, t, n) { return za.fromPosition(t, e, n).bind(function (r) { return c = r.getNode(), po(Fn.fromDom(c)) || lo(Fn.fromDom(c)) ? E.none() : (o = e, u = r, s = function (e) { return ao(Fn.fromDom(e)) && !Pu(a, u, o) }, Hu(!(i = t), a = n).fold(function () { return Hu(i, u).fold(y.constant(!1), s) }, s) ? E.none() : t && So.isContentEditableFalse(r.getNode()) ? dl(e, t, n, r) : !1 === t && So.isContentEditableFalse(r.getNode(!0)) ? dl(e, t, n, r) : t && Wu(n) ? E.some(fl.moveToPosition(r)) : !1 === t && $u(n) ? E.some(fl.moveToPosition(r)) : E.none()); var o, i, a, u, s, c }) }, pl = function (e, t, n) { return i = t, a = n.getNode(!1 === i), u = i ? "after" : "before", So.isElement(a) && a.getAttribute("data-mce-caret") === u ? (r = t, o = n.getNode(!1 === t), r && So.isContentEditableFalse(o.nextSibling) ? E.some(fl.moveToElement(o.nextSibling)) : !1 === r && So.isContentEditableFalse(o.previousSibling) ? E.some(fl.moveToElement(o.previousSibling)) : E.none()).fold(function () { return ml(e, t, n) }, E.some) : ml(e, t, n).bind(function (t) { return r = e, o = n, t.fold(function (e) { return E.some(fl.remove(e)) }, function (e) { return E.some(fl.moveToElement(e)) }, function (e) { return Pu(o, e, r) ? E.none() : E.some(fl.moveToPosition(e)) }); var r, o }); var r, o, i, a, u }, gl = function (e, t) { return r = e, o = (n = t).container(), i = n.offset(), !1 === wa.isTextPosition(n) && o === r.parentNode && i > wa.before(r).offset() ? wa(t.container(), t.offset() - 1) : t; var n, r, o, i }, hl = function (e) { return Ui(e.previousSibling) ? E.some((t = e.previousSibling, So.isText(t) ? wa(t, t.data.length) : wa.after(t))) : e.previousSibling ? za.lastPositionIn(e.previousSibling) : E.none(); var t }, vl = function (e) { return Ui(e.nextSibling) ? E.some((t = e.nextSibling, So.isText(t) ? wa(t, 0) : wa.before(t))) : e.nextSibling ? za.firstPositionIn(e.nextSibling) : E.none(); var t }, yl = function (e, t) { return hl(t).orThunk(function () { return vl(t) }).orThunk(function () { return n = e, r = t, o = wa.before(r.previousSibling ? r.previousSibling : r.parentNode), za.prevPosition(n, o).fold(function () { return za.nextPosition(n, wa.after(r)) }, E.some); var n, r, o }) }, bl = function (e, t) { return vl(t).orThunk(function () { return hl(t) }).orThunk(function () { return n = e, r = t, za.nextPosition(n, wa.after(r)).fold(function () { return za.prevPosition(n, wa.before(r)) }, E.some); var n, r }) }, Cl = function (e, t, n) { return (r = e, o = t, i = n, r ? bl(o, i) : yl(o, i)).map(y.curry(gl, n)); var r, o, i }, xl = function (e, t, n) { n.fold(function () { e.focus() }, function (n) { e.selection.setRng(n.toRange(), t) }) }, wl = function (e, t) { return t && e.schema.getBlockElements().hasOwnProperty(Yn.name(t)) }, Nl = function (e) { if (Hc(e)) { var t = Fn.fromHtml('<br data-mce-bogus="1">'); return Js.empty(e), Ks.append(e, t), E.some(wa.before(t.dom())) } return E.none() }, El = function (e, t, n) { var r, o, i, a = Cl(t, e.getBody(), n.dom()), u = gc.ancestor(n, y.curry(wl, e), (r = e.getBody(), function (e) { return e.dom() === r })), s = (o = n, i = a, Wa([Fr.prevSibling(o), Fr.nextSibling(o), i], function (e, t, n) { var r, i = e.dom(), a = t.dom(); return So.isText(i) && So.isText(a) ? (r = i.data.length, i.appendData(a.data), Js.remove(t), Js.remove(o), n.container() === a ? wa(i, r) : n) : (Js.remove(o), n) }).orThunk(function () { return Js.remove(o), i })); e.dom.isEmpty(e.getBody()) ? (e.setContent(""), e.selection.setCursorLocation()) : u.bind(Nl).fold(function () { xl(e, t, s) }, function (n) { xl(e, t, E.some(n)) }) }, Sl = function (e, t) { var n, r, o, i, a; return (n = e.getBody(), r = t, o = e.selection.getRng(), i = Uu(r ? 1 : -1, n, o), a = wa.fromRangeStart(i), !1 === r && Wu(a) ? E.some(fl.remove(a.getNode(!0))) : r && $u(a) ? E.some(fl.remove(a.getNode())) : pl(n, r, a)).map(function (n) { return n.fold((a = e, u = t, function (e) { return a._selectionOverrides.hideFakeCaret(), El(a, u, Fn.fromDom(e)), !0 }), (o = e, i = t, function (e) { var t = i ? wa.before(e) : wa.after(e); return o.selection.setRng(t.toRange()), !0 }), (r = e, function (e) { return r.selection.setRng(e.toRange()), !0 })); var r, o, i, a, u }).getOr(!1) }, kl = function (e, t) { var n, r = e.selection.getNode(); return !!So.isContentEditableFalse(r) && (n = Fn.fromDom(e.getBody()), M.each(ou(n, ".mce-offscreen-selection"), Js.remove), El(e, t, Fn.fromDom(e.selection.getNode())), Bc(e), !0) }, Tl = function (e, t) { return e.selection.isCollapsed() ? Sl(e, t) : kl(e, t) }, Al = function (e) { var t, n = function (e, t) { for (; t && t !== e;) { if (So.isContentEditableTrue(t) || So.isContentEditableFalse(t)) return t; t = t.parentNode } return null }(e.getBody(), e.selection.getNode()); return So.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", { "data-mce-bogus": "1" }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(wa.before(t).toRange())), !0 }, _l = So.isText, Rl = function (e) { return _l(e) && e.data[0] === yi }, Bl = function (e) { return _l(e) && e.data[e.data.length - 1] === yi }, Dl = function (e) { return e.ownerDocument.createTextNode(yi) }, Ol = function (e, t) { return e ? function (e) { if (_l(e.previousSibling)) return Bl(e.previousSibling) ? e.previousSibling : (e.previousSibling.appendData(yi), e.previousSibling); if (_l(e)) return Rl(e) ? e : (e.insertData(0, yi), e); var t = Dl(e); return e.parentNode.insertBefore(t, e), t }(t) : function (e) { if (_l(e.nextSibling)) return Rl(e.nextSibling) ? e.nextSibling : (e.nextSibling.insertData(0, yi), e.nextSibling); if (_l(e)) return Bl(e) ? e : (e.appendData(yi), e); var t = Dl(e); return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t }(t) }, Pl = y.curry(Ol, !0), Ll = y.curry(Ol, !1), Il = function (e, t) { return So.isText(e.container()) ? Ol(t, e.container()) : Ol(t, e.getNode()) }, Ml = function (e, t) { var n = t.get(); return n && e.container() === n && Ni(n) }, Fl = function (e, t) { return t.fold(function (t) { Da.remove(e.get()); var n = Pl(t); return e.set(n), E.some(wa(n, n.length - 1)) }, function (t) { return za.firstPositionIn(t).map(function (t) { if (Ml(t, e)) return wa(e.get(), 1); Da.remove(e.get()); var n = Il(t, !0); return e.set(n), wa(n, 1) }) }, function (t) { return za.lastPositionIn(t).map(function (t) { if (Ml(t, e)) return wa(e.get(), e.get().length - 1); Da.remove(e.get()); var n = Il(t, !1); return e.set(n), wa(n, n.length - 1) }) }, function (t) { Da.remove(e.get()); var n = Ll(t); return e.set(n), E.some(wa(n, 1)) }) }, zl = function (e) { return e && /^(IMG)$/.test(e.nodeName) }, Ul = function (e) { return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue) }, ql = function (e, t, n) { return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t }, Vl = { isInlineBlock: zl, moveStart: function (e, t, n) { var r, o, i, a = n.startContainer, u = n.startOffset; if ((n.startContainer !== n.endContainer || !zl(n.startContainer.childNodes[n.startOffset])) && (3 === a.nodeType && u >= a.nodeValue.length && (u = e.nodeIndex(a), a = a.parentNode), 1 === a.nodeType)) for (u < (i = a.childNodes).length ? r = new Zr(a = i[u], e.getParent(a, e.isBlock)) : (r = new Zr(a = i[i.length - 1], e.getParent(a, e.isBlock))).next(!0), o = r.current(); o; o = r.next())if (3 === o.nodeType && !Ul(o)) return n.setStart(o, 0), void t.setRng(n) }, getNonWhiteSpaceSibling: function (e, t, n) { if (e) for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t])if (1 === e.nodeType || !Ul(e)) return e }, isTextBlock: function (e, t) { return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()] }, isValid: function (e, t, n) { return e.schema.isValidChild(t, n) }, isWhiteSpaceNode: Ul, replaceVars: function (e, t) { return "string" != typeof e ? e = e(t) : t && (e = e.replace(/%(\w+)/g, function (e, n) { return t[n] || e })), e }, isEq: function (e, t) { return t = t || "", e = "" + ((e = e || "").nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() === t.toLowerCase() }, normalizeStyleValue: ql, getStyle: function (e, t, n) { return ql(e, e.getStyle(t, n), n) }, getTextDecoration: function (e, t) { var n; return e.getParent(t, function (t) { return (n = e.getStyle(t, "text-decoration")) && "none" !== n }), n }, getParents: function (e, t, n) { return e.getParents(t, n, e.getRoot()) } }, Hl = Vs.isBookmarkNode, jl = Vl.getParents, $l = Vl.isWhiteSpaceNode, Wl = Vl.isTextBlock, Kl = function (e, t) { for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();)(e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length); return { node: e, offset: t } }, Xl = function (e, t) { for (var n = t; n;) { if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t; n = n.parentNode } return t }, Yl = function (e, t, n, r) { var o, i, a = n.nodeValue; return void 0 === r && (r = e ? a.length : 0), e ? -1 === (o = (o = a.lastIndexOf(" ", r)) > (i = a.lastIndexOf("\xa0", r)) ? o : i) || t || o++ : (o = a.indexOf(" ", r), i = a.indexOf("\xa0", r), o = -1 !== o && (-1 === i || o < i) ? o : i), o }, Gl = function (e, t, n, r, o, i) { var a, u, s, c; if (3 === n.nodeType) { if (-1 !== (s = Yl(o, i, n, r))) return { container: n, offset: s }; c = n } for (a = new Zr(n, e.getParent(n, e.isBlock) || t); u = a[o ? "prev" : "next"]();)if (3 === u.nodeType) { if (c = u, -1 !== (s = Yl(o, i, u))) return { container: u, offset: s } } else if (e.isBlock(u)) break; if (c) return { container: c, offset: r = o ? 0 : c.length } }, Jl = function (e, t, n, r, o) { var i, a, u, s; for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = jl(e, r), a = 0; a < i.length; a++)for (u = 0; u < t.length; u++)if (!("collapsed" in (s = t[u]) && s.collapsed !== n.collapsed) && e.is(i[a], s.selector)) return i[a]; return r }, Ql = function (e, t, n, r) { var o, i = e.dom, a = i.getRoot(); if (t[0].wrapper || (o = i.getParent(n, t[0].block, a)), !o) { var u = i.getParent(n, "LI,TD,TH"); o = i.getParent(3 === n.nodeType ? n.parentNode : n, function (t) { return t !== a && Wl(e, t) }, u) } if (o && t[0].wrapper && (o = jl(i, o, "ul,ol").reverse()[0] || o), !o) for (o = n; o[r] && !i.isBlock(o[r]) && (o = o[r], !Vl.isEq(o, "br"));); return o || n }, Zl = function (e, t, n, r, o, i, a) { var u, s, c, l, f, d; if (u = s = a ? n : o, l = a ? "previousSibling" : "nextSibling", f = e.getRoot(), 3 === u.nodeType && !$l(u) && (a ? r > 0 : i < u.nodeValue.length)) return u; for (; ;) { if (!t[0].block_expand && e.isBlock(s)) return s; for (c = s[l]; c; c = c[l])if (!Hl(c) && !$l(c) && ("BR" !== (d = c).nodeName || !d.getAttribute("data-mce-bogus") || d.nextSibling)) return s; if (s === f || s.parentNode === f) { u = s; break } s = s.parentNode } return u }, ef = function (e, t, n, r) { var o, i = t.startContainer, a = t.startOffset, u = t.endContainer, s = t.endOffset, c = e.dom; return 1 === i.nodeType && i.hasChildNodes() && 3 === (i = Yi(i, a)).nodeType && (a = 0), 1 === u.nodeType && u.hasChildNodes() && 3 === (u = Yi(u, t.collapsed ? s : s - 1)).nodeType && (s = u.nodeValue.length), i = Xl(c, i), u = Xl(c, u), (Hl(i.parentNode) || Hl(i)) && 3 === (i = (i = Hl(i) ? i : i.parentNode).nextSibling || i).nodeType && (a = 0), (Hl(u.parentNode) || Hl(u)) && 3 === (u = (u = Hl(u) ? u : u.parentNode).previousSibling || u).nodeType && (s = u.length), n[0].inline && (t.collapsed && ((o = Gl(c, e.getBody(), i, a, !0, r)) && (i = o.container, a = o.offset), (o = Gl(c, e.getBody(), u, s, !1, r)) && (u = o.container, s = o.offset)), u = r ? u : function (e, t) { var n = Kl(e, t); if (n.node) { for (; n.node && 0 === n.offset && n.node.previousSibling;)n = Kl(n.node.previousSibling); n.node && n.offset > 0 && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && n.offset > 1 && (e = n.node).splitText(n.offset - 1) } return e }(u, s)), (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === i.nodeType && 0 !== a || (i = Zl(c, n, i, a, u, s, !0)), n[0].inline && 3 === u.nodeType && s !== u.nodeValue.length || (u = Zl(c, n, i, a, u, s, !1))), n[0].selector && !1 !== n[0].expand && !n[0].inline && (i = Jl(c, n, t, i, "previousSibling"), u = Jl(c, n, t, u, "nextSibling")), (n[0].block || n[0].selector) && (i = Ql(e, n, i, "previousSibling"), u = Ql(e, n, u, "nextSibling"), n[0].block && (c.isBlock(i) || (i = Zl(c, n, i, a, u, s, !0)), c.isBlock(u) || (u = Zl(c, n, i, a, u, s, !1)))), 1 === i.nodeType && (a = c.nodeIndex(i), i = i.parentNode), 1 === u.nodeType && (s = c.nodeIndex(u) + 1, u = u.parentNode), { startContainer: i, startOffset: a, endContainer: u, endOffset: s } }, tf = Vl.isEq, nf = function (e, t, n) { var r = e.formatter.get(n); if (r) for (var o = 0; o < r.length; o++)if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return !0; return !1 }, rf = function (e, t, n, r) { var o = e.dom.getRoot(); return t !== o && (t = e.dom.getParent(t, function (t) { return !!nf(e, t, n) || t.parentNode === o || !!uf(e, t, n, r, !0) }), uf(e, t, n, r)) }, of = function (e, t, n) { return !!tf(t, n.inline) || !!tf(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0) }, af = function (e, t, n, r, o, i) { var a, u, s, c = n[r]; if (n.onmatch) return n.onmatch(t, n, r); if (c) if ("undefined" == typeof c.length) { for (a in c) if (c.hasOwnProperty(a)) { if (u = "attributes" === r ? e.getAttrib(t, a) : Vl.getStyle(e, t, a), o && !u && !n.exact) return; if ((!o || n.exact) && !tf(u, Vl.normalizeStyleValue(e, Vl.replaceVars(c[a], i), a))) return } } else for (s = 0; s < c.length; s++)if ("attributes" === r ? e.getAttrib(t, c[s]) : Vl.getStyle(e, t, c[s])) return n; return n }, uf = function (e, t, n, r, o) { var i, a, u, s, c = e.formatter.get(n), l = e.dom; if (c && t) for (a = 0; a < c.length; a++)if (i = c[a], of(e.dom, t, i) && af(l, t, i, "attributes", o, r) && af(l, t, i, "styles", o, r)) { if (s = i.classes) for (u = 0; u < s.length; u++)if (!e.dom.hasClass(t, s[u])) return; return i } }, sf = { matchNode: uf, matchName: of, match: function (e, t, n, r) { var o; return r ? rf(e, r, t, n) : (r = e.selection.getNode(), !!rf(e, r, t, n) || !((o = e.selection.getStart()) === r || !rf(e, o, t, n))) }, matchAll: function (e, t, n) { var r, o = [], i = {}; return r = e.selection.getStart(), e.dom.getParent(r, function (r) { var a, u; for (a = 0; a < t.length; a++)u = t[a], !i[u] && uf(e, r, u, n) && (i[u] = !0, o.push(u)) }, e.dom.getRoot()), o }, canApply: function (e, t) { var n, r, o, i, a, u = e.formatter.get(t), s = e.dom; if (u) for (n = e.selection.getStart(), r = Vl.getParents(s, n), i = u.length - 1; i >= 0; i--) { if (!(a = u[i].selector) || u[i].defaultBlock) return !0; for (o = r.length - 1; o >= 0; o--)if (s.is(r[o], a)) return !0 } return !1 }, matchesUnInheritedFormatSelector: nf }, cf = function (e, t) { return e.splitText(t) }, lf = { split: function (e) { var t = e.startContainer, n = e.startOffset, r = e.endContainer, o = e.endOffset; return t === r && So.isText(t) ? n > 0 && n < t.nodeValue.length && (t = (r = cf(t, n)).previousSibling, o > n ? (t = r = cf(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (So.isText(t) && n > 0 && n < t.nodeValue.length && (t = cf(t, n), n = 0), So.isText(r) && o > 0 && o < r.nodeValue.length && (o = (r = cf(r, o).previousSibling).nodeValue.length)), { startContainer: t, startOffset: n, endContainer: r, endOffset: o } } }, ff = yi, df = "_mce_caret", mf = function (e) { return 1 === e.nodeType && e.id === df }, pf = function (e) { return function (e) { for (var t = []; e;) { if (3 === e.nodeType && e.nodeValue !== ff || e.childNodes.length > 1) return []; 1 === e.nodeType && t.push(e), e = e.firstChild } return t }(e).length > 0 }, gf = function (e) { var t; if (e) for (e = (t = new Zr(e, e)).current(); e; e = t.next())if (3 === e.nodeType) return e; return null }, hf = function (e) { var t = Fn.fromTag("span"); return sr.setAll(t, { id: df, "data-mce-bogus": "1", "data-mce-type": "format-caret" }), e && Ks.append(t, Fn.fromText(ff)), t }, vf = function (e, t) { for (; t && t !== e;) { if (t.id === df) return t; t = t.parentNode } return null }, yf = function (e, t, n, r) { var o, i, a, u; o = t.getRng(!0), i = e.getParent(n, e.isBlock), pf(n) ? (!1 !== r && (o.setStartBefore(n), o.setEndBefore(n)), e.remove(n)) : ((u = gf(n)) && u.nodeValue.charAt(0) === ff && u.deleteData(0, 1), a = u, o.startContainer === a && o.startOffset > 0 && o.setStart(a, o.startOffset - 1), o.endContainer === a && o.endOffset > 0 && o.setEnd(a, o.endOffset - 1), e.remove(n, !0)), i && e.isEmpty(i) && tc(Fn.fromDom(i)), t.setRng(o) }, bf = function (e, t, n, r, o) { if (r) yf(t, n, r, o); else if (!(r = vf(e, n.getStart()))) for (; r = t.get(df);)yf(t, n, r, !1) }, Cf = function (e, t, n) { var r = e.dom, o = r.getParent(n, ea.curry(Vl.isTextBlock, e)); o && r.isEmpty(o) ? n.parentNode.replaceChild(t, n) : (ec(Fn.fromDom(n)), r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n)) }, xf = function (e, t) { return e.appendChild(t), t }, wf = function (e, t) { var n = M.foldr(e, function (e, t) { return xf(e, t.cloneNode(!1)) }, t); return xf(n, n.ownerDocument.createTextNode(ff)) }, Nf = { setup: function (e) { var t = e.dom, n = e.selection, r = e.getBody(); e.on("mouseup keydown", function (e) { var o, i, a, u; o = r, i = t, a = n, u = e.keyCode, bf(o, i, a, null, !1), 8 === u && a.isCollapsed() && a.getStart().innerHTML === ff && bf(o, i, a, vf(o, a.getStart())), 37 !== u && 39 !== u || bf(o, i, a, vf(o, a.getStart())) }) }, applyCaretFormat: function (e, t, n) { var r, o, i, a, u, s, c = e.selection; a = (r = c.getRng(!0)).startOffset, s = r.startContainer.nodeValue, (o = vf(e.getBody(), c.getStart())) && (i = gf(o)); var l, f, d = /[^\s\u00a0\u00ad\u200b\ufeff]/; s && a > 0 && a < s.length && d.test(s.charAt(a)) && d.test(s.charAt(a - 1)) ? (u = c.getBookmark(), r.collapse(!0), r = ef(e, r, e.formatter.get(t)), r = lf.split(r), e.formatter.apply(t, n, r), c.moveToBookmark(u)) : (o && i.nodeValue === ff ? e.formatter.apply(t, n, o) : (l = e.getDoc(), f = hf(!0).dom(), i = (o = l.importNode(f, !0)).firstChild, r.insertNode(o), a = 1, e.formatter.apply(t, n, o)), c.setCursorLocation(i, a)) }, removeCaretFormat: function (e, t, n, r) { var o, i, a, u, s, c, l, f = e.dom, d = e.selection, m = [], p = d.getRng(); for (o = p.startContainer, i = p.startOffset, s = o, 3 === o.nodeType && (i !== o.nodeValue.length && (u = !0), s = s.parentNode); s;) { if (sf.matchNode(e, s, t, n, r)) { c = s; break } s.nextSibling && (u = !0), m.push(s), s = s.parentNode } if (c) if (u) { a = d.getBookmark(), p.collapse(!0); var g = ef(e, p, e.formatter.get(t), !0); g = lf.split(g), e.formatter.remove(t, n, g), d.moveToBookmark(a) } else { l = vf(e.getBody(), c); var h = hf(!1).dom(), v = wf(m, h); Cf(e, h, l || c), yf(f, d, l, !1), d.setCursorLocation(v, 1), f.isEmpty(c) && f.remove(c) } }, isCaretNode: mf, getParentCaretContainer: vf, replaceWithCaretFormat: function (e, t) { var n = hf(!1), r = wf(t, n.dom()); return Ks.before(Fn.fromDom(e), n), Js.remove(Fn.fromDom(e)), wa(r, 0) }, isFormatElement: function (e, t) { return e.schema.getTextInlineElements().hasOwnProperty(Yn.name(t)) && !mf(t.dom()) && !So.isBogus(t.dom()) } }, Ef = function (e, t) { for (var n = 0; n < e.length; n++) { var r = e[n].apply(null, t); if (r.isSome()) return r } return E.none() }, Sf = ll([{ before: ["element"] }, { start: ["element"] }, { end: ["element"] }, { after: ["element"] }]), kf = function (e, t) { var n = Ou(t, e); return n || e }, Tf = function (e, t, n) { var r = _c.normalizeForwards(n), o = kf(t, r.container()); return _c.findRootInline(e, o, r).fold(function () { return za.nextPosition(o, r).bind(y.curry(_c.findRootInline, e, o)).map(function (e) { return Sf.before(e) }) }, E.none) }, Af = function (e, t) { return null === Nf.getParentCaretContainer(e, t) }, _f = function (e, t, n) { return _c.findRootInline(e, t, n).filter(y.curry(Af, t)) }, Rf = function (e, t, n) { var r = _c.normalizeBackwards(n); return _f(e, t, r).bind(function (e) { return za.prevPosition(e, r).isNone() ? E.some(Sf.start(e)) : E.none() }) }, Bf = function (e, t, n) { var r = _c.normalizeForwards(n); return _f(e, t, r).bind(function (e) { return za.nextPosition(e, r).isNone() ? E.some(Sf.end(e)) : E.none() }) }, Df = function (e, t, n) { var r = _c.normalizeBackwards(n), o = kf(t, r.container()); return _c.findRootInline(e, o, r).fold(function () { return za.prevPosition(o, r).bind(y.curry(_c.findRootInline, e, o)).map(function (e) { return Sf.after(e) }) }, E.none) }, Of = function (e) { return !1 === _c.isRtl(Lf(e)) }, Pf = function (e, t, n) { return Ef([Tf, Rf, Bf, Df], [e, t, n]).filter(Of) }, Lf = function (e) { return e.fold(y.identity, y.identity, y.identity, y.identity) }, If = function (e) { return e.fold(y.constant("before"), y.constant("start"), y.constant("end"), y.constant("after")) }, Mf = function (e) { return e.fold(Sf.before, Sf.before, Sf.after, Sf.after) }, Ff = function (e, t, n, r, o, i) { return Wa([_c.findRootInline(t, n, r), _c.findRootInline(t, n, o)], function (t, r) { return t !== r && _c.hasSameParentBlock(n, t, r) ? Sf.after(e ? t : r) : i }).getOr(i) }, zf = function (e, t) { return e.fold(y.constant(!0), function (e) { return r = t, !(If(n = e) === If(r) && Lf(n) === Lf(r)); var n, r }) }, Uf = function (e, t) { return e ? t.fold(y.compose(E.some, Sf.start), E.none, y.compose(E.some, Sf.after), E.none) : t.fold(E.none, y.compose(E.some, Sf.before), E.none, y.compose(E.some, Sf.end)) }, qf = function (e, t, n, r) { var o = _c.normalizePosition(e, r), i = Pf(t, n, o); return Pf(t, n, o).bind(y.curry(Uf, e)).orThunk(function () { return o = e, a = t, u = n, s = i, c = r, l = _c.normalizePosition(o, c), za.fromPosition(o, u, l).map(y.curry(_c.normalizePosition, o)).fold(function () { return s.map(Mf) }, function (e) { return Pf(a, u, e).map(y.curry(Ff, o, a, u, l, e)).filter(y.curry(zf, s)) }).filter(Of); var o, a, u, s, c, l }) }, Vf = Pf, Hf = qf, jf = (y.curry(qf, !1), y.curry(qf, !0), Mf), $f = function (e) { return e.fold(Sf.start, Sf.start, Sf.end, Sf.end) }, Wf = function (e) { var t = e, n = function () { return t }; return { get: n, set: function (e) { t = e }, clone: function () { return Wf(n()) } } }, Kf = function (e) { return Jn.isFunction(e.selection.getSel().modify) }, Xf = function (e, t, n) { var r = e ? 1 : -1; return t.setRng(wa(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0 }, Yf = function (e, t) { var n = t.selection.getRng(), r = e ? wa.fromRangeEnd(n) : wa.fromRangeStart(n); return !!Kf(t) && (e && ki(r) ? Xf(!0, t.selection, r) : !(e || !Ti(r)) && Xf(!1, t.selection, r)) }, Gf = function (e, t) { var n = e.dom.createRng(); n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n) }, Jf = function (e) { return !1 !== e.settings.inline_boundaries }, Qf = function (e, t) { e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected") }, Zf = function (e, t, n) { return Fl(t, n).map(function (t) { return Gf(e, t), n }) }, ed = function (e, t, n) { return function () { return !!Jf(t) && Yf(e, t) } }, td = { move: function (e, t, n) { return function () { return !!Jf(e) && (r = e, o = t, i = n, a = r.getBody(), u = wa.fromRangeStart(r.selection.getRng()), s = y.curry(_c.isInlineTarget, r), Hf(i, s, a, u).bind(function (e) { return Zf(r, o, e) })).isSome(); var r, o, i, a, u, s } }, moveNextWord: y.curry(ed, !0), movePrevWord: y.curry(ed, !1), setupSelectedState: function (e) { var t = Wf(null), n = y.curry(_c.isInlineTarget, e); return e.on("NodeChange", function (r) { var o, i, a, u, s; Jf(e) && (o = n, i = e.dom, a = r.parents, u = M.filter(i.select('*[data-mce-selected="inline-boundary"]'), o), s = M.filter(a, o), M.each(M.difference(u, s), y.curry(Qf, !1)), M.each(M.difference(s, u), y.curry(Qf, !0)), function (e, t) { if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) { var n = wa.fromRangeStart(e.selection.getRng()); wa.isTextPosition(n) && !1 === _c.isAtZwsp(n) && (Gf(e, Da.removeAndReposition(t.get(), n)), t.set(null)) } }(e, t), function (e, t, n, r) { if (t.selection.isCollapsed()) { var o = M.filter(r, e); M.each(o, function (r) { var o = wa.fromRangeStart(t.selection.getRng()); Vf(e, t.getBody(), o).bind(function (e) { return Zf(t, n, e) }) }) } }(n, e, t, r.parents)) }), t }, setCaretPosition: Gf }, nd = function (e, t) { return function (n) { return Fl(t, n).map(function (t) { return td.setCaretPosition(e, t), !0 }).getOr(!1) } }, rd = function (e, t, n, r) { var o = e.getBody(), i = y.curry(_c.isInlineTarget, e); e.undoManager.ignore(function () { var a, u, s; e.selection.setRng((a = n, u = r, (s = document.createRange()).setStart(a.container(), a.offset()), s.setEnd(u.container(), u.offset()), s)), e.execCommand("Delete"), Vf(i, o, wa.fromRangeStart(e.selection.getRng())).map($f).map(nd(e, t)) }), e.nodeChanged() }, od = function (e, t, n, r) { var o, i, a = (o = e.getBody(), i = r.container(), Ou(i, o) || o), u = y.curry(_c.isInlineTarget, e), s = Vf(u, a, r); return s.bind(function (e) { return n ? e.fold(y.constant(E.some($f(e))), E.none, y.constant(E.some(jf(e))), E.none) : e.fold(E.none, y.constant(E.some(jf(e))), E.none, y.constant(E.some($f(e)))) }).map(nd(e, t)).getOrThunk(function () { var o = za.navigate(n, a, r), i = o.bind(function (e) { return Vf(u, a, e) }); return s.isSome() && i.isSome() ? _c.findRootInline(u, a, r).map(function (t) { return r = t, !!Wa([za.firstPositionIn(r), za.lastPositionIn(r)], function (e, t) { var n = _c.normalizePosition(!0, e), o = _c.normalizePosition(!1, t); return za.nextPosition(r, n).map(function (e) { return e.isEqual(o) }).getOr(!0) }).getOr(!0) && (El(e, n, Fn.fromDom(t)), !0); var r }).getOr(!1) : i.bind(function (i) { return o.map(function (o) { return n ? rd(e, t, r, o) : rd(e, t, o, r), !0 }) }).getOr(!1) }) }, id = function (e, t, n) { if (e.selection.isCollapsed() && !1 !== e.settings.inline_boundaries) { var r = wa.fromRangeStart(e.selection.getRng()); return od(e, t, n, r) } return !1 }, ad = br.immutable("start", "end"), ud = br.immutable("rng", "table", "cells"), sd = ll([{ removeTable: ["element"] }, { emptyCells: ["cells"] }]), cd = function (e, t) { return Ic(Fn.fromDom(e), "td,th", t) }, ld = function (e, t) { return Pc(e, "table", t) }, fd = function (e) { return !1 === Rr.eq(e.start(), e.end()) }, dd = function (e, t) { return ld(e.start(), t).bind(function (n) { return ld(e.end(), t).bind(function (e) { return Rr.eq(n, e) ? E.some(n) : E.none() }) }) }, md = function (e) { return ou(e, "td,th") }, pd = function (e, t) { var n = cd(t.startContainer, e), r = cd(t.endContainer, e); return t.collapsed ? E.none() : Wa([n, r], ad).fold(function () { return n.fold(function () { return r.bind(function (t) { return ld(t, e).bind(function (e) { return M.head(md(e)).map(function (e) { return ad(e, t) }) }) }) }, function (t) { return ld(t, e).bind(function (e) { return M.last(md(e)).map(function (e) { return ad(t, e) }) }) }) }, function (t) { return gd(e, t) ? E.none() : (r = e, ld((n = t).start(), r).bind(function (e) { return M.last(md(e)).map(function (e) { return ad(n.start(), e) }) })); var n, r }) }, gd = function (e, t) { return dd(t, e).isSome() }, hd = function (e, t) { var n, r, o, i, a, u = (n = e, y.curry(Rr.eq, n)); return (r = t, o = u, i = cd(r.startContainer, o), a = cd(r.endContainer, o), Wa([i, a], ad).filter(fd).filter(function (e) { return gd(o, e) }).orThunk(function () { return pd(o, r) })).bind(function (e) { return dd(t = e, u).map(function (e) { return ud(t, e, md(e)) }); var t }) }, vd = function (e, t) { return M.findIndex(e, function (e) { return Rr.eq(e, t) }) }, yd = function (e) { return (t = e, Wa([vd(t.cells(), t.rng().start()), vd(t.cells(), t.rng().end())], function (e, n) { return t.cells().slice(e, n + 1) })).map(function (t) { var n = e.cells(); return t.length === n.length ? sd.removeTable(e.table()) : sd.emptyCells(t) }); var t }, bd = function (e, t) { return hd(e, t).bind(yd) }, Cd = function (e) { var t = []; if (e) for (var n = 0; n < e.rangeCount; n++)t.push(e.getRangeAt(n)); return t }, xd = Cd, wd = function (e) { return M.bind(e, function (e) { var t = Xi(e); return t ? [Fn.fromDom(t)] : [] }) }, Nd = function (e) { return Cd(e).length > 1 }, Ed = function (e) { return M.filter(wd(e), po) }, Sd = function (e) { return ou(e, "td[data-mce-selected],th[data-mce-selected]") }, kd = function (e, t) { var n = Sd(t), r = Ed(e); return n.length > 0 ? n : r }, Td = kd, Ad = function (e) { return kd(xd(e.selection.getSel()), Fn.fromDom(e.getBody())) }, _d = function (e, t) { return M.each(t, tc), e.selection.setCursorLocation(t[0].dom(), 0), !0 }, Rd = function (e, t) { return El(e, !1, t), !0 }, Bd = function (e, t, n, r) { return Od(t, r).fold(function () { return r = e, bd(t, n).map(function (e) { return e.fold(y.curry(Rd, r), y.curry(_d, r)) }); var r }, function (t) { return Pd(e, t) }).getOr(!1) }, Dd = function (e, t) { return M.find(Qc(t, e), po) }, Od = function (e, t) { return M.find(Qc(t, e), function (e) { return "caption" === Yn.name(e) }) }, Pd = function (e, t) { return tc(t), e.selection.setCursorLocation(t.dom(), 0), E.some(!0) }, Ld = function (e, t, n, r, o) { return za.navigate(n, e.getBody(), o).bind(function (i) { return s = r, c = n, l = o, f = i, za.firstPositionIn(s.dom()).bind(function (e) { return za.lastPositionIn(s.dom()).map(function (t) { return c ? l.isEqual(e) && f.isEqual(t) : l.isEqual(t) && f.isEqual(e) }) }).getOr(!0) ? Pd(e, r) : (a = r, u = i, Od(t, Fn.fromDom(u.getNode())).map(function (e) { return !1 === Rr.eq(e, a) })); var a, u, s, c, l, f }).or(E.some(!0)) }, Id = function (e, t, n, r) { var o = wa.fromRangeStart(e.selection.getRng()); return Dd(n, r).bind(function (r) { return Hc(r) ? Pd(e, r) : (i = e, a = n, u = t, s = r, c = o, za.navigate(u, i.getBody(), c).bind(function (e) { return Dd(a, Fn.fromDom(e.getNode())).map(function (e) { return !1 === Rr.eq(e, s) }) })); var i, a, u, s, c }) }, Md = function (e, t, n) { var r = Fn.fromDom(e.getBody()); return Od(r, n).fold(function () { return Id(e, t, r, n) }, function (n) { return o = e, i = t, a = r, u = n, s = wa.fromRangeStart(o.selection.getRng()), Hc(u) ? Pd(o, u) : Ld(o, a, i, u, s); var o, i, a, u, s }).getOr(!1) }, Fd = function (e, t) { var n, r, o, i, a, u = Fn.fromDom(e.selection.getStart(!0)), s = Ad(e); return e.selection.isCollapsed() && 0 === s.length ? Md(e, t, u) : (n = e, r = u, o = Fn.fromDom(n.getBody()), i = n.selection.getRng(), 0 !== (a = Ad(n)).length ? _d(n, a) : Bd(n, o, i, r)) }, zd = function (e, t) { e.getDoc().execCommand(t, !1, null) }, Ud = { deleteCommand: function (e) { Tl(e, !1) || id(e, !1) || il(e, !1) || Fd(e) || cl(e, !1) || (zd(e, "Delete"), Bc(e)) }, forwardDeleteCommand: function (e) { Tl(e, !0) || id(e, !0) || il(e, !0) || Fd(e) || cl(e, !0) || zd(e, "ForwardDelete") } }, qd = { isEq: function (e, t) { return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset } }, Vd = br.immutable("container", "offset"), Hd = function (e, t, n) { return null !== function (e, t, n) { for (; e && e !== t;) { if (n(e)) return e; e = e.parentNode } return null }(e, t, n) }, jd = function (e, t, n) { return Hd(e, t, function (e) { return e.nodeName === n }) }, $d = function (e) { return e && "TABLE" === e.nodeName }, Wd = function (e, t, n) { for (var r = new Zr(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();)if (So.isBr(t)) return !0 }, Kd = function (e, t, n, r, o) { var i, a, u, s, c, l, f = e.getRoot(), d = e.schema.getNonEmptyElements(); if (u = e.getParent(o.parentNode, e.isBlock) || f, r && So.isBr(o) && t && e.isEmpty(u)) return E.some(Vd(o.parentNode, e.nodeIndex(o))); for (i = new Zr(o, u); s = i[r ? "prev" : "next"]();) { if ("false" === e.getContentEditableParent(s) || (l = f, Ei(c = s) && !1 === Hd(c, l, Nf.isCaretNode))) return E.none(); if (So.isText(s) && s.nodeValue.length > 0) return !1 === jd(s, f, "A") ? E.some(Vd(s, r ? s.nodeValue.length : 0)) : E.none(); if (e.isBlock(s) || d[s.nodeName.toLowerCase()]) return E.none(); a = s } return n && a ? E.some(Vd(a, 0)) : E.none() }, Xd = function (e, t, n, r) { var o, i, a, u, s, c, l, f, d, m, p = e.getRoot(), g = !1; if (o = r[(n ? "start" : "end") + "Container"], i = r[(n ? "start" : "end") + "Offset"], l = So.isElement(o) && i === o.childNodes.length, s = e.schema.getNonEmptyElements(), c = n, Ei(o)) return E.none(); if (So.isElement(o) && i > o.childNodes.length - 1 && (c = !1), So.isDocument(o) && (o = p, i = 0), o === p) { if (c && (u = o.childNodes[i > 0 ? i - 1 : 0])) { if (Ei(u)) return E.none(); if (s[u.nodeName] || $d(u)) return E.none() } if (o.hasChildNodes()) { if (i = Math.min(!c && i > 0 ? i - 1 : i, o.childNodes.length - 1), o = o.childNodes[i], i = So.isText(o) && l ? o.data.length : 0, !t && o === p.lastChild && $d(o)) return E.none(); if (function (e, t) { for (; t && t !== e;) { if (So.isContentEditableFalse(t)) return !0; t = t.parentNode } return !1 }(p, o) || Ei(o)) return E.none(); if (o.hasChildNodes() && !1 === $d(o)) { u = o, a = new Zr(o, p); do { if (So.isContentEditableFalse(u) || Ei(u)) { g = !1; break } if (So.isText(u) && u.nodeValue.length > 0) { i = c ? 0 : u.nodeValue.length, o = u, g = !0; break } if (s[u.nodeName.toLowerCase()] && (!(f = u) || !/^(TD|TH|CAPTION)$/.test(f.nodeName))) { i = e.nodeIndex(u), o = u.parentNode, "IMG" !== u.nodeName && "PRE" !== u.nodeName || c || i++, g = !0; break } } while (u = c ? a.next() : a.prev()) } } } return t && (So.isText(o) && 0 === i && Kd(e, l, t, !0, o).each(function (e) { o = e.container(), i = e.offset(), g = !0 }), So.isElement(o) && ((u = o.childNodes[i]) || (u = o.childNodes[i - 1]), !u || !So.isBr(u) || (m = "A", (d = u).previousSibling && d.previousSibling.nodeName === m) || Wd(e, u, !1) || Wd(e, u, !0) || Kd(e, l, t, !0, u).each(function (e) { o = e.container(), i = e.offset(), g = !0 }))), c && !t && So.isText(o) && i === o.nodeValue.length && Kd(e, l, t, !1, o).each(function (e) { o = e.container(), i = e.offset(), g = !0 }), g ? E.some(Vd(o, i)) : E.none() }, Yd = { normalize: function (e, t) { var n = t.collapsed, r = t.cloneRange(); return Xd(e, n, !0, r).each(function (e) { r.setStart(e.container(), e.offset()) }), n || Xd(e, n, !1, r).each(function (e) { r.setEnd(e.container(), e.offset()) }), n && r.collapse(!0), qd.isEq(t, r) ? E.none() : E.some(r) } }, Gd = function (e, t, n) { var r = e.create("span", {}, "&nbsp;"); n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r) }, Jd = function (e, t, n, r) { var o = e.createRng(); r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)), t.setRng(o) }, Qd = function (e, t) { var n, r, o = e.selection, i = e.dom, a = o.getRng(); Yd.normalize(i, a).each(function (e) { a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset) }); var u = a.startOffset, s = a.startContainer; if (1 === s.nodeType && s.hasChildNodes()) { var c = u > s.childNodes.length - 1; s = s.childNodes[Math.min(u, s.childNodes.length - 1)] || s, u = c && 3 === s.nodeType ? s.nodeValue.length : 0 } var l = i.getParent(s, i.isBlock), f = l ? i.getParent(l.parentNode, i.isBlock) : null, d = f ? f.nodeName.toUpperCase() : "", m = t && t.ctrlKey; "LI" !== d || m || (l = f), s && 3 === s.nodeType && u >= s.nodeValue.length && (function (e, t, n) { for (var r, o = new Zr(t, n), i = e.getNonEmptyElements(); r = o.next();)if (i[r.nodeName.toLowerCase()] || r.length > 0) return !0 }(e.schema, s, l) || (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0)), n = i.create("br"), a.insertNode(n), Gd(i, o, n), Jd(i, o, n, r), e.undoManager.add() }, Zd = function (e, t) { var n = Fn.fromTag("br"); Ks.before(Fn.fromDom(t), n), e.undoManager.add() }, em = function (e, t) { tm(e.getBody(), t) || Ks.after(Fn.fromDom(t), Fn.fromTag("br")); var n = Fn.fromTag("br"); Ks.after(Fn.fromDom(t), n), Gd(e.dom, e.selection, n.dom()), Jd(e.dom, e.selection, n.dom(), !1), e.undoManager.add() }, tm = function (e, t) { return n = wa.after(t), !!So.isBr(n.getNode()) || za.nextPosition(e, wa.after(t)).map(function (e) { return So.isBr(e.getNode()) }).getOr(!1); var n }, nm = function (e) { return e && "A" === e.nodeName && "href" in e }, rm = function (e) { return e.fold(y.constant(!1), nm, nm, y.constant(!1)) }, om = function (e, t) { t.fold(y.noop, y.curry(Zd, e), y.curry(em, e), y.noop) }, im = { insert: function (e, t) { var n, r, o, i = (n = e, r = y.curry(_c.isInlineTarget, n), o = wa.fromRangeStart(n.selection.getRng()), Vf(r, n.getBody(), o).filter(rm)); i.isSome() ? i.each(y.curry(om, e)) : Qd(e, t) } }, am = ll([{ before: ["element"] }, { on: ["element", "offset"] }, { after: ["element"] }]), um = (am.before, am.on, am.after, function (e) { return e.fold(y.identity, y.identity, y.identity) }), sm = ll([{ domRange: ["rng"] }, { relative: ["startSitu", "finishSitu"] }, { exact: ["start", "soffset", "finish", "foffset"] }]), cm = br.immutable("start", "soffset", "finish", "foffset"), lm = { domRange: sm.domRange, relative: sm.relative, exact: sm.exact, exactFromRange: function (e) { return sm.exact(e.start(), e.soffset(), e.finish(), e.foffset()) }, range: cm, getWin: function (e) { var t = e.match({ domRange: function (e) { return Fn.fromDom(e.startContainer) }, relative: function (e, t) { return um(e) }, exact: function (e, t, n, r) { return e } }); return Fr.defaultView(t) } }, fm = In.detect().browser, dm = function (e, t) { var n = Yn.isText(t) ? Zs(t).length : Fr.children(t).length + 1; return e > n ? n : e < 0 ? 0 : e }, mm = function (e) { return lm.range(e.start(), dm(e.soffset(), e.start()), e.finish(), dm(e.foffset(), e.finish())) }, pm = function (e, t) { return Rr.contains(e, t) || Rr.eq(e, t) }, gm = function (e) { return function (t) { return pm(e, t.start()) && pm(e, t.finish()) } }, hm = function (e) { return !0 === e.inline || fm.isIE() }, vm = function (e) { return lm.range(Fn.fromDom(e.startContainer), e.startOffset, Fn.fromDom(e.endContainer), e.endOffset) }, ym = function (e) { var t = e.getSelection(); return (t && 0 !== t.rangeCount ? E.from(t.getRangeAt(0)) : E.none()).map(vm) }, bm = function (e) { var t = Fr.defaultView(e); return ym(t.dom()).filter(gm(e)) }, Cm = function (e, t) { return E.from(t).filter(gm(e)).map(mm) }, xm = function (e) { var t = document.createRange(); return t.setStart(e.start().dom(), e.soffset()), t.setEnd(e.finish().dom(), e.foffset()), E.some(t) }, wm = function (e) { return (e.bookmark ? e.bookmark : E.none()).bind(y.curry(Cm, Fn.fromDom(e.getBody()))).bind(xm) }, Nm = { store: function (e) { var t = hm(e) ? bm(Fn.fromDom(e.getBody())) : E.none(); e.bookmark = t.isSome() ? t : e.bookmark }, storeNative: function (e, t) { var n = Fn.fromDom(e.getBody()), r = (hm(e) ? E.from(t) : E.none()).map(vm).filter(gm(n)); e.bookmark = r.isSome() ? r : e.bookmark }, readRange: ym, restore: function (e) { wm(e).each(function (t) { e.selection.setRng(t) }) }, getRng: wm, getBookmark: bm, validate: Cm }, Em = function (e, t) { var n = e.settings, r = e.dom, o = e.selection, i = e.formatter, a = /[a-z%]+$/i.exec(n.indentation)[0], u = parseInt(n.indentation, 10), s = e.getParam("indent_use_margin", !1); e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || (n.forced_root_block || r.getParent(o.getNode(), r.isBlock) || i.apply("div"), M.each(o.getSelectedBlocks(), function (e) { return function (e, t, n, r, o, i) { if ("false" !== e.getContentEditable(i) && "LI" !== i.nodeName) { var a = n ? "margin" : "padding"; if (a = "TABLE" === i.nodeName ? "margin" : a, a += "rtl" === e.getStyle(i, "direction", !0) ? "Right" : "Left", "outdent" === t) { var u = Math.max(0, parseInt(i.style[a] || 0, 10) - r); e.setStyle(i, a, u ? u + o : "") } else u = parseInt(i.style[a] || 0, 10) + r + o, e.setStyle(i, a, u) } }(r, t, s, u, a, e) })) }, Sm = Dt.each, km = Dt.extend, Tm = Dt.map, Am = Dt.inArray, _m = Dt.explode, Rm = !0, Bm = !1; function Dm(e) { var t, n, r, o, i = { state: {}, exec: {}, value: {} }, a = e.settings; e.on("PreInit", function () { t = e.dom, n = e.selection, a = e.settings, r = e.formatter }); var u = function (t) { var n; if (!e.quirks.isHidden() && !e.removed) { if (t = t.toLowerCase(), n = i.state[t]) return n(t); try { return e.getDoc().queryCommandState(t) } catch (r) { } return !1 } }, s = function (e, t) { t = t || "exec", Sm(e, function (e, n) { Sm(n.toLowerCase().split(","), function (n) { i[t][n] = e }) }) }; km(this, { execCommand: function (t, n, r, o) { var a, u, s = !1; if (!e.removed) { if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || o && o.skip_focus ? Nm.restore(e) : e.focus(), (o = e.fire("BeforeExecCommand", { command: t, ui: n, value: r })).isDefaultPrevented()) return !1; if (u = t.toLowerCase(), a = i.exec[u]) return a(u, n, r), e.fire("ExecCommand", { command: t, ui: n, value: r }), !0; if (Sm(e.plugins, function (o) { if (o.execCommand && o.execCommand(t, n, r)) return e.fire("ExecCommand", { command: t, ui: n, value: r }), s = !0, !1 }), s) return s; if (e.theme && e.theme.execCommand && e.theme.execCommand(t, n, r)) return e.fire("ExecCommand", { command: t, ui: n, value: r }), !0; try { s = e.getDoc().execCommand(t, n, r) } catch (c) { } return !!s && (e.fire("ExecCommand", { command: t, ui: n, value: r }), !0) } }, queryCommandState: u, queryCommandValue: function (t) { var n; if (!e.quirks.isHidden() && !e.removed) { if (t = t.toLowerCase(), n = i.value[t]) return n(t); try { return e.getDoc().queryCommandValue(t) } catch (r) { } } }, queryCommandSupported: function (t) { if (t = t.toLowerCase(), i.exec[t]) return !0; try { return e.getDoc().queryCommandSupported(t) } catch (n) { } return !1 }, addCommands: s, addCommand: function (t, n, r) { t = t.toLowerCase(), i.exec[t] = function (t, o, i, a) { return n.call(r || e, o, i, a) } }, addQueryStateHandler: function (t, n, r) { t = t.toLowerCase(), i.state[t] = function () { return n.call(r || e) } }, addQueryValueHandler: function (t, n, r) { t = t.toLowerCase(), i.value[t] = function () { return n.call(r || e) } }, hasCustomCommand: function (e) { return e = e.toLowerCase(), !!i.exec[e] } }); var c = function (t, n, r) { return n === undefined && (n = Bm), r === undefined && (r = null), e.getDoc().execCommand(t, n, r) }, l = function (e) { return r.match(e) }, f = function (t, n) { r.toggle(t, n ? { value: n } : undefined), e.nodeChanged() }, d = function (e) { o = n.getBookmark(e) }, m = function () { n.moveToBookmark(o) }; s({ "mceResetDesignMode,mceBeginUndoLevel": function () { }, "mceEndUndoLevel,mceAddUndoLevel": function () { e.undoManager.add() }, "Cut,Copy,Paste": function (t) { var n, r = e.getDoc(); try { c(t) } catch (i) { n = Rm } if ("paste" !== t || r.queryCommandEnabled(t) || (n = !0), n || !r.queryCommandSupported(t)) { var o = e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."); de.mac && (o = o.replace(/Ctrl\+/g, "\u2318+")), e.notificationManager.open({ text: o, type: "error" }) } }, unlink: function () { if (n.isCollapsed()) { var t = e.dom.getParent(e.selection.getStart(), "a"); t && e.dom.remove(t, !0) } else r.remove("link") }, "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function (e) { var t = e.substring(7); "full" === t && (t = "justify"), Sm("left,center,right,justify".split(","), function (e) { t !== e && r.remove("align" + e) }), "none" !== t && f("align" + t) }, "InsertUnorderedList,InsertOrderedList": function (e) { var r, o; c(e), (r = t.getParent(n.getNode(), "ol,ul")) && (o = r.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName) && (d(), t.split(o, r), m())) }, "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function (e) { f(e) }, "ForeColor,HiliteColor,FontName": function (e, t, n) { f(e, n) }, FontSize: function (e, t, n) { var r, o; n >= 1 && n <= 7 && (o = _m(a.font_size_style_values), n = (r = _m(a.font_size_classes)) ? r[n - 1] || n : o[n - 1] || n), f(e, n) }, RemoveFormat: function (e) { r.remove(e) }, mceBlockQuote: function () { f("blockquote") }, FormatBlock: function (e, t, n) { return f(n || "p") }, mceCleanup: function () { var t = n.getBookmark(); e.setContent(e.getContent({ cleanup: Rm }), { cleanup: Rm }), n.moveToBookmark(t) }, mceRemoveNode: function (t, r, o) { var i = o || n.getNode(); i !== e.getBody() && (d(), e.dom.remove(i, Rm), m()) }, mceSelectNodeDepth: function (r, o, i) { var a = 0; t.getParent(n.getNode(), function (e) { if (1 === e.nodeType && a++ === i) return n.select(e), Bm }, e.getBody()) }, mceSelectNode: function (e, t, r) { n.select(r) }, mceInsertContent: function (t, n, r) { lc.insertAtCaret(e, r) }, mceInsertRawHTML: function (t, r, o) { n.setContent("tiny_mce_marker"), e.setContent(e.getContent().replace(/tiny_mce_marker/g, function () { return o })) }, mceToggleFormat: function (e, t, n) { f(n) }, mceSetContent: function (t, n, r) { e.setContent(r) }, "Indent,Outdent": function (t) { Em(e, t) }, mceRepaint: function () { }, InsertHorizontalRule: function () { e.execCommand("mceInsertContent", !1, "<hr />") }, mceToggleVisualAid: function () { e.hasVisual = !e.hasVisual, e.addVisual() }, mceReplaceContent: function (t, r, o) { e.execCommand("mceInsertContent", !1, o.replace(/\{\$selection\}/g, n.getContent({ format: "text" }))) }, mceInsertLink: function (e, o, i) { var a; "string" == typeof i && (i = { href: i }), a = t.getParent(n.getNode(), "a"), i.href = i.href.replace(" ", "%20"), a && i.href || r.remove("link"), i.href && r.apply("link", i, a) }, selectAll: function () { var e = t.getParent(n.getStart(), So.isContentEditableTrue); if (e) { var r = t.createRng(); r.selectNodeContents(e), n.setRng(r) } }, "delete": function () { Ud.deleteCommand(e) }, forwardDelete: function () { Ud.forwardDeleteCommand(e) }, mceNewDocument: function () { e.setContent("") }, InsertLineBreak: function (t, n, r) { return im.insert(e, r), !0 } }), s({ "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function (e) { var o = "align" + e.substring(7), i = n.isCollapsed() ? [t.getParent(n.getNode(), t.isBlock)] : n.getSelectedBlocks(), a = Tm(i, function (e) { return !!r.matchNode(e, o) }); return -1 !== Am(a, Rm) }, "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function (e) { return l(e) }, mceBlockQuote: function () { return l("blockquote") }, Outdent: function () { var e; if (a.inline_styles) { if ((e = t.getParent(n.getStart(), t.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return Rm; if ((e = t.getParent(n.getEnd(), t.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return Rm } return u("InsertUnorderedList") || u("InsertOrderedList") || !a.inline_styles && !!t.getParent(n.getNode(), "BLOCKQUOTE") }, "InsertUnorderedList,InsertOrderedList": function (e) { var r = t.getParent(n.getNode(), "ul,ol"); return r && ("insertunorderedlist" === e && "UL" === r.tagName || "insertorderedlist" === e && "OL" === r.tagName) } }, "state"), s({ "FontSize,FontName": function (e) { var r, o = 0; return (r = t.getParent(n.getNode(), "span")) && (o = "fontsize" === e ? r.style.fontSize : r.style.fontFamily.replace(/, /g, ",").replace(/[\'\"]/g, "").toLowerCase()), o } }, "value"), s({ Undo: function () { e.undoManager.undo() }, Redo: function () { e.undoManager.redo() } }) } var Om = Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " "), Pm = function (e) { var t, n, r = this, o = {}, i = function () { return !1 }, a = function () { return !0 }; t = (e = e || {}).scope || r, n = e.toggleEvent || i; var u = function (e, t, a, u) { var s, c, l; if (!1 === t && (t = i), t) for (t = { func: t }, u && Dt.extend(t, u), l = (c = e.toLowerCase().split(" ")).length; l--;)e = c[l], (s = o[e]) || (s = o[e] = [], n(e, !0)), a ? s.unshift(t) : s.push(t); return r }, s = function (e, t) { var i, a, u, s, c; if (e) for (i = (s = e.toLowerCase().split(" ")).length; i--;) { if (e = s[i], a = o[e], !e) { for (u in o) n(u, !1), delete o[u]; return r } if (a) { if (t) for (c = a.length; c--;)a[c].func === t && (a = a.slice(0, c).concat(a.slice(c + 1)), o[e] = a); else a.length = 0; a.length || (n(e, !1), delete o[e]) } } else { for (e in o) n(e, !1); o = {} } return r }; r.fire = function (n, r) { var u, c, l, f; if (n = n.toLowerCase(), (r = r || {}).type = n, r.target || (r.target = t), r.preventDefault || (r.preventDefault = function () { r.isDefaultPrevented = a }, r.stopPropagation = function () { r.isPropagationStopped = a }, r.stopImmediatePropagation = function () { r.isImmediatePropagationStopped = a }, r.isDefaultPrevented = i, r.isPropagationStopped = i, r.isImmediatePropagationStopped = i), e.beforeFire && e.beforeFire(r), u = o[n]) for (c = 0, l = u.length; c < l; c++) { if ((f = u[c]).once && s(n, f.func), r.isImmediatePropagationStopped()) return r.stopPropagation(), r; if (!1 === f.func.call(t, r)) return r.preventDefault(), r } return r }, r.on = u, r.off = s, r.once = function (e, t, n) { return u(e, t, n, { once: !0 }) }, r.has = function (e) { return e = e.toLowerCase(), !(!o[e] || 0 === o[e].length) } }; Pm.isNative = function (e) { return !!Om[e.toLowerCase()] }; var Lm, Im = function (e) { return e._eventDispatcher || (e._eventDispatcher = new Pm({ scope: e, toggleEvent: function (t, n) { Pm.isNative(t) && e.toggleNativeEvent && e.toggleNativeEvent(t, n) } })), e._eventDispatcher }, Mm = { fire: function (e, t, n) { if (this.removed && "remove" !== e) return t; if (t = Im(this).fire(e, t, n), !1 !== n && this.parent) for (var r = this.parent(); r && !t.isPropagationStopped();)r.fire(e, t, !1), r = r.parent(); return t }, on: function (e, t, n) { return Im(this).on(e, t, n) }, off: function (e, t) { return Im(this).off(e, t) }, once: function (e, t) { return Im(this).once(e, t) }, hasEventListeners: function (e) { return Im(this).has(e) } }, Fm = ui.DOM, zm = function (e, t) { return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = Fm.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody() }, Um = function (e, t) { var n, r, o = function (e) { return !e.hidden && !e.readonly }; if (e.delegates || (e.delegates = {}), !e.delegates[t] && !e.removed) if (n = zm(e, t), e.settings.event_root) { if (Lm || (Lm = {}, e.editorManager.on("removeEditor", function () { var t; if (!e.editorManager.activeEditor && Lm) { for (t in Lm) e.dom.unbind(zm(e, t)); Lm = null } })), Lm[t]) return; r = function (n) { for (var r = n.target, i = e.editorManager.get(), a = i.length; a--;) { var u = i[a].getBody(); (u === r || Fm.isChildOf(r, u)) && o(i[a]) && i[a].fire(t, n) } }, Lm[t] = r, Fm.bind(n, t, r) } else r = function (n) { o(e) && e.fire(t, n) }, Fm.bind(n, t, r), e.delegates[t] = r }, qm = { bindPendingEventDelegates: function () { var e = this; Dt.each(e._pendingNativeEvents, function (t) { Um(e, t) }) }, toggleNativeEvent: function (e, t) { var n = this; "focus" !== e && "blur" !== e && (t ? n.initialized ? Um(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(zm(n, e), e, n.delegates[e]), delete n.delegates[e])) }, unbindAllNativeEvents: function () { var e, t = this, n = t.getBody(), r = t.dom; if (t.delegates) { for (e in t.delegates) t.dom.unbind(zm(t, e), e, t.delegates[e]); delete t.delegates } !t.inline && n && r && (n.onload = null, r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer())) } }, Vm = qm = Dt.extend({}, Mm, qm), Hm = function (e, t, n) { try { e.getDoc().execCommand(t, !1, n) } catch (r) { } }, jm = function (e, t) { var n, r, o; e._clickBlocker && (e._clickBlocker.unbind(), e._clickBlocker = null), t ? (e._clickBlocker = (r = (n = e).getBody(), o = function (e) { n.dom.getParents(e.target, "a").length > 0 && e.preventDefault() }, n.dom.bind(r, "click", o), { unbind: function () { n.dom.unbind(r, "click", o) } }), e.selection.controlSelection.hideResizeRect(), e.readonly = !0, e.getBody().contentEditable = !1) : (e.readonly = !1, e.getBody().contentEditable = !0, Hm(e, "StyleWithCSS", !1), Hm(e, "enableInlineTableEditing", !1), Hm(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged()) }, $m = function (e, t) { var n = e.readonly ? "readonly" : "design"; t !== n && (e.initialized ? jm(e, "readonly" === t) : e.on("init", function () { jm(e, "readonly" === t) }), e.fire("SwitchMode", { mode: t })) }, Wm = Dt.each, Km = Dt.explode, Xm = { f9: 120, f10: 121, f11: 122 }, Ym = Dt.makeMap("alt,ctrl,shift,meta,access"); function Gm(e) { var t = {}, n = [], r = function (e) { var t, n, r = {}; for (n in Wm(Km(e, "+"), function (e) { e in Ym ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = Xm[e] || e.toUpperCase().charCodeAt(0)) }), t = [r.keyCode], Ym) r[n] ? t.push(n) : r[n] = !1; return r.id = t.join(","), r.access && (r.alt = !0, de.mac ? r.ctrl = !0 : r.shift = !0), r.meta && (de.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)), r }, o = function (t, n, o, i) { var a; return (a = Dt.map(Km(t, ">"), r))[a.length - 1] = Dt.extend(a[a.length - 1], { func: o, scope: i || e }), Dt.extend(a[0], { desc: e.translate(n), subpatterns: a.slice(1) }) }, i = function (e, t) { return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0) }, a = function (e) { return e.func ? e.func.call(e.scope) : null }; e.on("keyup keypress keydown", function (e) { var r, o; ((o = e).altKey || o.ctrlKey || o.metaKey || "keydown" === (r = e).type && r.keyCode >= 112 && r.keyCode <= 123) && !e.isDefaultPrevented() && (Wm(t, function (t) { if (i(e, t)) return n = t.subpatterns.slice(0), "keydown" === e.type && a(t), !0 }), i(e, n[0]) && (1 === n.length && "keydown" === e.type && a(n[0]), n.shift())) }), this.add = function (n, r, i, a) { var u; return u = i, "string" == typeof i ? i = function () { e.execCommand(u, !1, null) } : Dt.isArray(u) && (i = function () { e.execCommand(u[0], u[1], u[2]) }), Wm(Km(Dt.trim(n.toLowerCase())), function (e) { var n = o(e, r, i, a); t[n.id] = n }), !0 }, this.remove = function (e) { var n = o(e); return !!t[n.id] && (delete t[n.id], !0) } } var Jm = function (e) { var t = e !== undefined ? e.dom() : document; return E.from(t.activeElement).map(Fn.fromDom) }, Qm = function (e) { var t = Fr.owner(e).dom(); return e.dom() === t.activeElement }, Zm = function (e) { return Jm(Fr.owner(e)).filter(function (t) { return e.dom().contains(t.dom()) }) }, ep = function (e, t) { return (n = t, n.collapsed ? E.from(Yi(n.startContainer, n.startOffset)).map(Fn.fromDom) : E.none()).bind(function (t) { return mo(t) ? E.some(t) : !1 === Rr.contains(e, t) ? E.some(e) : E.none() }); var n }, tp = function (e, t) { ep(Fn.fromDom(e.getBody()), t).bind(function (e) { return za.firstPositionIn(e.dom()) }).fold(function () { return e.selection.normalize() }, function (t) { return e.selection.setRng(t.toRange()) }) }, np = function (e) { if (e.setActive) try { e.setActive() } catch (t) { e.focus() } else e.focus() }, rp = function (e) { var t, n = e.getBody(); return n && (t = Fn.fromDom(n), Qm(t) || Zm(t).isSome()) }, op = function (e) { return e.inline ? rp(e) : (t = e).iframeElement && Qm(Fn.fromDom(t.iframeElement)); var t }, ip = function (e) { e.editorManager.setActive(e) }, ap = function (e, t) { e.removed || (t ? ip(e) : function (e) { var t, n, r, o = e.selection, i = e.settings.content_editable, a = e.getBody(), u = o.getRng(); if (e.quirks.refreshContentEditable(), n = e, r = o.getNode(), t = n.dom.getParent(r, function (e) { return "true" === n.dom.getContentEditable(e) }), e.$.contains(a, t)) return np(t), tp(e, u), void ip(e); e.bookmark !== undefined && !1 === op(e) && Nm.getRng(e).each(function (t) { e.selection.setRng(t), u = t }), i || (de.opera || np(a), e.getWin().focus()), (de.gecko || i) && (np(a), tp(e, u)), ip(e) }(e)) }, up = op, sp = function (e, t) { return t.dom()[e] }, cp = function (e, t) { return parseInt(hr(t, e), 10) }, lp = y.curry(sp, "clientWidth"), fp = y.curry(sp, "clientHeight"), dp = y.curry(cp, "margin-top"), mp = y.curry(cp, "margin-left"), pp = { isXYInContentArea: function (e, t, n) { var r, o, i, a, u, s, c, l, f, d, m = Fn.fromDom(e.getBody()), p = e.inline ? m : Fr.documentElement(m), g = (r = e.inline, i = t, a = n, u = (o = p).dom().getBoundingClientRect(), { x: i - (r ? u.left + o.dom().clientLeft + mp(o) : 0), y: a - (r ? u.top + o.dom().clientTop + dp(o) : 0) }); return c = g.x, l = g.y, f = lp(s = p), d = fp(s), c >= 0 && l >= 0 && c <= f && l <= d }, isEditorAttachedToDom: function (e) { var t, n = e.inline ? e.getBody() : e.getContentAreaContainer(); return (t = n, E.from(t).map(Fn.fromDom)).map(function (e) { return Rr.contains(Fr.owner(e), e) }).getOr(!1) } }; function gp(e) { var t, n = [], r = function () { var t, n = e.theme; return n && n.getNotificationManagerImpl ? n.getNotificationManagerImpl() : { open: t = function () { throw new Error("Theme did not provide a NotificationManager implementation.") }, close: t, reposition: t, getArgs: t } }, o = function () { n.length > 0 && r().reposition(n) }, i = function (e) { M.findIndex(n, function (t) { return t === e }).each(function (e) { n.splice(e, 1) }) }, a = function (t) { if (!e.removed && pp.isEditorAttachedToDom(e)) return M.find(n, function (e) { return n = r().getArgs(e), o = t, !(n.type !== o.type || n.text !== o.text || n.progressBar || n.timeout || o.progressBar || o.timeout); var n, o }).getOrThunk(function () { e.editorManager.setActive(e); var a, u = r().open(t, function () { i(u), o() }); return a = u, n.push(a), o(), u }) }; return (t = e).on("SkinLoaded", function () { var e = t.settings.service_message; e && a({ text: e, type: "warning", timeout: 0, icon: "" }) }), t.on("ResizeEditor ResizeWindow", function () { ve.requestAnimationFrame(o) }), t.on("remove", function () { M.each(n, function (e) { r().close(e) }) }), { open: a, close: function () { E.from(n[0]).each(function (e) { r().close(e), i(e), o() }) }, getNotifications: function () { return n } } } function hp(e) { var t = [], n = function () { var t, n = e.theme; return n && n.getWindowManagerImpl ? n.getWindowManagerImpl() : { open: t = function () { throw new Error("Theme did not provide a WindowManager implementation.") }, alert: t, confirm: t, close: t, getParams: t, setParams: t } }, r = function (e, t) { return function () { return t ? t.apply(e, arguments) : undefined } }, o = function (n) { var r; t.push(n), r = n, e.fire("OpenWindow", { win: r }) }, i = function (n) { M.findIndex(t, function (e) { return e === n }).each(function (r) { var o; t.splice(r, 1), o = n, e.fire("CloseWindow", { win: o }), 0 === t.length && e.focus() }) }, a = function () { return E.from(t[t.length - 1]) }; return e.on("remove", function () { M.each(t.slice(0), function (e) { n().close(e) }) }), { windows: t, open: function (t, r) { e.editorManager.setActive(e), Nm.store(e); var a = n().open(t, r, i); return o(a), a }, alert: function (e, t, a) { var u = n().alert(e, r(a || this, t), i); o(u) }, confirm: function (e, t, a) { var u = n().confirm(e, r(a || this, t), i); o(u) }, close: function () { a().each(function (e) { n().close(e), i(e) }) }, getParams: function () { return a().map(n().getParams).getOr(null) }, setParams: function (e) { a().each(function (t) { n().setParams(t, e) }) }, getWindows: function () { return t } } } var vp = pi.PluginManager, yp = function (e, t) { var n = function (e, t) { for (var n in vp.urls) if (vp.urls[n] + "/plugin" + t + ".js" === e) return n; return null }(t, e.suffix); return n ? "Failed to load plugin: " + n + " from url " + t : "Failed to load plugin url: " + t }, bp = function (e, t) { e.notificationManager.open({ type: "error", text: t }) }, Cp = function (e, t) { e._skinLoaded ? bp(e, t) : e.on("SkinLoaded", function () { bp(e, t) }) }, xp = { pluginLoadError: function (e, t) { Cp(e, yp(e, t)) }, uploadError: function (e, t) { Cp(e, "Failed to upload image: " + t) }, displayError: Cp, initError: function (e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; var r = window.console; r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments)) } }, wp = pi.PluginManager, Np = pi.ThemeManager; function Ep() { return new (q.getOrDie("XMLHttpRequest")) } function Sp(e, t) { var n = {}, r = function (e, n, r, o) { var i, a; (i = new Ep).open("POST", t.url), i.withCredentials = t.credentials, i.upload.onprogress = function (e) { o(e.loaded / e.total * 100) }, i.onerror = function () { r("Image upload failed due to a XHR Transport error. Code: " + i.status) }, i.onload = function () { var e, o, a; i.status < 200 || i.status >= 300 ? r("HTTP Error: " + i.status) : (e = JSON.parse(i.responseText)) && "string" == typeof e.location ? n((o = t.basePath, a = e.location, o ? o.replace(/\/$/, "") + "/" + a.replace(/^\//, "") : a)) : r("Invalid JSON: " + i.responseText) }, (a = new FormData).append("file", e.blob(), e.filename()), i.send(a) }, o = function (e, t) { return { url: t, blobInfo: e, status: !0 } }, i = function (e, t) { return { url: "", blobInfo: e, status: !1, error: t } }, a = function (e, t) { Dt.each(n[e], function (e) { e(t) }), delete n[e] }, u = function (r, u) { return r = Dt.grep(r, function (t) { return !e.isUploaded(t.blobUri()) }), me.all(Dt.map(r, function (r) { return e.isPending(r.blobUri()) ? (f = r.blobUri(), new me(function (e) { n[f] = n[f] || [], n[f].push(e) })) : (s = r, c = t.handler, l = u, e.markPending(s.blobUri()), new me(function (t) { var n; try { var r = function () { n && n.close() }; c(s, function (n) { r(), e.markUploaded(s.blobUri(), n), a(s.blobUri(), o(s, n)), t(o(s, n)) }, function (n) { r(), e.removeFailed(s.blobUri()), a(s.blobUri(), i(s, n)), t(i(s, n)) }, function (e) { e < 0 || e > 100 || (n || (n = l()), n.progressBar.value(e)) }) } catch (u) { t(i(s, u.message)) } })); var s, c, l, f })) }; return t = Dt.extend({ credentials: !1, handler: r }, t), { upload: function (e, n) { return t.url || t.handler !== r ? u(e, n) : new me(function (e) { e([]) }) } } } function kp(e, t) { return new (q.getOrDie("Blob"))(e, t) } var Tp = function (e) { return q.getOrDie("atob")(e) }, Ap = function (e) { var t, n; return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), { type: t, data: e[1] } }, _p = function (e) { return new me(function (t) { var n, r, o; e = Ap(e); try { n = Tp(e.data) } catch (vx) { return void t(new kp([])) } for (r = new function (e) { return new (q.getOrDie("Uint8Array"))(e) }(n.length), o = 0; o < r.length; o++)r[o] = n.charCodeAt(o); t(new kp([r], { type: e.type })) }) }, Rp = function (e) { return 0 === e.indexOf("blob:") ? (t = e, new me(function (e, n) { var r = function () { n("Cannot convert " + t + " to Blob. Resource might not exist or is inaccessible.") }; try { var o = new Ep; o.open("GET", t, !0), o.responseType = "blob", o.onload = function () { 200 === this.status ? e(this.response) : r() }, o.onerror = r, o.send() } catch (i) { r() } })) : 0 === e.indexOf("data:") ? _p(e) : null; var t }, Bp = function (e) { return new me(function (t) { var n = new function () { return new (q.getOrDie("FileReader")) }; n.onloadend = function () { t(n.result) }, n.readAsDataURL(e) }) }, Dp = Ap, Op = 0, Pp = function (e) { return (e || "blobid") + Op++ }, Lp = function (e, t, n, r) { var o, i; 0 !== t.src.indexOf("blob:") ? (o = Dp(t.src).data, (i = e.findFirst(function (e) { return e.base64() === o })) ? n({ image: t, blobInfo: i }) : Rp(t.src).then(function (r) { i = e.create(Pp(), r, o), e.add(i), n({ image: t, blobInfo: i }) }, function (e) { r(e) })) : (i = e.getByUri(t.src)) ? n({ image: t, blobInfo: i }) : Rp(t.src).then(function (r) { Bp(r).then(function (a) { o = Dp(a).data, i = e.create(Pp(), r, o), e.add(i), n({ image: t, blobInfo: i }) }) }, function (e) { r(e) }) }, Ip = function (e) { return e ? e.getElementsByTagName("img") : [] }, Mp = 0, Fp = { uuid: function (e) { return e + Mp++ + (t = function () { return Math.round(4294967295 * Math.random()).toString(36) }, "s" + (new Date).getTime().toString(36) + t() + t() + t()); var t } }; function zp(e) { var t, n, r, o, i, a, u, s, c, l, f = (t = [], n = ea.constant, r = function (e) { var t, r, o; if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created"); return t = e.id || Fp.uuid("blobid"), r = e.name || t, { id: n(t), name: n(r), filename: n(r + "." + (o = e.blob.type, { "image/jpeg": "jpg", "image/jpg": "jpg", "image/gif": "gif", "image/png": "png" }[o.toLowerCase()] || "dat")), blob: n(e.blob), base64: n(e.base64), blobUri: n(e.blobUri || H.createObjectURL(e.blob)), uri: n(e.uri) } }, { create: function (e, t, n, o) { return r("object" == typeof e ? e : { id: e, name: o, blob: t, base64: n }) }, add: function (e) { o(e.id()) || t.push(e) }, get: o = function (e) { return i(function (t) { return t.id() === e }) }, getByUri: function (e) { return i(function (t) { return t.blobUri() === e }) }, findFirst: i = function (e) { return Tt.filter(t, e)[0] }, removeByUri: function (e) { t = Tt.filter(t, function (t) { return t.blobUri() !== e || (H.revokeObjectURL(t.blobUri()), !1) }) }, destroy: function () { Tt.each(t, function (e) { H.revokeObjectURL(e.blobUri()) }), t = [] } }), d = e.settings, m = (s = {}, c = function (e, t) { return { status: e, resultUri: t } }, { hasBlobUri: l = function (e) { return e in s }, getResultUri: function (e) { var t = s[e]; return t ? t.resultUri : null }, isPending: function (e) { return !!l(e) && 1 === s[e].status }, isUploaded: function (e) { return !!l(e) && 2 === s[e].status }, markPending: function (e) { s[e] = c(1, null) }, markUploaded: function (e, t) { s[e] = c(2, t) }, removeFailed: function (e) { delete s[e] }, destroy: function () { s = {} } }), p = function (t) { return function (n) { return e.selection ? t(n) : [] } }, g = function (e, t, n) { for (var r = 0; -1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;); return e }, h = function (e, t, n) { return e = g(e, 'src="' + t + '"', 'src="' + n + '"'), e = g(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"') }, v = function (t, n) { Tt.each(e.undoManager.data, function (e) { "fragmented" === e.type ? e.fragments = Tt.map(e.fragments, function (e) { return h(e, t, n) }) : e.content = h(e.content, t, n) }) }, y = function () { return e.notificationManager.open({ text: e.translate("Image uploading..."), type: "info", timeout: -1, progressBar: !0 }) }, b = function (t, n) { f.removeByUri(t.src), v(t.src, n), e.$(t).attr({ src: d.images_reuse_filename ? n + "?" + (new Date).getTime() : n, "data-mce-src": e.convertURL(n, "src") }) }, C = function (t) { return a || (a = Sp(m, { url: d.images_upload_url, basePath: d.images_upload_base_path, credentials: d.images_upload_credentials, handler: d.images_upload_handler })), N().then(p(function (n) { var r; return r = Tt.map(n, function (e) { return e.blobInfo }), a.upload(r, y).then(p(function (r) { var o = Tt.map(r, function (t, r) { var o = n[r].image; return t.status && !1 !== e.settings.images_replace_blob_uris ? b(o, t.url) : t.error && xp.uploadError(e, t.error), { element: o, status: t.status } }); return t && t(o), o })) })) }, x = function (e) { if (!1 !== d.automatic_uploads) return C(e) }, w = function (e) { return !d.images_dataimg_filter || d.images_dataimg_filter(e) }, N = function () { var t, n, r; return u || (t = m, n = f, r = {}, u = { findAll: function (e, o) { var i; o || (o = ea.constant(!0)), i = Tt.filter(Ip(e), function (e) { var n = e.src; return !!de.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && !(!n || n === de.transparentSrc) && (0 === n.indexOf("blob:") ? !t.isUploaded(n) : 0 === n.indexOf("data:") && o(e)) }); var a = Tt.map(i, function (e) { if (r[e.src]) return new me(function (t) { r[e.src].then(function (n) { if ("string" == typeof n) return n; t({ image: e, blobInfo: n.blobInfo }) }) }); var t = new me(function (t, r) { Lp(n, e, t, r) }).then(function (e) { return delete r[e.image.src], e })["catch"](function (t) { return delete r[e.src], t }); return r[e.src] = t, t }); return me.all(a) } }), u.findAll(e.getBody(), w).then(p(function (t) { return t = Tt.filter(t, function (t) { return "string" != typeof t || (xp.displayError(e, t), !1) }), Tt.each(t, function (e) { v(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src") }), t })) }, E = function (t) { return t.replace(/src="(blob:[^"]+)"/g, function (t, n) { var r = m.getResultUri(n); if (r) return 'src="' + r + '"'; var o = f.getByUri(n); return o || (o = Tt.reduce(e.editorManager.get(), function (e, t) { return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n) }, null)), o ? 'src="data:' + o.blob().type + ";base64," + o.base64() + '"' : t }) }; return e.on("setContent", function () { !1 !== e.settings.automatic_uploads ? x() : N() }), e.on("RawSaveContent", function (e) { e.content = E(e.content) }), e.on("getContent", function (e) { e.source_view || "raw" === e.format || (e.content = E(e.content)) }), e.on("PostRender", function () { e.parser.addNodeFilter("img", function (e) { Tt.each(e, function (e) { var t = e.attr("src"); if (!f.getByUri(t)) { var n = m.getResultUri(t); n && e.attr("src", n) } }) }) }), { blobCache: f, uploadImages: C, uploadImagesAuto: x, scanForImages: N, destroy: function () { f.destroy(), m.destroy(), u = a = null } } } var Up = function (e, t) { return e.hasOwnProperty(t.nodeName) }, qp = function (e, t) { if (So.isText(t)) { if (0 === t.nodeValue.length) return !0; if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || Up(e, t.nextSibling))) return !0 } return !1 }, Vp = function (e) { var t, n, r, o, i, a, u, s, c, l, f, d = e.settings, m = e.dom, p = e.selection, g = e.schema, h = g.getBlockElements(), v = p.getStart(), y = e.getBody(); if (f = d.forced_root_block, v && So.isElement(v) && f && (l = y.nodeName.toLowerCase(), g.isValidChild(l, f.toLowerCase()) && (b = h, C = y, x = v, !M.exists(Jc(Fn.fromDom(x), Fn.fromDom(C)), function (e) { return Up(b, e.dom()) })))) { var b, C, x, w, N; for (n = (t = p.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, c = up(e), v = y.firstChild; v;)if (w = h, N = v, So.isText(N) || So.isElement(N) && !Up(w, N) && !Vs.isBookmarkNode(N)) { if (qp(h, v)) { u = v, v = v.nextSibling, m.remove(u); continue } a || (a = m.create(f, e.settings.forced_root_block_attrs), v.parentNode.insertBefore(a, v), s = !0), u = v, v = v.nextSibling, a.appendChild(u) } else a = null, v = v.nextSibling; s && c && (t.setStart(n, r), t.setEnd(o, i), p.setRng(t), e.nodeChanged()) } }, Hp = function (e) { e.settings.forced_root_block && e.on("NodeChange", y.curry(Vp, e)) }; function jp(e) { var t, n = []; "onselectionchange" in e.getDoc() || e.on("NodeChange Click MouseUp KeyUp Focus", function (n) { var r, o; o = { startContainer: (r = e.selection.getRng()).startContainer, startOffset: r.startOffset, endContainer: r.endContainer, endOffset: r.endOffset }, "nodechange" !== n.type && qd.isEq(o, t) || e.fire("SelectionChange"), t = o }), e.on("contextmenu", function () { e.fire("SelectionChange") }), e.on("SelectionChange", function () { var t = e.selection.getStart(!0); !t || !de.range && e.selection.isCollapsed() || !function (t) { var r, o; if ((o = e.$(t).parentsUntil(e.getBody()).add(t)).length === n.length) { for (r = o.length; r >= 0 && o[r] === n[r]; r--); if (-1 === r) return n = o, !0 } return n = o, !1 }(t) && e.dom.isChildOf(t, e.getBody()) && e.nodeChanged({ selectionChange: !0 }) }), e.on("MouseUp", function (t) { t.isDefaultPrevented() || ("IMG" === e.selection.getNode().nodeName ? ve.setEditorTimeout(e, function () { e.nodeChanged() }) : e.nodeChanged()) }), this.nodeChanged = function (t) { var n, r, o, i = e.selection; e.initialized && i && !e.settings.disable_nodechange && !e.readonly && (o = e.getBody(), (n = i.getStart(!0) || o).ownerDocument === e.getDoc() && e.dom.isChildOf(n, o) || (n = o), r = [], e.dom.getParent(n, function (e) { if (e === o) return !0; r.push(e) }), (t = t || {}).element = n, t.parents = r, e.fire("NodeChange", t)) } } var $p, Wp, Kp = function (e) { var t, n, r, o; return o = e.getBoundingClientRect(), n = (t = e.ownerDocument).documentElement, r = t.defaultView, { top: o.top + r.pageYOffset - n.clientTop, left: o.left + r.pageXOffset - n.clientLeft } }, Xp = function (e, t) { return n = (u = e).inline ? Kp(u.getBody()) : { left: 0, top: 0 }, a = (i = e).getBody(), r = i.inline ? { left: a.scrollLeft, top: a.scrollTop } : { left: 0, top: 0 }, { pageX: (o = function (e, t) { if (t.target.ownerDocument !== e.getDoc()) { var n = Kp(e.getContentAreaContainer()), r = (i = (o = e).getBody(), a = o.getDoc().documentElement, u = { left: i.scrollLeft, top: i.scrollTop }, s = { left: i.scrollLeft || a.scrollLeft, top: i.scrollTop || a.scrollTop }, o.inline ? u : s); return { left: t.pageX - n.left + r.left, top: t.pageY - n.top + r.top } } var o, i, a, u, s; return { left: t.pageX, top: t.pageY } }(e, t)).left - n.left + r.left, pageY: o.top - n.top + r.top }; var n, r, o, i, a, u }, Yp = So.isContentEditableFalse, Gp = So.isContentEditableTrue, Jp = function (e) { e && e.parentNode && e.parentNode.removeChild(e) }, Qp = function (e, t) { return function (n) { if (0 === n.button) { var r = Tt.find(t.dom.getParents(n.target), ea.or(Yp, Gp)); if (u = t.getBody(), Yp(s = r) && s !== u) { var o = t.dom.getPos(r), i = t.getBody(), a = t.getDoc().documentElement; e.element = r, e.screenX = n.screenX, e.screenY = n.screenY, e.maxX = (t.inline ? i.scrollWidth : a.offsetWidth) - 2, e.maxY = (t.inline ? i.scrollHeight : a.offsetHeight) - 2, e.relX = n.pageX - o.x, e.relY = n.pageY - o.y, e.width = r.offsetWidth, e.height = r.offsetHeight, e.ghost = function (e, t, n, r) { var o = t.cloneNode(!0); e.dom.setStyles(o, { width: n, height: r }), e.dom.setAttrib(o, "data-mce-selected", null); var i = e.dom.create("div", { "class": "mce-drag-container", "data-mce-bogus": "all", unselectable: "on", contenteditable: "false" }); return e.dom.setStyles(i, { position: "absolute", opacity: .5, overflow: "hidden", border: 0, padding: 0, margin: 0, width: n, height: r }), e.dom.setStyles(o, { margin: 0, boxSizing: "border-box" }), i.appendChild(o), i }(t, r, e.width, e.height) } } var u, s } }, Zp = function (e, t) { return function (n) { if (e.dragging && (u = t, l = t.selection, f = l.getSel().getRangeAt(0).startContainer, s = 3 === f.nodeType ? f.parentNode : f, c = e.element, s !== c && !u.dom.isChildOf(s, c) && !Yp(s))) { var r = (i = e.element, (a = i.cloneNode(!0)).removeAttribute("data-mce-selected"), a), o = t.fire("drop", { targetClone: r, clientX: n.clientX, clientY: n.clientY }); o.isDefaultPrevented() || (r = o.targetClone, t.undoManager.transact(function () { Jp(e.element), t.insertContent(t.dom.getOuterHTML(r)), t._selectionOverrides.hideFakeCaret() })) } var i, a, u, s, c, l, f; eg(e) } }, eg = function (e) { e.dragging = !1, e.element = null, Jp(e.ghost) }, tg = function (e) { var t, n, r, o, i, a, u, s, c, l, f, d = {}; t = ui.DOM, a = document, n = Qp(d, e), u = d, s = e, c = ve.throttle(function (e, t) { s._selectionOverrides.hideFakeCaret(), s.selection.placeCaretAt(e, t) }, 0), r = function (e) { var t, n, r, o, i, a, l, f, d, m, p, g, h = Math.max(Math.abs(e.screenX - u.screenX), Math.abs(e.screenY - u.screenY)); if (u.element && !u.dragging && h > 10) { if (s.fire("dragstart", { target: u.element }).isDefaultPrevented()) return; u.dragging = !0, s.focus() } if (u.dragging) { var v = (p = u, { pageX: (g = Xp(s, e)).pageX - p.relX, pageY: g.pageY + 5 }); d = u.ghost, m = s.getBody(), d.parentNode !== m && m.appendChild(d), t = u.ghost, n = v, r = u.width, o = u.height, i = u.maxX, a = u.maxY, l = 0, f = 0, t.style.left = n.pageX + "px", t.style.top = n.pageY + "px", n.pageX + r > i && (l = n.pageX + r - i), n.pageY + o > a && (f = n.pageY + o - a), t.style.width = r - l + "px", t.style.height = o - f + "px", c(e.clientX, e.clientY) } }, o = Zp(d, e), l = d, f = e, i = function () { eg(l), l.dragging && f.fire("dragend") }, e.on("mousedown", n), e.on("mousemove", r), e.on("mouseup", o), t.bind(a, "mousemove", r), t.bind(a, "mouseup", i), e.on("remove", function () { t.unbind(a, "mousemove", r), t.unbind(a, "mouseup", i) }) }, ng = function (e) { var t; tg(e), (t = e).on("drop", function (e) { var n = "undefined" != typeof e.clientX ? t.getDoc().elementFromPoint(e.clientX, e.clientY) : null; (Yp(n) || Yp(t.dom.getContentEditableParent(n))) && e.preventDefault() }) }, rg = function (e) { return Tt.reduce(e, function (e, t) { return e.concat(function (e) { var t = function (t) { return Tt.map(t, function (t) { return (t = Hi(t)).node = e, t }) }; if (So.isElement(e)) return t(e.getClientRects()); if (So.isText(e)) { var n = e.ownerDocument.createRange(); return n.setStart(e, 0), n.setEnd(e, e.data.length), t(n.getClientRects()) } }(t)) }, []) }; (Wp = $p || ($p = {}))[Wp.Up = -1] = "Up", Wp[Wp.Down = 1] = "Down"; var og = function (e, t, n, r, o, i) { var a, u, s = 0, c = [], l = function (r) { var i, a, l; for (l = rg([r]), -1 === e && (l = l.reverse()), i = 0; i < l.length; i++)if (a = l[i], !n(a, u)) { if (c.length > 0 && t(a, Tt.last(c)) && s++, a.line = s, o(a)) return !0; c.push(a) } }; return (u = Tt.last(i.getClientRects())) ? (l(a = i.getNode()), function (e, t, n, r) { for (; r = Du(r, e, qi, t);)if (n(r)) return }(e, r, l, a), c) : c }, ig = y.curry(og, $p.Up, Wi, Ki), ag = y.curry(og, $p.Down, Ki, Wi), ug = function (e) { return function (t) { return n = e, t.line > n; var n } }, sg = function (e) { return function (t) { return n = e, t.line === n; var n } }, cg = So.isContentEditableFalse, lg = Du, fg = function (e, t) { return Math.abs(e.left - t) }, dg = function (e, t) { return Math.abs(e.right - t) }, mg = function (e, t) { return e >= t.left && e <= t.right }, pg = function (e, t) { return Tt.reduce(e, function (e, n) { var r, o; return r = Math.min(fg(e, t), dg(e, t)), o = Math.min(fg(n, t), dg(n, t)), mg(t, n) ? n : mg(t, e) ? e : o === r && cg(n.node) ? n : o < r ? n : e }) }, gg = function (e, t, n, r) { for (; r = lg(r, e, qi, t);)if (n(r)) return }, hg = function (e, t, n) { var r, o, i, a, u, s, c, l, f = rg((o = e, Tt.filter(Tt.toArray(o.getElementsByTagName("*")), xu))), d = Tt.filter(f, function (e) { return n >= e.top && n <= e.bottom }); return (r = pg(d, t)) && (r = pg((u = e, l = function (e, t) { var n; return n = Tt.filter(rg([t]), function (t) { return !e(t, s) }), c = c.concat(n), 0 === n.length }, (c = []).push(s = r), gg($p.Up, u, y.curry(l, Wi), s.node), gg($p.Down, u, y.curry(l, Ki), s.node), c), t)) && xu(r.node) ? (a = t, { node: (i = r).node, before: fg(i, a) < dg(i, a) }) : null }, vg = function (e, t, n) { return !n.collapsed && M.foldl(n.getClientRects(), function (n, r) { return n || (a = t, (i = e) >= (o = r).left && i <= o.right && a >= o.top && a <= o.bottom); var o, i, a }, !1) }, yg = function (e, t) { var n = null; return { cancel: function () { null !== n && (clearTimeout(n), n = null) }, throttle: function () { var r = arguments; null === n && (n = setTimeout(function () { e.apply(null, r), n = null, r = null }, t)) } } }, bg = function (e) { var t = yg(function () { if (!e.removed && e.selection.getRng().collapsed) { var t = $a(e, e.selection.getRng(), !1); e.selection.setRng(t) } }, 0); e.on("focus", function () { t.throttle() }), e.on("blur", function () { t.cancel() }) }, Cg = { BACKSPACE: 8, DELETE: 46, DOWN: 40, ENTER: 13, LEFT: 37, RIGHT: 39, SPACEBAR: 32, TAB: 9, UP: 38, modifierPressed: function (e) { return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e) }, metaKeyPressed: function (e) { return de.mac ? e.metaKey : e.ctrlKey && !e.altKey } }, xg = So.isContentEditableTrue, wg = So.isContentEditableFalse, Ng = Wu, Eg = $u, Sg = function (e) { var t, n, r, o = e.getBody(), i = Cu(e.getBody(), function (t) { return e.dom.isBlock(t) }, function () { return up(e) }), a = "sel-" + e.dom.uniqueId(), u = function (t) { t && e.selection.setRng(t) }, s = function () { return e.selection.getRng() }, c = function (t, n, r, o) { return void 0 === o && (o = !0), e.fire("ShowCaret", { target: n, direction: t, before: r }).isDefaultPrevented() ? null : (o && e.selection.scrollIntoView(n, -1 === t), i.show(r, n)) }, l = function (e, t) { return t = Uu(e, o, t), -1 === e ? wa.fromRangeStart(t) : wa.fromRangeEnd(t) }, f = function (e) { return Ei(e) || _i(e) || Ri(e) }, d = function (e) { return f(e.startContainer) || f(e.endContainer) }, m = function (n, r) { var o, i, u, s, f, m, p, h, v, y, b = e.$, C = e.dom; if (!n) return null; if (n.collapsed) { if (!d(n)) if (!1 === r) { if (h = l(-1, n), xu(h.getNode(!0))) return c(-1, h.getNode(!0), !1, !1); if (xu(h.getNode())) return c(-1, h.getNode(), !h.isAtEnd(), !1) } else { if (h = l(1, n), xu(h.getNode())) return c(1, h.getNode(), !h.isAtEnd(), !1); if (xu(h.getNode(!0))) return c(1, h.getNode(!0), !1, !1) } return null } return s = n.startContainer, f = n.startOffset, m = n.endOffset, 3 === s.nodeType && 0 === f && wg(s.parentNode) && (s = s.parentNode, f = C.nodeIndex(s), s = s.parentNode), 1 !== s.nodeType ? null : (m === f + 1 && (o = s.childNodes[f]), wg(o) ? (v = y = o.cloneNode(!0), (p = e.fire("ObjectSelected", { target: o, targetClone: v })).isDefaultPrevented() ? null : (i = Lc(Fn.fromDom(e.getBody()), "#" + a).fold(function () { return b([]) }, function (e) { return b([e.dom()]) }), v = p.targetClone, 0 === i.length && (i = b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", a)).appendTo(e.getBody()), n = e.dom.createRng(), v === y && de.ie ? (i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v), n.setStartAfter(i[0].firstChild.firstChild), n.setEndAfter(v)) : (i.empty().append("\xa0").append(v).append("\xa0"), n.setStart(i[0].firstChild, 1), n.setEnd(i[0].lastChild, 0)), i.css({ top: C.getPos(o, e.getBody()).y }), i[0].focus(), (u = e.selection.getSel()).removeAllRanges(), u.addRange(n), M.each(ou(Fn.fromDom(e.getBody()), "*[data-mce-selected]"), function (e) { sr.remove(e, "data-mce-selected") }), o.setAttribute("data-mce-selected", "1"), t = o, g(), n)) : null) }, p = function () { t && (t.removeAttribute("data-mce-selected"), Lc(Fn.fromDom(e.getBody()), "#" + a).each(Js.remove), t = null) }, g = function () { i.hide() }; return de.ceFalse && (function () { var n = function (t) { for (var n = e.getBody(); t && t !== n;) { if (xg(t) || wg(t)) return t; t = t.parentNode } return null }; e.on("mouseup", function (t) { var n = s(); n.collapsed && pp.isXYInContentArea(e, t.clientX, t.clientY) && u(ja(e, n, !1)) }), e.on("click", function (t) { var r; (r = n(t.target)) && (wg(r) && (t.preventDefault(), e.focus()), xg(r) && e.dom.isChildOf(r, e.selection.getNode()) && p()) }), e.on("blur NewBlock", function () { p() }); var r, i, l = function (t, n) { var r, o, i = e.dom.getParent(t, e.dom.isBlock), a = e.dom.getParent(n, e.dom.isBlock); return i && (r = i, o = a, !(e.dom.getParent(r, e.dom.isBlock) === e.dom.getParent(o, e.dom.isBlock))) && function (e) { var t = ls(e); if (!e.firstChild) return !1; var n = wa.before(e.firstChild), r = t.next(n); return r && !Eg(r) && !Ng(r) }(i) }; i = !1, (r = e).on("touchstart", function () { i = !1 }), r.on("touchmove", function () { i = !0 }), r.on("touchend", function (e) { var t = n(e.target); wg(t) && (i || (e.preventDefault(), m(Ha(r, t)))) }), e.on("mousedown", function (t) { var r, i = t.target; if ((i === o || "HTML" === i.nodeName || e.dom.isChildOf(i, o)) && !1 !== pp.isXYInContentArea(e, t.clientX, t.clientY)) if (r = n(i)) wg(r) ? (t.preventDefault(), m(Ha(e, r))) : (p(), xg(r) && t.shiftKey || vg(t.clientX, t.clientY, e.selection.getRng()) || e.selection.placeCaretAt(t.clientX, t.clientY)); else if (!1 === xu(i)) { p(), g(); var a = hg(o, t.clientX, t.clientY); if (a && !l(t.target, a.node)) { t.preventDefault(); var s = c(1, a.node, a.before, !1); e.getBody().focus(), u(s) } } }), e.on("keypress", function (t) { Cg.modifierPressed(t) || (t.keyCode, wg(e.selection.getNode()) && t.preventDefault()) }), e.on("getSelectionRange", function (e) { var n = e.range; if (t) { if (!t.parentNode) return void (t = null); (n = n.cloneRange()).selectNode(t), e.range = n } }), e.on("setSelectionRange", function (e) { var t; (t = m(e.range, e.forward)) && (e.range = t) }), e.on("AfterSetSelectionRange", function (t) { var n, r = t.range; d(r) || g(), n = r.startContainer.parentNode, e.dom.hasClass(n, "mce-offscreen-selection") || p() }), e.on("copy", function (t) { var n, r = t.clipboardData; if (!t.isDefaultPrevented() && t.clipboardData && !de.ie) { var o = (n = e.dom.get(a)) ? n.getElementsByTagName("*")[0] : n; o && (t.preventDefault(), r.clearData(), r.setData("text/html", o.outerHTML), r.setData("text/plain", o.outerText)) } }), ng(e), bg(e) }(), n = e.contentStyles, r = ".mce-content-body", n.push(i.getCss()), n.push(r + " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" + r + " *[contentEditable=false] {cursor: default;}" + r + " *[contentEditable=true] {cursor: text;}")), { showCaret: c, showBlockCaretContainer: function (t) { t.hasAttribute("data-mce-caret") && (Bi(t), u(s()), e.selection.scrollIntoView(t[0])) }, hideFakeCaret: g, destroy: function () { i.destroy(), t = null } } }, kg = Dt.each, Tg = function (e) { return 0 === e.indexOf("data-") || 0 === e.indexOf("aria-") }, Ag = function (e) { return e.replace(/<!--|-->/g, "") }, _g = function (e, t, n) { var r, o, i, a, u = 1; for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; o = i.exec(t);) { if (r = i.lastIndex, "/" === o[1]) u--; else if (!o[1]) { if (o[2] in a) continue; u++ } if (0 === u) break } return r }; function Rg(e, t) { void 0 === t && (t = Go()); var n = function () { }; !1 !== (e = e || {}).fix_self_closing && (e.fix_self_closing = !0), kg("comment cdata text start end pi doctype".split(" "), function (t) { t && (self[t] = e[t] || n) }); var r = e.comment ? e.comment : n, o = e.cdata ? e.cdata : n, i = e.text ? e.text : n, a = e.start ? e.start : n, u = e.end ? e.end : n, s = e.pi ? e.pi : n, c = e.doctype ? e.doctype : n; return { parse: function (n) { var l, f, d, m, p, g, h, v, y, b, C, x, w, N, E, S, k, T, A, _, R, B, D, O, P, L, I, M, F, z = 0, U = [], q = 0, V = zo.decode, H = Dt.makeMap("src,href,data,background,formaction,poster"), j = /((java|vb)script|mhtml):/i, $ = /^data:/i, W = function (e) { var t, n; for (t = U.length; t-- && U[t].name !== e;); if (t >= 0) { for (n = U.length - 1; n >= t; n--)(e = U[n]).valid && u(e.name); U.length = t } }, K = function (t, n, r, o, i) { var a, u; if (r = (n = n.toLowerCase()) in C ? n : V(r || o || i || ""), w && !v && !1 === Tg(n)) { if (!(a = T[n]) && A) { for (u = A.length; u-- && !(a = A[u]).pattern.test(n);); -1 === u && (a = null) } if (!a) return; if (a.validValues && !(r in a.validValues)) return } if (H[n] && !e.allow_script_urls) { var s = r.replace(/[\s\u0000-\u001F]+/g, ""); try { s = decodeURIComponent(s) } catch (c) { s = unescape(s) } if (j.test(s)) return; if (!e.allow_html_data_urls && $.test(s) && !/^data:image\//i.test(s)) return } v && (n in H || 0 === n.indexOf("on")) || (m.map[n] = r, m.push({ name: n, value: r })) }; for (P = new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), L = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, b = t.getShortEndedElements(), O = e.self_closing_elements || t.getSelfClosingElements(), C = t.getBoolAttrs(), w = e.validate, y = e.remove_internals, F = e.fix_self_closing, I = t.getSpecialElements(), D = n + ">"; l = P.exec(D);) { if (z < l.index && i(V(n.substr(z, l.index - z))), f = l[6]) ":" === (f = f.toLowerCase()).charAt(0) && (f = f.substr(1)), W(f); else if (f = l[7]) { if (l.index + l[0].length > n.length) { i(V(n.substr(l.index))), z = l.index + l[0].length; continue } if (":" === (f = f.toLowerCase()).charAt(0) && (f = f.substr(1)), x = f in b, F && O[f] && U.length > 0 && U[U.length - 1].name === f && W(f), !w || (N = t.getElementRule(f))) { if (E = !0, w && (T = N.attributes, A = N.attributePatterns), (k = l[8]) ? ((v = -1 !== k.indexOf("data-mce-type")) && y && (E = !1), (m = []).map = {}, k.replace(L, K)) : (m = []).map = {}, w && !v) { if (_ = N.attributesRequired, R = N.attributesDefault, B = N.attributesForced, N.removeEmptyAttrs && !m.length && (E = !1), B) for (p = B.length; p--;)h = (S = B[p]).name, "{$uid}" === (M = S.value) && (M = "mce_" + q++), m.map[h] = M, m.push({ name: h, value: M }); if (R) for (p = R.length; p--;)(h = (S = R[p]).name) in m.map || ("{$uid}" === (M = S.value) && (M = "mce_" + q++), m.map[h] = M, m.push({ name: h, value: M })); if (_) { for (p = _.length; p-- && !(_[p] in m.map);); -1 === p && (E = !1) } if (S = m.map["data-mce-bogus"]) { if ("all" === S) { z = _g(t, n, P.lastIndex), P.lastIndex = z; continue } E = !1 } } E && a(f, m, x) } else E = !1; if (d = I[f]) { d.lastIndex = z = l.index + l[0].length, (l = d.exec(n)) ? (E && (g = n.substr(z, l.index - z)), z = l.index + l[0].length) : (g = n.substr(z), z = n.length), E && (g.length > 0 && i(g, !0), u(f)), P.lastIndex = z; continue } x || (k && k.indexOf("/") === k.length - 1 ? E && u(f) : U.push({ name: f, valid: E })) } else (f = l[1]) ? (">" === f.charAt(0) && (f = " " + f), e.allow_conditional_comments || "[if" !== f.substr(0, 3).toLowerCase() || (f = " " + f), r(f)) : (f = l[2]) ? o(Ag(f)) : (f = l[3]) ? c(f) : (f = l[4]) && s(f, l[5]); z = l.index + l[0].length } for (z < n.length && i(V(n.substr(z))), p = U.length - 1; p >= 0; p--)(f = U[p]).valid && u(f.name) } } } (Rg || (Rg = {})).findEndTag = _g; var Bg = Rg, Dg = function (e, t) { var n, r, o, i, a, u, s, c, l = t, f = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g, d = e.schema; for (u = e.getTempAttrs(), s = l, c = new RegExp(["\\s?(" + u.join("|") + ')="[^"]+"'].join("|"), "gi"), l = s.replace(c, ""), a = d.getShortEndedElements(); i = f.exec(l);)r = f.lastIndex, o = i[0].length, n = a[i[1]] ? r : Bg.findEndTag(d, l, r), l = l.substring(0, r - o) + l.substring(n), f.lastIndex = r - o; return l }, Og = function (e, t) { return bi(Dg(e, t)) }, Pg = Dg, Lg = 0, Ig = 2, Mg = 1, Fg = function (e, t) { var n = e.length + t.length + 2, r = new Array(n), o = new Array(n), i = function (n, r, o, a, s) { var c = u(n, r, o, a); if (null === c || c.start === r && c.diag === r - a || c.end === n && c.diag === n - o) for (var l = n, f = o; l < r || f < a;)l < r && f < a && e[l] === t[f] ? (s.push([0, e[l]]), ++l, ++f) : r - n > a - o ? (s.push([2, e[l]]), ++l) : (s.push([1, t[f]]), ++f); else { i(n, c.start, o, c.start - c.diag, s); for (var d = c.start; d < c.end; ++d)s.push([0, e[d]]); i(c.end, r, c.end - c.diag, a, s) } }, a = function (n, r, o, i) { for (var a = n; a - r < i && a < o && e[a] === t[a - r];)++a; return { start: n, end: a, diag: r } }, u = function (n, i, u, s) { var c = i - n, l = s - u; if (0 === c || 0 === l) return null; var f, d, m, p, g, h = c - l, v = l + c, y = (v % 2 == 0 ? v : v + 1) / 2; for (r[1 + y] = n, o[1 + y] = i + 1, f = 0; f <= y; ++f) { for (d = -f; d <= f; d += 2) { for (m = d + y, d === -f || d !== f && r[m - 1] < r[m + 1] ? r[m] = r[m + 1] : r[m] = r[m - 1] + 1, g = (p = r[m]) - n + u - d; p < i && g < s && e[p] === t[g];)r[m] = ++p, ++g; if (h % 2 != 0 && h - f <= d && d <= h + f && o[m - h] <= r[m]) return a(o[m - h], d + n - u, i, s) } for (d = h - f; d <= h + f; d += 2) { for (m = d + y - h, d === h - f || d !== h + f && o[m + 1] <= o[m - 1] ? o[m] = o[m + 1] - 1 : o[m] = o[m - 1], g = (p = o[m] - 1) - n + u - d; p >= n && g >= u && e[p] === t[g];)o[m] = p--, g--; if (h % 2 == 0 && -f <= d && d <= f && o[m] <= r[m + h]) return a(o[m], d + n - u, i, s) } } }, s = []; return i(0, e.length, 0, t.length, s), s }, zg = function (e) { return 1 === e.nodeType ? e.outerHTML : 3 === e.nodeType ? zo.encodeRaw(e.data, !1) : 8 === e.nodeType ? "\x3c!--" + e.data + "--\x3e" : "" }, Ug = function (e, t, n) { var r = function (e) { var t, n, r; for (r = document.createElement("div"), t = document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;)t.appendChild(n); return t }(t); if (e.hasChildNodes() && n < e.childNodes.length) { var o = e.childNodes[n]; o.parentNode.insertBefore(r, o) } else e.appendChild(r) }, qg = function (e) { return Tt.filter(Tt.map(e.childNodes, zg), function (e) { return e.length > 0 }) }, Vg = function (e, t) { var n, r, o, i = Tt.map(t.childNodes, zg); return n = Fg(i, e), r = t, o = 0, Tt.each(n, function (e) { e[0] === Lg ? o++ : e[0] === Mg ? (Ug(r, e[1], o), o++) : e[0] === Ig && function (e, t) { if (e.hasChildNodes() && t < e.childNodes.length) { var n = e.childNodes[t]; n.parentNode.removeChild(n) } }(r, o) }), t }, Hg = function (e) { return { type: "fragmented", fragments: e, content: "", bookmark: null, beforeBookmark: null } }, jg = function (e) { return { type: "complete", fragments: null, content: e, bookmark: null, beforeBookmark: null } }, $g = function (e) { return "fragmented" === e.type ? e.fragments.join("") : e.content }, Wg = { createFragmentedLevel: Hg, createCompleteLevel: jg, createFromEditor: function (e) { var t, n, r; return t = qg(e.getBody()), -1 !== (n = (r = M.bind(t, function (t) { var n = Pg(e.serializer, t); return n.length > 0 ? [n] : [] })).join("")).indexOf("</iframe>") ? Hg(r) : jg(n) }, applyToEditor: function (e, t, n) { "fragmented" === t.type ? Vg(t.fragments, e.getBody()) : e.setContent(t.content, { format: "raw" }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark) }, isEq: function (e, t) { return !!e && !!t && $g(e) === $g(t) } }; function Kg(e) { var t, n, r = this, o = 0, i = [], a = 0, u = function () { return 0 === a }, s = function (e) { u() && (r.typing = e) }, c = function (t) { e.setDirty(t) }, l = function (e) { s(!1), r.add({}, e) }, f = function () { r.typing && (s(!1), r.add()) }; return e.on("init", function () { r.add() }), e.on("BeforeExecCommand", function (e) { var t = e.command; "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (f(), r.beforeChange()) }), e.on("ExecCommand", function (e) { var t = e.command; "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && l(e) }), e.on("ObjectResizeStart Cut", function () { r.beforeChange() }), e.on("SaveContent ObjectResized blur", l), e.on("DragEnd", l), e.on("KeyUp", function (t) { var o = t.keyCode; t.isDefaultPrevented() || ((o >= 33 && o <= 36 || o >= 37 && o <= 40 || 45 === o || t.ctrlKey) && (l(), e.nodeChanged()), 46 !== o && 8 !== o || e.nodeChanged(), n && r.typing && !1 === Wg.isEq(Wg.createFromEditor(e), i[0]) && (!1 === e.isDirty() && (c(!0), e.fire("change", { level: i[0], lastLevel: null })), e.fire("TypingUndo"), n = !1, e.nodeChanged())) }), e.on("KeyDown", function (e) { var t = e.keyCode; if (!e.isDefaultPrevented()) if (t >= 33 && t <= 36 || t >= 37 && t <= 40 || 45 === t) r.typing && l(e); else { var o = e.ctrlKey && !e.altKey || e.metaKey; !(t < 16 || t > 20) || 224 === t || 91 === t || r.typing || o || (r.beforeChange(), s(!0), r.add({}, e), n = !0) } }), e.on("MouseDown", function (e) { r.typing && l(e) }), e.on("input", function (e) { var t; e.inputType && ("insertReplacementText" === e.inputType || "insertText" === (t = e).inputType && null === t.data) && l(e) }), e.addShortcut("meta+z", "", "Undo"), e.addShortcut("meta+y,meta+shift+z", "", "Redo"), e.on("AddUndo Undo Redo ClearUndos", function (t) { t.isDefaultPrevented() || e.nodeChanged() }), r = { data: i, typing: !1, beforeChange: function () { u() && (t = Ms.getUndoBookmark(e.selection)) }, add: function (n, r) { var a, s, l, f = e.settings; if (l = Wg.createFromEditor(e), n = n || {}, n = Dt.extend(n, l), !1 === u() || e.removed) return null; if (s = i[o], e.fire("BeforeAddUndo", { level: n, lastLevel: s, originalEvent: r }).isDefaultPrevented()) return null; if (s && Wg.isEq(s, n)) return null; if (i[o] && (i[o].beforeBookmark = t), f.custom_undo_redo_levels && i.length > f.custom_undo_redo_levels) { for (a = 0; a < i.length - 1; a++)i[a] = i[a + 1]; i.length--, o = i.length } n.bookmark = Ms.getUndoBookmark(e.selection), o < i.length - 1 && (i.length = o + 1), i.push(n), o = i.length - 1; var d = { level: n, lastLevel: s, originalEvent: r }; return e.fire("AddUndo", d), o > 0 && (c(!0), e.fire("change", d)), n }, undo: function () { var t; return r.typing && (r.add(), r.typing = !1, s(!1)), o > 0 && (t = i[--o], Wg.applyToEditor(e, t, !0), c(!0), e.fire("undo", { level: t })), t }, redo: function () { var t; return o < i.length - 1 && (t = i[++o], Wg.applyToEditor(e, t, !1), c(!0), e.fire("redo", { level: t })), t }, clear: function () { i = [], o = 0, r.typing = !1, r.data = i, e.fire("ClearUndos") }, hasUndo: function () { return o > 0 || r.typing && i[0] && !Wg.isEq(Wg.createFromEditor(e), i[0]) }, hasRedo: function () { return o < i.length - 1 && !r.typing }, transact: function (e) { return f(), r.beforeChange(), r.ignore(e), r.add() }, ignore: function (e) { try { a++, e() } finally { a-- } }, extra: function (t, n) { var a, u; r.transact(t) && (u = i[o].bookmark, a = i[o - 1], Wg.applyToEditor(e, a, !0), r.transact(n) && (i[o - 1].beforeBookmark = u)) } } } var Xg, Yg, Gg = {}, Jg = Tt.filter, Qg = Tt.each; Yg = function (e) { var t, n, r = e.selection.getRng(); t = So.matchNodeNames("pre"), r.collapsed || (n = e.selection.getSelectedBlocks(), Qg(Jg(Jg(n, t), function (e) { return t(e.previousSibling) && -1 !== Tt.indexOf(n, e.previousSibling) }), function (e) { var t, n; t = e.previousSibling, Jt(n = e).remove(), Jt(t).append("<br><br>").append(n.childNodes) })) }, Gg[Xg = "pre"] || (Gg[Xg] = []), Gg[Xg].push(Yg); var Zg = function (e, t) { Qg(Gg[e], function (e) { e(t) }) }, eh = Dt.each, th = { walk: function (e, t, n) { var r, o, i, a, u, s, c, l = t.startContainer, f = t.startOffset, d = t.endContainer, m = t.endOffset; if ((c = e.select("td[data-mce-selected],th[data-mce-selected]")).length > 0) eh(c, function (e) { n([e]) }); else { var p, g, h, v = function (e) { var t; return 3 === (t = e[0]).nodeType && t === l && f >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === m && e.length > 0 && t === d && 3 === t.nodeType && e.splice(e.length - 1, 1), e }, y = function (e, t, n) { for (var r = []; e && e !== n; e = e[t])r.push(e); return r }, b = function (e, t) { do { if (e.parentNode === t) return e; e = e.parentNode } while (e) }, C = function (e, t, r) { var o = r ? "nextSibling" : "previousSibling"; for (u = (a = e).parentNode; a && a !== t; a = u)u = a.parentNode, (s = y(a === e ? a : a[o], o)).length && (r || s.reverse(), n(v(s))) }; if (1 === l.nodeType && l.hasChildNodes() && (l = l.childNodes[f]), 1 === d.nodeType && d.hasChildNodes() && (g = m, h = (p = d).childNodes, --g > h.length - 1 ? g = h.length - 1 : g < 0 && (g = 0), d = h[g] || p), l === d) return n(v([l])); for (r = e.findCommonAncestor(l, d), a = l; a; a = a.parentNode) { if (a === d) return C(l, r, !0); if (a === r) break } for (a = d; a; a = a.parentNode) { if (a === l) return C(d, r); if (a === r) break } o = b(l, r) || l, i = b(d, r) || d, C(l, o, !0), (s = y(o === l ? o : o.nextSibling, "nextSibling", i === d ? i.nextSibling : i)).length && n(v(s)), C(d, i) } } }, nh = /^(src|href|style)$/, rh = Dt.each, oh = Vl.isEq, ih = function (e) { return /^(TH|TD)$/.test(e.nodeName) }, ah = function (e, t, n) { var r, o, i; return r = t[n ? "startContainer" : "endContainer"], o = t[n ? "startOffset" : "endOffset"], So.isElement(r) && (i = r.childNodes.length - 1, !n && o && o--, r = r.childNodes[o > i ? i : o]), So.isText(r) && n && o >= r.nodeValue.length && (r = new Zr(r, e.getBody()).next() || r), So.isText(r) && !n && 0 === o && (r = new Zr(r, e.getBody()).prev() || r), r }, uh = function (e, t, n, r) { var o = e.create(n, r); return t.parentNode.insertBefore(o, t), o.appendChild(t), o }, sh = function (e, t, n, r) { return !(t = Vl.getNonWhiteSpaceSibling(t, n, r)) || "BR" === t.nodeName || e.isBlock(t) }, ch = function (e, t, n, r, o) { var i, a, u, s, c, l, f, d, m, p, g, h, v, y, b = e.dom; if (c = b, !(oh(l = r, (f = t).inline) || oh(l, f.block) || (f.selector ? So.isElement(l) && c.is(l, f.selector) : void 0) || (s = r, t.links && "A" === s.tagName))) return !1; if ("all" !== t.remove) for (rh(t.styles, function (e, i) { e = Vl.normalizeStyleValue(b, Vl.replaceVars(e, n), i), "number" == typeof i && (i = e, o = 0), (t.remove_similar || !o || oh(Vl.getStyle(b, o, i), e)) && b.setStyle(r, i, ""), u = 1 }), u && "" === b.getAttrib(r, "style") && (r.removeAttribute("style"), r.removeAttribute("data-mce-style")), rh(t.attributes, function (e, t) { var i; if (e = Vl.replaceVars(e, n), "number" == typeof t && (t = e, o = 0), !o || oh(b.getAttrib(o, t), e)) { if ("class" === t && (e = b.getAttrib(r, t)) && (i = "", rh(e.split(/\s+/), function (e) { /mce\-\w+/.test(e) && (i += (i ? " " : "") + e) }), i)) return void b.setAttrib(r, t, i); "class" === t && r.removeAttribute("className"), nh.test(t) && r.removeAttribute("data-mce-" + t), r.removeAttribute(t) } }), rh(t.classes, function (e) { e = Vl.replaceVars(e, n), o && !b.hasClass(o, e) || b.removeClass(r, e) }), a = b.getAttribs(r), i = 0; i < a.length; i++) { var C = a[i].nodeName; if (0 !== C.indexOf("_") && 0 !== C.indexOf("data-")) return !1 } return "none" !== t.remove ? (d = e, p = t, h = (m = r).parentNode, v = d.dom, y = d.settings.forced_root_block, p.block && (y ? h === v.getRoot() && (p.list_block && oh(m, p.list_block) || rh(Dt.grep(m.childNodes), function (e) { Vl.isValid(d, y, e.nodeName.toLowerCase()) ? g ? g.appendChild(e) : (g = uh(v, e, y), v.setAttribs(g, d.settings.forced_root_block_attrs)) : g = 0 })) : v.isBlock(m) && !v.isBlock(h) && (sh(v, m, !1) || sh(v, m.firstChild, !0, 1) || m.insertBefore(v.create("br"), m.firstChild), sh(v, m, !0) || sh(v, m.lastChild, !1, 1) || m.appendChild(v.create("br")))), p.selector && p.inline && !oh(p.inline, m) || v.remove(m, 1), !0) : void 0 }, lh = { removeFormat: ch, remove: function (e, t, n, r, o) { var i, a, u = e.formatter.get(t), s = u[0], c = !0, l = e.dom, f = e.selection, d = function (r) { var i, a, c, l, f, d, m = (i = e, a = r, c = t, l = n, f = o, rh(Vl.getParents(i.dom, a.parentNode).reverse(), function (e) { var t; d || "_start" === e.id || "_end" === e.id || (t = sf.matchNode(i, e, c, l, f)) && !1 !== t.split && (d = e) }), d); return function (e, t, n, r, o, i, a, u) { var s, c, l, f, d, m, p = e.dom; if (n) { for (m = n.parentNode, s = r.parentNode; s && s !== m; s = s.parentNode) { for (c = p.clone(s, !1), d = 0; d < t.length; d++)if (ch(e, t[d], u, c, c)) { c = 0; break } c && (l && c.appendChild(l), f || (f = c), l = c) } !i || a.mixed && p.isBlock(n) || (r = p.split(n, r)), l && (o.parentNode.insertBefore(l, o), f.appendChild(o)) } return r }(e, u, m, r, r, !0, s, n) }, m = function (t) { var r, o, i, a, f; if (So.isElement(t) && l.getContentEditable(t) && (a = c, c = "true" === l.getContentEditable(t), f = !0), r = Dt.grep(t.childNodes), c && !f) for (o = 0, i = u.length; o < i && !ch(e, u[o], n, t, t); o++); if (s.deep && r.length) { for (o = 0, i = r.length; o < i; o++)m(r[o]); f && (c = a) } }, p = function (e) { var t = l.get(e ? "_start" : "_end"), n = t[e ? "firstChild" : "lastChild"]; return Vs.isBookmarkNode(n) && (n = n[e ? "firstChild" : "lastChild"]), So.isText(n) && 0 === n.data.length && (n = e ? t.previousSibling || t.nextSibling : t.nextSibling || t.previousSibling), l.remove(t, !0), n }, g = function (t) { var n, r, o = t.commonAncestorContainer; if (t = ef(e, t, u, !0), s.split) { if ((n = ah(e, t, !0)) !== (r = ah(e, t))) { if (/^(TR|TH|TD)$/.test(n.nodeName) && n.firstChild && (n = "TR" === n.nodeName ? n.firstChild.firstChild || n : n.firstChild || n), o && /^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName) && ih(r) && r.firstChild && (r = r.firstChild || r), l.isChildOf(n, r) && n !== r && !l.isBlock(r) && !ih(n) && !ih(r)) return n = uh(l, n, "span", { id: "_start", "data-mce-type": "bookmark" }), d(n), void (n = p(!0)); n = uh(l, n, "span", { id: "_start", "data-mce-type": "bookmark" }), r = uh(l, r, "span", { id: "_end", "data-mce-type": "bookmark" }), d(n), d(r), n = p(!0), r = p() } else n = r = d(n); t.startContainer = n.parentNode ? n.parentNode : n, t.startOffset = l.nodeIndex(n), t.endContainer = r.parentNode ? r.parentNode : r, t.endOffset = l.nodeIndex(r) + 1 } th.walk(l, t, function (t) { rh(t, function (t) { m(t), So.isElement(t) && "underline" === e.dom.getStyle(t, "text-decoration") && t.parentNode && "underline" === Vl.getTextDecoration(l, t.parentNode) && ch(e, { deep: !1, exact: !0, inline: "span", styles: { textDecoration: "underline" } }, null, t) }) }) }; if (r) r.nodeType ? ((a = l.createRng()).setStartBefore(r), a.setEndAfter(r), g(a)) : g(r); else if ("false" !== l.getContentEditable(f.getNode())) f.isCollapsed() && s.inline && !l.select("td[data-mce-selected],th[data-mce-selected]").length ? Nf.removeCaretFormat(e, t, n, o) : (i = f.getBookmark(), g(f.getRng()), f.moveToBookmark(i), s.inline && sf.match(e, t, n, f.getStart()) && Vl.moveStart(l, f, f.getRng()), e.nodeChanged()); else { r = f.getNode(); for (var h = 0, v = u.length; h < v && (!u[h].ceFalseOverride || !ch(e, u[h], n, r, r)); h++); } } }, fh = Dt.each, dh = function (e) { return e && 1 === e.nodeType && !Vs.isBookmarkNode(e) && !Nf.isCaretNode(e) && !So.isBogus(e) }, mh = function (e, t) { var n; for (n = e; n; n = n[t]) { if (3 === n.nodeType && 0 !== n.nodeValue.length) return e; if (1 === n.nodeType && !Vs.isBookmarkNode(n)) return n } return e }, ph = function (e, t, n) { var r, o, i = new js(e); if (t && n && (t = mh(t, "previousSibling"), n = mh(n, "nextSibling"), i.compare(t, n))) { for (r = t.nextSibling; r && r !== n;)o = r, r = r.nextSibling, t.appendChild(o); return e.remove(n), Dt.each(Dt.grep(n.childNodes), function (e) { t.appendChild(e) }), t } return n }, gh = function (e, t, n) { fh(e.childNodes, function (e) { dh(e) && (t(e) && n(e), e.hasChildNodes() && gh(e, t, n)) }) }, hh = function (e, t) { return y.curry(function (t, n) { return !(!n || !Vl.getStyle(e, n, t)) }, t) }, vh = function (e, t, n) { return y.curry(function (t, n, r) { e.setStyle(r, t, n), "" === r.getAttribute("style") && r.removeAttribute("style"), yh(e, r) }, t, n) }, yh = function (e, t) { "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0) }, bh = function (e, t) { var n; 1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = Vl.getTextDecoration(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null)) }, Ch = function (e, t, n, r) { fh(t, function (t) { fh(e.dom.select(t.inline, r), function (r) { dh(r) && lh.removeFormat(e, t, n, r, t.exact ? r : null) }), function (e, t, n) { if (t.clear_child_styles) { var r = t.links ? "*:not(a)" : "*"; fh(e.select(r, n), function (n) { dh(n) && fh(t.styles, function (t, r) { e.setStyle(n, r, "") }) }) } }(e.dom, t, r) }) }, xh = function (e, t, n, r) { (t.styles.color || t.styles.textDecoration) && (Dt.walk(r, y.curry(bh, e), "childNodes"), bh(e, r)) }, wh = function (e, t, n, r) { t.styles && t.styles.backgroundColor && gh(r, hh(e, "fontSize"), vh(e, "backgroundColor", Vl.replaceVars(t.styles.backgroundColor, n))) }, Nh = function (e, t, n, r) { "sub" !== t.inline && "sup" !== t.inline || (gh(r, hh(e, "fontSize"), vh(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0)) }, Eh = function (e, t, n, r) { r && !1 !== t.merge_siblings && (r = ph(e, Vl.getNonWhiteSpaceSibling(r), r), r = ph(e, r, Vl.getNonWhiteSpaceSibling(r, !0))) }, Sh = function (e, t, n, r, o) { sf.matchNode(e, o.parentNode, n, r) && lh.removeFormat(e, t, r, o) || t.merge_with_parents && e.dom.getParent(o.parentNode, function (i) { if (sf.matchNode(e, i, n, r)) return lh.removeFormat(e, t, r, o), !0 }) }, kh = Dt.each, Th = function (e, t, n, r) { var o, i, a = e.formatter.get(t), u = a[0], s = !r && e.selection.isCollapsed(), c = e.dom, l = e.selection, f = function (e, t) { if (t = t || u, e) { if (t.onformat && t.onformat(e, t, n, r), kh(t.styles, function (t, r) { c.setStyle(e, r, Vl.replaceVars(t, n)) }), t.styles) { var o = c.getAttrib(e, "style"); o && e.setAttribute("data-mce-style", o) } kh(t.attributes, function (t, r) { c.setAttrib(e, r, Vl.replaceVars(t, n)) }), kh(t.classes, function (t) { t = Vl.replaceVars(t, n), c.hasClass(e, t) || c.addClass(e, t) }) } }, d = function (e, t) { var n = !1; return !!u.selector && (kh(e, function (e) { if (!("collapsed" in e && e.collapsed !== s)) return c.is(t, e.selector) && !Nf.isCaretNode(t) ? (f(t, e), n = !0, !1) : void 0 }), n) }, m = function (r, o, i, s) { var c, l, m = [], p = !0; c = u.inline || u.block, l = r.create(c), f(l), th.walk(r, o, function (o) { var i, g = function (o) { var h, v, y, b; if (b = p, h = o.nodeName.toLowerCase(), v = o.parentNode.nodeName.toLowerCase(), 1 === o.nodeType && r.getContentEditable(o) && (b = p, p = "true" === r.getContentEditable(o), y = !0), Vl.isEq(h, "br")) return i = 0, void (u.block && r.remove(o)); if (u.wrapper && sf.matchNode(e, o, t, n)) i = 0; else { if (p && !y && u.block && !u.wrapper && Vl.isTextBlock(e, h) && Vl.isValid(e, v, c)) return o = r.rename(o, c), f(o), m.push(o), void (i = 0); if (u.selector) { var C = d(a, o); if (!u.inline || C) return void (i = 0) } !p || y || !Vl.isValid(e, c, h) || !Vl.isValid(e, v, c) || !s && 3 === o.nodeType && 1 === o.nodeValue.length && 65279 === o.nodeValue.charCodeAt(0) || Nf.isCaretNode(o) || u.inline && r.isBlock(o) ? (i = 0, kh(Dt.grep(o.childNodes), g), y && (p = b), i = 0) : (i || (i = r.clone(l, !1), o.parentNode.insertBefore(i, o), m.push(i)), i.appendChild(o)) } }; kh(o, g) }), !0 === u.links && kh(m, function (e) { var t = function (e) { "A" === e.nodeName && f(e, u), kh(Dt.grep(e.childNodes), t) }; t(e) }), kh(m, function (o) { var i, s, c, l, d, p = function (e) { var t = !1; return kh(e.childNodes, function (e) { if ((n = e) && 1 === n.nodeType && !Vs.isBookmarkNode(n) && !Nf.isCaretNode(n) && !So.isBogus(n)) return t = e, !1; var n }), t }; s = 0, kh(o.childNodes, function (e) { Vl.isWhiteSpaceNode(e) || Vs.isBookmarkNode(e) || s++ }), i = s, !(m.length > 1) && r.isBlock(o) || 0 !== i ? (u.inline || u.wrapper) && (u.exact || 1 !== i || ((l = p(c = o)) && !Vs.isBookmarkNode(l) && sf.matchName(r, l, u) && (d = r.clone(l, !1), f(d), r.replace(d, c, !0), r.remove(l, 1)), o = d || c), Ch(e, a, n, o), Sh(e, u, t, n, o), wh(r, u, n, o), Nh(r, u, n, o), Eh(r, u, n, o)) : r.remove(o, 1) }) }; if ("false" !== c.getContentEditable(l.getNode())) { if (u) { if (r) r.nodeType ? d(a, r) || ((i = c.createRng()).setStartBefore(r), i.setEndAfter(r), m(c, ef(e, i, a), 0, !0)) : m(c, r, 0, !0); else if (s && u.inline && !c.select("td[data-mce-selected],th[data-mce-selected]").length) Nf.applyCaretFormat(e, t, n); else { var p = e.selection.getNode(); e.settings.forced_root_block || !a[0].defaultBlock || c.getParent(p, c.isBlock) || Th(e, a[0].defaultBlock), e.selection.setRng(uc(e.selection.getRng())), o = l.getBookmark(), m(c, ef(e, l.getRng(), a)), u.styles && xh(c, u, n, p), l.moveToBookmark(o), Vl.moveStart(c, l, l.getRng()), e.nodeChanged() } Zg(t, e) } } else { r = l.getNode(); for (var g = 0, h = a.length; g < h; g++)if (a[g].ceFalseOverride && c.is(r, a[g].selector)) return void f(r, a[g]) } }, Ah = { applyFormat: Th }, _h = Dt.each, Rh = { formatChanged: function (e, t, n, r, o) { var i, a, u, s, c, l, f, d; null === t.get() && (a = e, u = {}, (i = t).set({}), a.on("NodeChange", function (e) { var t = Vl.getParents(a.dom, e.element), n = {}; t = Dt.grep(t, function (e) { return 1 === e.nodeType && !e.getAttribute("data-mce-bogus") }), _h(i.get(), function (e, r) { _h(t, function (o) { return a.formatter.matchNode(o, r, {}, e.similar) ? (u[r] || (_h(e, function (e) { e(!0, { node: o, format: r, parents: t }) }), u[r] = e), n[r] = e, !1) : !sf.matchesUnInheritedFormatSelector(a, o, r) && void 0 }) }), _h(u, function (r, o) { n[o] || (delete u[o], _h(r, function (n) { n(!1, { node: e.element, format: o, parents: t }) })) }) })), c = n, l = r, f = o, d = (s = t).get(), _h(c.split(","), function (e) { d[e] || (d[e] = [], d[e].similar = f), d[e].push(l) }), s.set(d) } }, Bh = { get: function (e) { var t = { valigntop: [{ selector: "td,th", styles: { verticalAlign: "top" } }], valignmiddle: [{ selector: "td,th", styles: { verticalAlign: "middle" } }], valignbottom: [{ selector: "td,th", styles: { verticalAlign: "bottom" } }], alignleft: [{ selector: "figure.image", collapsed: !1, classes: "align-left", ceFalseOverride: !0, preview: "font-family font-size" }, { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "left" }, inherit: !1, preview: !1, defaultBlock: "div" }, { selector: "img,table", collapsed: !1, styles: { "float": "left" }, preview: "font-family font-size" }], aligncenter: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "center" }, inherit: !1, preview: "font-family font-size", defaultBlock: "div" }, { selector: "figure.image", collapsed: !1, classes: "align-center", ceFalseOverride: !0, preview: "font-family font-size" }, { selector: "img", collapsed: !1, styles: { display: "block", marginLeft: "auto", marginRight: "auto" }, preview: !1 }, { selector: "table", collapsed: !1, styles: { marginLeft: "auto", marginRight: "auto" }, preview: "font-family font-size" }], alignright: [{ selector: "figure.image", collapsed: !1, classes: "align-right", ceFalseOverride: !0, preview: "font-family font-size" }, { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "right" }, inherit: !1, preview: "font-family font-size", defaultBlock: "div" }, { selector: "img,table", collapsed: !1, styles: { "float": "right" }, preview: "font-family font-size" }], alignjustify: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "justify" }, inherit: !1, defaultBlock: "div", preview: "font-family font-size" }], bold: [{ inline: "strong", remove: "all" }, { inline: "span", styles: { fontWeight: "bold" } }, { inline: "b", remove: "all" }], italic: [{ inline: "em", remove: "all" }, { inline: "span", styles: { fontStyle: "italic" } }, { inline: "i", remove: "all" }], underline: [{ inline: "span", styles: { textDecoration: "underline" }, exact: !0 }, { inline: "u", remove: "all" }], strikethrough: [{ inline: "span", styles: { textDecoration: "line-through" }, exact: !0 }, { inline: "strike", remove: "all" }], forecolor: { inline: "span", styles: { color: "%value" }, links: !0, remove_similar: !0, clear_child_styles: !0 }, hilitecolor: { inline: "span", styles: { backgroundColor: "%value" }, links: !0, remove_similar: !0, clear_child_styles: !0 }, fontname: { inline: "span", toggle: !1, styles: { fontFamily: "%value" }, clear_child_styles: !0 }, fontsize: { inline: "span", toggle: !1, styles: { fontSize: "%value" }, clear_child_styles: !0 }, fontsize_class: { inline: "span", attributes: { "class": "%value" } }, blockquote: { block: "blockquote", wrapper: 1, remove: "all" }, subscript: { inline: "sub" }, superscript: { inline: "sup" }, code: { inline: "code" }, link: { inline: "a", selector: "a", remove: "all", split: !0, deep: !0, onmatch: function () { return !0 }, onformat: function (t, n, r) { Dt.each(r, function (n, r) { e.setAttrib(t, r, n) }) } }, removeformat: [{ selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins", remove: "all", split: !0, expand: !1, block_expand: !0, deep: !0 }, { selector: "span", attributes: ["style", "class"], remove: "empty", split: !0, expand: !1, deep: !0 }, { selector: "*", attributes: ["style", "class"], split: !1, expand: !1, deep: !0 }] }; return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function (e) { t[e] = { block: e, remove: "all" } }), t } }, Dh = Dt.each, Oh = ui.DOM, Ph = function (e, t) { var n, r, o, i = t && t.schema || Go({}), a = function (e) { var t, n, o; return r = "string" == typeof e ? { name: e, classes: [], attrs: {} } : e, t = Oh.create(r.name), n = t, (o = r).classes.length && Oh.addClass(n, o.classes.join(" ")), Oh.setAttribs(n, o.attrs), t }, u = function (e, t, n) { var r, o, s, c, l, f, d, m, p = t.length > 0 && t[0], g = p && p.name; if (l = g, f = "string" != typeof (c = e) ? c.nodeName.toLowerCase() : c, d = i.getElementRule(f), s = !(!(m = d && d.parentsRequired) || !m.length) && (l && -1 !== Dt.inArray(m, l) ? l : m[0])) g === s ? (o = t[0], t = t.slice(1)) : o = s; else if (p) o = t[0], t = t.slice(1); else if (!n) return e; return o && (r = a(o)).appendChild(e), n && (r || (r = Oh.create("div")).appendChild(e), Dt.each(n, function (t) { var n = a(t); r.insertBefore(n, e) })), u(r, t, o && o.siblings) }; return e && e.length ? (r = e[0], n = a(r), (o = Oh.create("div")).appendChild(u(n, e.slice(1), r.siblings)), o) : "" }, Lh = function (e) { var t, n = { classes: [], attrs: {} }; return "*" !== (e = n.selector = Dt.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function (e, t, r, o, i) { switch (t) { case "#": n.attrs.id = r; break; case ".": n.classes.push(r); break; case ":": -1 !== Dt.inArray("checked disabled enabled read-only required".split(" "), r) && (n.attrs[r] = r) }if ("[" === o) { var a = i.match(/([\w\-]+)(?:\=\"([^\"]+))?/); a && (n.attrs[a[1]] = a[2]) } return "" })), n.name = t || "div", n }, Ih = function (e) { return e && "string" == typeof e ? (e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function (e) { var t = Dt.map(e.split(/(?:~\+|~|\+)/), Lh), n = t.pop(); return t.length && (n.siblings = t), n }).reverse()) : [] }, Mh = { getCssText: function (e, t) { var n, r, o, i, a, u, s = ""; if (!1 === (u = e.settings.preview_styles)) return ""; "string" != typeof u && (u = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"); var c = function (e) { return e.replace(/%(\w+)/g, "") }; if ("string" == typeof t) { if (!(t = e.formatter.get(t))) return; t = t[0] } return "preview" in t && !1 === (u = t.preview) ? "" : (n = t.block || t.inline || "span", (i = Ih(t.selector)).length ? (i[0].name || (i[0].name = n), n = t.selector, r = Ph(i, e)) : r = Ph([n], e), o = Oh.select(n, r)[0] || r.firstChild, Dh(t.styles, function (e, t) { (e = c(e)) && Oh.setStyle(o, t, e) }), Dh(t.attributes, function (e, t) { (e = c(e)) && Oh.setAttrib(o, t, e) }), Dh(t.classes, function (e) { e = c(e), Oh.hasClass(o, e) || Oh.addClass(o, e) }), e.fire("PreviewFormats"), Oh.setStyles(r, { position: "absolute", left: -65535 }), e.getBody().appendChild(r), a = Oh.getStyle(e.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, Dh(u.split(" "), function (t) { var n = Oh.getStyle(o, t, !0); if (!("background-color" === t && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) && (n = Oh.getStyle(e.getBody(), t, !0), "#ffffff" === Oh.toHex(n).toLowerCase()) || "color" === t && "#000000" === Oh.toHex(n).toLowerCase())) { if ("font-size" === t && /em|%$/.test(n)) { if (0 === a) return; n = (n = parseFloat(n) / (/%$/.test(n) ? 100 : 1)) * a + "px" } "border" === t && n && (s += "padding:0 2px;"), s += t + ":" + n + ";" } }), e.fire("AfterPreviewFormats"), Oh.remove(r), s) }, parseSelector: Ih, selectorToHtml: function (e, t) { return Ph(Ih(e), t) } }, Fh = { toggle: function (e, t, n, r, o) { var i = t.get(n); !sf.match(e, n, r, o) || "toggle" in i[0] && !i[0].toggle ? Ah.applyFormat(e, n, r, o) : lh.remove(e, n, r, o) } }, zh = { setup: function (e) { e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline"); for (var t = 1; t <= 6; t++)e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]); e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]) } }; function Uh(e) { var t, n, r, o = (t = e, n = {}, (r = function (e, t) { e && ("string" != typeof e ? Dt.each(e, function (e, t) { r(t, e) }) : (t = t.length ? t : [t], Dt.each(t, function (e) { "undefined" == typeof e.deep && (e.deep = !e.selector), "undefined" == typeof e.split && (e.split = !e.selector || e.inline), "undefined" == typeof e.remove && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/)) }), n[e] = t)) })(Bh.get(t.dom)), r(t.settings.formats), { get: function (e) { return e ? n[e] : n }, register: r, unregister: function (e) { return e && n[e] && delete n[e], n } }), i = Wf(null); return zh.setup(e), Nf.setup(e), { get: o.get, register: o.register, unregister: o.unregister, apply: y.curry(Ah.applyFormat, e), remove: y.curry(lh.remove, e), toggle: y.curry(Fh.toggle, e, o), match: y.curry(sf.match, e), matchAll: y.curry(sf.matchAll, e), matchNode: y.curry(sf.matchNode, e), canApply: y.curry(sf.canApply, e), formatChanged: y.curry(Rh.formatChanged, e, i), getCssText: y.curry(Mh.getCssText, e) } } var qh = function (e) { return function () { for (var t = new Array(arguments.length), n = 0; n < t.length; n++)t[n] = arguments[n]; if (0 === t.length) throw new Error("Can't merge zero objects"); for (var r = {}, o = 0; o < t.length; o++) { var i = t[o]; for (var a in i) i.hasOwnProperty(a) && (r[a] = e(r[a], i[a])) } return r } }, Vh = qh(function (e, t) { return Jn.isObject(e) && Jn.isObject(t) ? Vh(e, t) : t }), Hh = qh(function (e, t) { return t }), jh = { deepMerge: Vh, merge: Hh }, $h = function (e, t) { return e.fire("PreProcess", t) }, Wh = function (e, t) { return e.fire("PostProcess", t) }, Kh = function (e) { return e.fire("remove") }, Xh = { register: function (e, t, n) { e.addAttributeFilter("data-mce-tabindex", function (e, t) { for (var n, r = e.length; r--;)(n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]), n.attr(t, null) }), e.addAttributeFilter("src,href,style", function (e, r) { for (var o, i, a = e.length, u = "data-mce-" + r, s = t.url_converter, c = t.url_converter_scope; a--;)(i = (o = e[a]).attributes.map[u]) !== undefined ? (o.attr(r, i.length > 0 ? i : null), o.attr(u, null)) : (i = o.attributes.map[r], "style" === r ? i = n.serializeStyle(n.parseStyle(i), o.name) : s && (i = s.call(c, i, r, o.name)), o.attr(r, i.length > 0 ? i : null)) }), e.addAttributeFilter("class", function (e) { for (var t, n, r = e.length; r--;)(n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", n.length > 0 ? n : null)) }), e.addAttributeFilter("data-mce-type", function (e, t, n) { for (var r, o = e.length; o--;)"bookmark" !== (r = e[o]).attributes.map["data-mce-type"] || n.cleanup || r.remove() }), e.addNodeFilter("noscript", function (e) { for (var t, n = e.length; n--;)(t = e[n].firstChild) && (t.value = zo.decode(t.value)) }), e.addNodeFilter("script,style", function (e, n) { for (var r, o, i, a = e.length, u = function (e) { return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "") }; a--;)o = (r = e[a]).firstChild ? r.firstChild.value : "", "script" === n ? ((i = r.attr("type")) && r.attr("type", "mce-no/type" === i ? null : i.replace(/^mce\-/, "")), "xhtml" === t.element_format && o.length > 0 && (r.firstChild.value = "// <![CDATA[\n" + u(o) + "\n// ]]>")) : "xhtml" === t.element_format && o.length > 0 && (r.firstChild.value = "\x3c!--\n" + u(o) + "\n--\x3e") }), e.addNodeFilter("#comment", function (e) { for (var t, n = e.length; n--;)0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14)) }), e.addNodeFilter("xml:namespace,input", function (e, t) { for (var n, r = e.length; r--;)7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text")) }), e.addAttributeFilter("data-mce-type", function (t) { M.each(t, function (t) { "format-caret" === t.attr("data-mce-type") && (t.isEmpty(e.schema.getNonEmptyElements()) ? t.remove() : t.unwrap()) }) }), e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function (e, t) { for (var n = e.length; n--;)e[n].attr(t, null) }) }, trimTrailingBr: function (e) { var t, n, r = function (e) { return e && "br" === e.name }; r(t = e.lastChild) && r(n = t.prev) && (t.remove(), n.remove()) } }, Yh = { process: function (e, t, n) { return f = n, (l = e) && l.hasEventListeners("PreProcess") && !f.no_events ? (o = t, i = n, c = (r = e).dom, o = o.cloneNode(!0), (a = document.implementation).createHTMLDocument && (u = a.createHTMLDocument(""), Dt.each("BODY" === o.nodeName ? o.childNodes : [o], function (e) { u.body.appendChild(u.importNode(e, !0)) }), o = "BODY" !== o.nodeName ? u.body.firstChild : u.body, s = c.doc, c.doc = u), $h(r, jh.merge(i, { node: o })), s && (c.doc = s), o) : t; var r, o, i, a, u, s, c, l, f } }, Gh = function (e, t, n) { e.addNodeFilter("font", function (e) { M.each(e, function (e) { var r, o, i = t.parse(e.attr("style")), a = e.attr("color"), u = e.attr("face"), s = e.attr("size"); a && (i.color = a), u && (i["font-family"] = u), s && (i["font-size"] = n[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", t.serialize(i)), r = e, o = ["color", "face", "size"], M.each(o, function (e) { r.attr(e, null) }) }) }) }, Jh = function (e, t) { var n, r = Qo(); t.convert_fonts_to_spans && Gh(e, r, Dt.explode(t.font_size_legacy_values)), n = r, e.addNodeFilter("strike", function (e) { M.each(e, function (e) { var t = n.parse(e.attr("style")); t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t)) }) }) }, Qh = { register: function (e, t) { t.inline_styles && Jh(e, t) } }, Zh = /^[ \t\r\n]*$/, ev = { "#text": 3, "#comment": 8, "#cdata": 4, "#pi": 7, "#doctype": 10, "#document-fragment": 11 }, tv = function (e, t, n) { var r, o, i = n ? "lastChild" : "firstChild", a = n ? "prev" : "next"; if (e[i]) return e[i]; if (e !== t) { if (r = e[a]) return r; for (o = e.parent; o && o !== t; o = o.parent)if (r = o[a]) return r } }, nv = function () { function e(e, t) { this.name = e, this.type = t, 1 === t && (this.attributes = [], this.attributes.map = {}) } return e.create = function (t, n) { var r, o; if (r = new e(t, ev[t] || 1), n) for (o in n) r.attr(o, n[o]); return r }, e.prototype.replace = function (e) { return e.parent && e.remove(), this.insert(e, this), this.remove(), this }, e.prototype.attr = function (e, t) { var n, r; if ("string" != typeof e) { for (r in e) this.attr(r, e[r]); return this } if (n = this.attributes) { if (t !== undefined) { if (null === t) { if (e in n.map) for (delete n.map[e], r = n.length; r--;)if (n[r].name === e) return n = n.splice(r, 1), this; return this } if (e in n.map) { for (r = n.length; r--;)if (n[r].name === e) { n[r].value = t; break } } else n.push({ name: e, value: t }); return n.map[e] = t, this } return n.map[e] } }, e.prototype.clone = function () { var t, n, r, o, i, a = new e(this.name, this.type); if (r = this.attributes) { for ((i = []).map = {}, t = 0, n = r.length; t < n; t++)"id" !== (o = r[t]).name && (i[i.length] = { name: o.name, value: o.value }, i.map[o.name] = o.value); a.attributes = i } return a.value = this.value, a.shortEnded = this.shortEnded, a }, e.prototype.wrap = function (e) { return this.parent.insert(e, this), e.append(this), this }, e.prototype.unwrap = function () { var e, t; for (e = this.firstChild; e;)t = e.next, this.insert(e, this, !0), e = t; this.remove() }, e.prototype.remove = function () { var e = this.parent, t = this.next, n = this.prev; return e && (e.firstChild === this ? (e.firstChild = t, t && (t.prev = null)) : n.next = t, e.lastChild === this ? (e.lastChild = n, n && (n.next = null)) : t.prev = n, this.parent = this.next = this.prev = null), this }, e.prototype.append = function (e) { var t; return e.parent && e.remove(), (t = this.lastChild) ? (t.next = e, e.prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e }, e.prototype.insert = function (e, t, n) { var r; return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, e.next = t, t.prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, e.prev = t, t.next = e), e.parent = r, e }, e.prototype.getAll = function (e) { var t, n = []; for (t = this.firstChild; t; t = tv(t, this))t.name === e && n.push(t); return n }, e.prototype.empty = function () { var e, t, n; if (this.firstChild) { for (e = [], n = this.firstChild; n; n = tv(n, this))e.push(n); for (t = e.length; t--;)(n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null } return this.firstChild = this.lastChild = null, this }, e.prototype.isEmpty = function (e, t, n) { var r, o, i = this.firstChild; if (t = t || {}, i) do { if (1 === i.type) { if (i.attributes.map["data-mce-bogus"]) continue; if (e[i.name]) return !1; for (r = i.attributes.length; r--;)if ("name" === (o = i.attributes[r].name) || 0 === o.indexOf("data-mce-bookmark")) return !1 } if (8 === i.type) return !1; if (3 === i.type && !Zh.test(i.value)) return !1; if (3 === i.type && i.parent && t[i.parent.name] && Zh.test(i.value)) return !1; if (n && n(i)) return !1 } while (i = tv(i, this)); return !0 }, e.prototype.walk = function (e) { return tv(this, null, e) }, e }(), rv = function (e, t, n, r) { (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new nv("br", 1)).shortEnded = !0 : r.empty().append(new nv("#text", 3)).value = "\xa0" }, ov = function (e) { return iv(e, "#text") && "\xa0" === e.firstChild.value }, iv = function (e, t) { return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t }, av = function (e, t, n, r) { return r.isEmpty(t, n, function (t) { return n = t, (r = e.getElementRule(n.name)) && r.paddEmpty; var n, r }) }, uv = function (e, t) { return e && (t[e.name] || "br" === e.name) }, sv = function (e, t) { var n = e.schema; t.remove_trailing_brs && e.addNodeFilter("br", function (e, r, o) { var i, a, u, s, c, l, f, d, m = e.length, p = Dt.extend({}, n.getBlockElements()), g = n.getNonEmptyElements(), h = n.getNonEmptyElements(); for (p.body = 1, i = 0; i < m; i++)if (u = (a = e[i]).parent, p[a.parent.name] && a === u.lastChild) { for (c = a.prev; c;) { if ("span" !== (l = c.name) || "bookmark" !== c.attr("data-mce-type")) { if ("br" !== l) break; if ("br" === l) { a = null; break } } c = c.prev } a && (a.remove(), av(n, g, h, u) && (f = n.getElementRule(u.name)) && (f.removeEmpty ? u.remove() : f.paddEmpty && rv(t, o, p, u))) } else { for (s = a; u && u.firstChild === s && u.lastChild === s && (s = u, !p[u.name]);)u = u.parent; s === u && !0 !== t.padd_empty_with_br && ((d = new nv("#text", 3)).value = "\xa0", a.replace(d)) } }), e.addAttributeFilter("href", function (e) { var n, r, o, i = e.length; if (!t.allow_unsafe_link_target) for (; i--;)"a" === (n = e[i]).name && "_blank" === n.attr("target") && n.attr("rel", (r = n.attr("rel"), o = r ? Dt.trim(r) : "", /\b(noopener)\b/g.test(o) ? o : o.split(" ").filter(function (e) { return e.length > 0 }).concat(["noopener"]).sort().join(" "))) }), t.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function (e) { for (var t, n, r, o, i = e.length; i--;)if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) for (r = o.parent, t = o.lastChild; n = t.prev, r.insert(t, o), t = n;); }), t.fix_list_elements && e.addNodeFilter("ul,ol", function (e) { for (var t, n, r = e.length; r--;)if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name) if (t.prev && "li" === t.prev.name) t.prev.append(t); else { var o = new nv("li", 1); o.attr("style", "list-style-type: none"), t.wrap(o) } }), t.validate && n.getValidClasses() && e.addAttributeFilter("class", function (e) { for (var t, r, o, i, a, u, s, c = e.length, l = n.getValidClasses(); c--;) { for (r = (t = e[c]).attr("class").split(" "), a = "", o = 0; o < r.length; o++)i = r[o], s = !1, (u = l["*"]) && u[i] && (s = !0), u = l[t.name], !s && u && u[i] && (s = !0), s && (a && (a += " "), a += i); a.length || (a = null), t.attr("class", a) } }) }, cv = Dt.makeMap, lv = Dt.each, fv = Dt.explode, dv = Dt.extend; function mv(e, t) { void 0 === t && (t = Go()); var n = {}, r = [], o = {}, i = {}; (e = e || {}).validate = !("validate" in e) || e.validate, e.root_name = e.root_name || "body"; var a = function (e) { var t, a, u; a in n && ((u = o[a]) ? u.push(e) : o[a] = [e]), t = r.length; for (; t--;)(a = r[t].name) in e.attributes.map && ((u = i[a]) ? u.push(e) : i[a] = [e]); return e }, u = { schema: t, addAttributeFilter: function (e, t) { lv(fv(e), function (e) { var n; for (n = 0; n < r.length; n++)if (r[n].name === e) return void r[n].callbacks.push(t); r.push({ name: e, callbacks: [t] }) }) }, getAttributeFilters: function () { return [].concat(r) }, addNodeFilter: function (e, t) { lv(fv(e), function (e) { var r = n[e]; r || (n[e] = r = []), r.push(t) }) }, getNodeFilters: function () { var e = []; for (var t in n) n.hasOwnProperty(t) && e.push({ name: t, callbacks: n[t] }); return e }, filterNode: a, parse: function (u, s) { var c, l, f, d, m, p, g, h, v, y, b, C = []; s = s || {}, o = {}, i = {}, v = dv(cv("script,style,head,html,body,title,meta,param"), t.getBlockElements()); var x = t.getNonEmptyElements(), w = t.children, N = e.validate, E = "forced_root_block" in s ? s.forced_root_block : e.forced_root_block, S = t.getWhiteSpaceElements(), k = /^[ \t\r\n]+/, T = /[ \t\r\n]+$/, A = /[ \t\r\n]+/g, _ = /^[ \t\r\n]+$/, R = function (e, t) { var r, i = new nv(e, t); return e in n && ((r = o[e]) ? r.push(i) : o[e] = [i]), i }, B = function (e) { var n, r, o, i, a = t.getBlockElements(); for (n = e.prev; n && 3 === n.type;) { if ((o = n.value.replace(T, "")).length > 0) return void (n.value = o); if (r = n.next) { if (3 === r.type && r.value.length) { n = n.prev; continue } if (!a[r.name] && "script" !== r.name && "style" !== r.name) { n = n.prev; continue } } i = n.prev, n.remove(), n = i } }; c = Bg({ validate: N, allow_script_urls: e.allow_script_urls, allow_conditional_comments: e.allow_conditional_comments, self_closing_elements: function (e) { var t, n = {}; for (t in e) "li" !== t && "p" !== t && (n[t] = e[t]); return n }(t.getSelfClosingElements()), cdata: function (e) { b.append(R("#cdata", 4)).value = e }, text: function (e, t) { var n; y || (e = e.replace(A, " "), uv(b.lastChild, v) && (e = e.replace(k, ""))), 0 !== e.length && ((n = R("#text", 3)).raw = !!t, b.append(n).value = e) }, comment: function (e) { b.append(R("#comment", 8)).value = e }, pi: function (e, t) { b.append(R(e, 7)).value = t, B(b) }, doctype: function (e) { b.append(R("#doctype", 10)).value = e, B(b) }, start: function (e, n, o) { var a, u, s, c, l; if (s = N ? t.getElementRule(e) : {}) { for ((a = R(s.outputName || e, 1)).attributes = n, a.shortEnded = o, b.append(a), (l = w[b.name]) && w[a.name] && !l[a.name] && C.push(a), u = r.length; u--;)(c = r[u].name) in n.map && ((g = i[c]) ? g.push(a) : i[c] = [a]); v[e] && B(a), o || (b = a), !y && S[e] && (y = !0) } }, end: function (n) { var r, o, i, a, u; if (o = N ? t.getElementRule(n) : {}) { if (v[n] && !y) { if ((r = b.firstChild) && 3 === r.type) if ((i = r.value.replace(k, "")).length > 0) r.value = i, r = r.next; else for (a = r.next, r.remove(), r = a; r && 3 === r.type;)i = r.value, a = r.next, (0 === i.length || _.test(i)) && (r.remove(), r = a), r = a; if ((r = b.lastChild) && 3 === r.type) if ((i = r.value.replace(T, "")).length > 0) r.value = i, r = r.prev; else for (a = r.prev, r.remove(), r = a; r && 3 === r.type;)i = r.value, a = r.prev, (0 === i.length || _.test(i)) && (r.remove(), r = a), r = a } if (y && S[n] && (y = !1), o.removeEmpty && av(t, x, S, b) && !b.attributes.map.name && !b.attr("id")) return u = b.parent, v[b.name] ? b.empty().remove() : b.unwrap(), void (b = u); o.paddEmpty && (ov(b) || av(t, x, S, b)) && rv(e, s, v, b), b = b.parent } } }, t); var D = b = new nv(s.context || e.root_name, 11); if (c.parse(u), N && C.length && (s.context ? s.invalid = !0 : function (e) { var n, r, o, i, u, s, c, l, f, d, m, p, g, h, v, y; for (p = cv("tr,td,th,tbody,thead,tfoot,table"), d = t.getNonEmptyElements(), m = t.getWhiteSpaceElements(), g = t.getTextBlockElements(), h = t.getSpecialElements(), n = 0; n < e.length; n++)if ((r = e[n]).parent && !r.fixed) if (g[r.name] && "li" === r.parent.name) { for (v = r.next; v && g[v.name];)v.name = "li", v.fixed = !0, r.parent.insert(v, r.parent), v = v.next; r.unwrap(r) } else { for (i = [r], o = r.parent; o && !t.isValidChild(o.name, r.name) && !p[o.name]; o = o.parent)i.push(o); if (o && i.length > 1) { for (i.reverse(), u = s = a(i[0].clone()), f = 0; f < i.length - 1; f++) { for (t.isValidChild(s.name, i[f].name) ? (c = a(i[f].clone()), s.append(c)) : c = s, l = i[f].firstChild; l && l !== i[f + 1];)y = l.next, c.append(l), l = y; s = c } av(t, d, m, u) ? o.insert(r, i[0], !0) : (o.insert(u, i[0], !0), o.insert(r, u)), o = i[0], (av(t, d, m, o) || iv(o, "br")) && o.empty().remove() } else if (r.parent) { if ("li" === r.name) { if ((v = r.prev) && ("ul" === v.name || "ul" === v.name)) { v.append(r); continue } if ((v = r.next) && ("ul" === v.name || "ul" === v.name)) { v.insert(r, v.firstChild, !0); continue } r.wrap(a(new nv("ul", 1))); continue } t.isValidChild(r.parent.name, "div") && t.isValidChild("div", r.name) ? r.wrap(a(new nv("div", 1))) : h[r.name] ? r.empty().remove() : r.unwrap() } } }(C)), E && ("body" === D.name || s.isRootContent) && function () { var n, r, o = D.firstChild, i = function (e) { e && ((o = e.firstChild) && 3 === o.type && (o.value = o.value.replace(k, "")), (o = e.lastChild) && 3 === o.type && (o.value = o.value.replace(T, ""))) }; if (t.isValidChild(D.name, E.toLowerCase())) { for (; o;)n = o.next, 3 === o.type || 1 === o.type && "p" !== o.name && !v[o.name] && !o.attr("data-mce-type") ? r ? r.append(o) : ((r = R(E, 1)).attr(e.forced_root_block_attrs), D.insert(r, o), r.append(o)) : (i(r), r = null), o = n; i(r) } }(), !s.invalid) { for (h in o) { for (g = n[h], m = (l = o[h]).length; m--;)l[m].parent || l.splice(m, 1); for (f = 0, d = g.length; f < d; f++)g[f](l, h, s) } for (f = 0, d = r.length; f < d; f++)if ((g = r[f]).name in i) { for (m = (l = i[g.name]).length; m--;)l[m].parent || l.splice(m, 1); for (m = 0, p = g.callbacks.length; m < p; m++)g.callbacks[m](l, g.name, s) } } return D } }; return sv(u, e), Qh.register(u, e), u } var pv = function (e, t, n) { -1 === Dt.inArray(t, n) && (e.addAttributeFilter(n, function (e, t) { for (var n = e.length; n--;)e[n].attr(t, null) }), t.push(n)) }, gv = function (e, t, n) { var r = bi(n.getInner ? t.innerHTML : e.getOuterHTML(t)); return n.selection ? r : Dt.trim(r) }, hv = function (e, t, n, r) { var o = r.selection ? jh.merge({ forced_root_block: !1 }, r) : r, i = e.parse(n, o); return Xh.trimTrailingBr(i), i }, vv = function (e, t, n, r, o) { var i, a, u, s, c = (i = r, ic(t, n).serialize(i)); return a = e, s = c, !(u = o).no_events && a ? Wh(a, jh.merge(u, { content: s })).content : s }; function yv(e, t) { var n, r, o, i, a, u, s = (n = e, u = ["data-mce-selected"], o = (r = t) && r.dom ? r.dom : ui.DOM, i = r && r.schema ? r.schema : Go(n), n.entity_encoding = n.entity_encoding || "named", n.remove_trailing_brs = !("remove_trailing_brs" in n) || n.remove_trailing_brs, a = mv(n, i), Xh.register(a, n, o), { schema: i, addNodeFilter: a.addNodeFilter, addAttributeFilter: a.addAttributeFilter, serialize: function (e, t) { var u = jh.merge({ format: "html" }, t || {}), s = Yh.process(r, e, u), c = gv(o, s, u), l = hv(a, o, c, u); return "tree" === u.format ? l : vv(r, n, i, l, u) }, addRules: function (e) { i.addValidElements(e) }, setRules: function (e) { i.setValidElements(e) }, addTempAttr: y.curry(pv, a, u), getTempAttrs: function () { return u } }); return { schema: s.schema, addNodeFilter: s.addNodeFilter, addAttributeFilter: s.addAttributeFilter, serialize: s.serialize, addRules: s.addRules, setRules: s.setRules, addTempAttr: s.addTempAttr, getTempAttrs: s.getTempAttrs } } var bv = function (e, t) { var n; t.hasAttribute("data-mce-caret") && (Bi(t), (n = e).selection.setRng(n.selection.getRng()), e.selection.scrollIntoView(t)) }, Cv = function (e, t) { var n, r = (n = e, Lc(Fn.fromDom(n.getBody()), "*[data-mce-caret]").fold(y.constant(null), function (e) { return e.dom() })); if (r) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void bv(e, r)) : void (Si(r) && bv(e, r)) }, xv = function (e) { e.on("keyup compositionstart", y.curry(Cv, e)) }; function wv(e) { return { getBookmark: y.curry(Vs.getBookmark, e), moveToBookmark: y.curry(Vs.moveToBookmark, e) } } (wv || (wv = {})).isBookmarkNode = Vs.isBookmarkNode; var Nv = wv, Ev = So.isContentEditableFalse, Sv = So.isContentEditableTrue, kv = function (e, t) { var n, r, o, i, a, u, s, c, l, f, d, m, p, g, h, v, y, b = t.dom, C = Dt.each, x = t.getDoc(), w = document, N = Math.abs, E = Math.round, S = t.getBody(); i = { nw: [0, 0, -1, -1], ne: [1, 0, 1, -1], se: [1, 1, 1, 1], sw: [0, 1, -1, 1] }; var k = ".mce-content-body"; t.contentStyles.push(k + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + k + " .mce-resizehandle:hover {background: #000}" + k + " img[data-mce-selected]," + k + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + k + " .mce-clonedresizable {position: absolute;" + (de.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + k + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"); var T = function (e) { return e && ("IMG" === e.nodeName || t.dom.is(e, "figure.image")) }, A = function (e) { var n, r, o = e.target; n = e, r = t.selection.getRng(), !T(n.target) || vg(n.clientX, n.clientY, r) || e.isDefaultPrevented() || (e.preventDefault(), t.selection.select(o)) }, _ = function (e) { return t.dom.is(e, "figure.image") ? e.querySelector("img") : e }, R = function (e) { var n = t.settings.object_resizing; return !1 !== n && !de.iOS && ("string" != typeof n && (n = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== t.getBody() && Tr.is(Fn.fromDom(e), n)) }, B = function (e) { var i, C, x, w; i = e.screenX - u, C = e.screenY - s, g = i * a[2] + f, h = C * a[3] + d, g = g < 5 ? 5 : g, h = h < 5 ? 5 : h, (T(n) && !1 !== t.settings.resize_img_proportional ? !Cg.modifierPressed(e) : Cg.modifierPressed(e) || T(n) && a[2] * a[3] != 0) && (N(i) > N(C) ? (h = E(g * m), g = E(h / m)) : (g = E(h / m), h = E(g * m))), b.setStyles(_(r), { width: g, height: h }), x = (x = a.startPos.x + i) > 0 ? x : 0, w = (w = a.startPos.y + C) > 0 ? w : 0, b.setStyles(o, { left: x, top: w, display: "block" }), o.innerHTML = g + " &times; " + h, a[2] < 0 && r.clientWidth <= g && b.setStyle(r, "left", c + (f - g)), a[3] < 0 && r.clientHeight <= h && b.setStyle(r, "top", l + (d - h)), (i = S.scrollWidth - v) + (C = S.scrollHeight - y) != 0 && b.setStyles(o, { left: x - i, top: w - C }), p || (t.fire("ObjectResizeStart", { target: n, width: f, height: d }), p = !0) }, D = function () { p = !1; var e = function (e, r) { r && (n.style[e] || !t.schema.isValid(n.nodeName.toLowerCase(), e) ? b.setStyle(_(n), e, r) : b.setAttrib(_(n), e, r)) }; e("width", g), e("height", h), b.unbind(x, "mousemove", B), b.unbind(x, "mouseup", D), w !== x && (b.unbind(w, "mousemove", B), b.unbind(w, "mouseup", D)), b.remove(r), b.remove(o), O(n), t.fire("ObjectResized", { target: n, width: g, height: h }), b.setAttrib(n, "style", b.getAttrib(n, "style")), t.nodeChanged() }, O = function (e) { var p, N, E, k, T; P(), M(), p = b.getPos(e, S), c = p.x, l = p.y, T = e.getBoundingClientRect(), N = T.width || T.right - T.left, E = T.height || T.bottom - T.top, n !== e && (n = e, g = h = 0), k = t.fire("ObjectSelected", { target: e }), R(e) && !k.isDefaultPrevented() ? C(i, function (e, t) { var i; (i = b.get("mceResizeHandle" + t)) && b.remove(i), i = b.add(S, "div", { id: "mceResizeHandle" + t, "data-mce-bogus": "all", "class": "mce-resizehandle", unselectable: !0, style: "cursor:" + t + "-resize; margin:0; padding:0" }), de.ie && (i.contentEditable = !1), b.bind(i, "mousedown", function (t) { var i; t.stopImmediatePropagation(), t.preventDefault(), u = (i = t).screenX, s = i.screenY, f = _(n).clientWidth, d = _(n).clientHeight, m = d / f, a = e, e.startPos = { x: N * e[0] + c, y: E * e[1] + l }, v = S.scrollWidth, y = S.scrollHeight, r = n.cloneNode(!0), b.addClass(r, "mce-clonedresizable"), b.setAttrib(r, "data-mce-bogus", "all"), r.contentEditable = !1, r.unSelectabe = !0, b.setStyles(r, { left: c, top: l, margin: 0 }), r.removeAttribute("data-mce-selected"), S.appendChild(r), b.bind(x, "mousemove", B), b.bind(x, "mouseup", D), w !== x && (b.bind(w, "mousemove", B), b.bind(w, "mouseup", D)), o = b.add(S, "div", { "class": "mce-resize-helper", "data-mce-bogus": "all" }, f + " &times; " + d) }), e.elm = i, b.setStyles(i, { left: N * e[0] + c - i.offsetWidth / 2, top: E * e[1] + l - i.offsetHeight / 2 }) }) : P(), n.setAttribute("data-mce-selected", "1") }, P = function () { var e, t; for (e in M(), n && n.removeAttribute("data-mce-selected"), i) (t = b.get("mceResizeHandle" + e)) && (b.unbind(t), b.remove(t)) }, L = function (n) { var r, o = function (e, t) { if (e) do { if (e === t) return !0 } while (e = e.parentNode) }; p || t.removed || (C(b.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) { e.removeAttribute("data-mce-selected") }), r = "mousedown" === n.type ? n.target : e.getNode(), o(r = b.$(r).closest("table,img,figure.image,hr")[0], S) && (F(), o(e.getStart(!0), r) && o(e.getEnd(!0), r)) ? O(r) : P()) }, I = function (e) { return Ev(function (e, t) { for (; t && t !== e;) { if (Sv(t) || Ev(t)) return t; t = t.parentNode } return null }(t.getBody(), e)) }, M = function () { for (var e in i) { var t = i[e]; t.elm && (b.unbind(t.elm), delete t.elm) } }, F = function () { try { t.getDoc().execCommand("enableObjectResizing", !1, !1) } catch (e) { } }; return t.on("init", function () { F(), de.ie && de.ie >= 11 && (t.on("mousedown click", function (e) { var n = e.target, r = n.nodeName; p || !/^(TABLE|IMG|HR)$/.test(r) || I(n) || (2 !== e.button && t.selection.select(n, "TABLE" === r), "mousedown" === e.type && t.nodeChanged()) }), t.dom.bind(S, "mscontrolselect", function (e) { var n = function (e) { ve.setEditorTimeout(t, function () { t.selection.select(e) }) }; if (I(e.target)) return e.preventDefault(), void n(e.target); /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && n(e.target)) })); var e = ve.throttle(function (e) { t.composing || L(e) }); t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", e), t.on("keyup compositionend", function (t) { n && "TABLE" === n.nodeName && e(t) }), t.on("hide blur", P), t.on("contextmenu", A) }), t.on("remove", M), { isResizable: R, showResizeRect: O, hideResizeRect: P, updateResizeRect: L, destroy: function () { n = r = null } } }, Tv = function (e) { for (var t = 0, n = 0, r = e; r && r.nodeType;)t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent; return { x: t, y: n } }, Av = function (e, t, n) { var r, o, i, a, u, s = e.dom, c = s.getRoot(), l = 0; if (u = { elm: t, alignToTop: n }, e.fire("scrollIntoView", u), !u.isDefaultPrevented() && So.isElement(t)) { if (!1 === n && (l = t.offsetHeight), "BODY" !== c.nodeName) { var f = e.selection.getScrollContainer(); if (f) return r = Tv(t).y - Tv(f).y + l, a = f.clientHeight, void ((r < (i = f.scrollTop) || r + 25 > i + a) && (f.scrollTop = r < i ? r : r - a + 25)) } o = s.getViewPort(e.getWin()), r = s.getPos(t).y + l, i = o.y, a = o.h, (r < o.y || r + 25 > i + a) && e.getWin().scrollTo(0, r < i ? r : r - a + 25) } }, _v = function (e) { return So.isContentEditableTrue(e) || So.isContentEditableFalse(e) }, Rv = { fromPoint: function (e, t, n) { var r, o, i, a, u, s = n; if (s.caretPositionFromPoint) (o = s.caretPositionFromPoint(e, t)) && ((r = n.createRange()).setStart(o.offsetNode, o.offset), r.collapse(!0)); else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t); else if (s.body.createTextRange) { r = s.body.createTextRange(); try { r.moveToPoint(e, t), r.collapse(!0) } catch (c) { r = function (e, t, n) { var r, o, i; if (r = n.elementFromPoint(e, t), o = n.body.createTextRange(), r && "HTML" !== r.tagName || (r = n.body), o.moveToElementText(r), (i = (i = Dt.toArray(o.getClientRects())).sort(function (e, n) { return (e = Math.abs(Math.max(e.top - t, e.bottom - t))) - (n = Math.abs(Math.max(n.top - t, n.bottom - t))) })).length > 0) { t = (i[0].bottom + i[0].top) / 2; try { return o.moveToPoint(e, t), o.collapse(!0), o } catch (a) { } } return null }(e, t, n) } return i = r, a = n.body, u = i && i.parentElement ? i.parentElement() : null, So.isContentEditableFalse(function (e, t, n) { for (; e && e !== t;) { if (n(e)) return e; e = e.parentNode } return null }(u, a, _v)) ? null : i } return r } }, Bv = function (e, t) { return M.map(t, function (t) { var n = e.fire("GetSelectionRange", { range: t }); return n.range !== t ? n.range : t }) }, Dv = function (e, t) { return Fn.fromDom(e.dom().cloneNode(t)) }, Ov = function (e) { return Dv(e, !0) }, Pv = function (e) { return Dv(e, !1) }, Lv = Ov, Iv = function (e, t) { var n = (t || document).createDocumentFragment(); return M.each(e, function (e) { n.appendChild(e.dom()) }), Fn.fromDom(n) }, Mv = function (e) { return Fr.firstChild(e).fold(y.constant([e]), function (t) { return [e].concat(Mv(t)) }) }, Fv = function (e) { return Fr.lastChild(e).fold(y.constant([e]), function (t) { return "br" === Yn.name(t) ? Fr.prevSibling(t).map(function (t) { return [e].concat(Fv(t)) }).getOr([]) : [e].concat(Fv(t)) }) }, zv = function (e, t) { return Wa([(i = t, a = i.startContainer, u = i.startOffset, So.isText(a) ? 0 === u ? E.some(Fn.fromDom(a)) : E.none() : E.from(a.childNodes[u]).map(Fn.fromDom)), (n = t, r = n.endContainer, o = n.endOffset, So.isText(r) ? o === r.data.length ? E.some(Fn.fromDom(r)) : E.none() : E.from(r.childNodes[o - 1]).map(Fn.fromDom))], function (t, n) { var r = M.find(Mv(e), y.curry(Rr.eq, t)), o = M.find(Fv(e), y.curry(Rr.eq, n)); return r.isSome() && o.isSome() }).getOr(!1); var n, r, o, i, a, u }, Uv = function (e, t, n, r) { var o = n, i = new Zr(n, o), a = e.schema.getNonEmptyElements(); do { if (3 === n.nodeType && 0 !== Dt.trim(n.nodeValue).length) return void (r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length)); if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void (r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n)); if (de.ie && de.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void (r ? t.setStart(n, 0) : t.setEnd(n, 0)) } while (n = r ? i.next() : i.prev()); "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length)) }, qv = br.immutable("element", "width", "rows"), Vv = br.immutable("element", "cells"), Hv = br.immutable("x", "y"), jv = function (e, t) { var n = parseInt(sr.get(e, t), 10); return isNaN(n) ? 1 : n }, $v = function (e) { return M.foldl(e, function (e, t) { return t.cells().length > e ? t.cells().length : e }, 0) }, Wv = function (e, t) { for (var n = e.rows(), r = 0; r < n.length; r++)for (var o = n[r].cells(), i = 0; i < o.length; i++)if (Rr.eq(o[i], t)) return E.some(Hv(i, r)); return E.none() }, Kv = function (e, t, n, r, o) { for (var i = [], a = e.rows(), u = n; u <= o; u++) { var s = a[u].cells(), c = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1); i.push(Vv(a[u].element(), c)) } return i }, Xv = function (e) { var t = qv(Pv(e), 0, []); return M.each(ou(e, "tr"), function (e, n) { M.each(ou(e, "td,th"), function (r, o) { !function (e, t, n, r, o) { for (var i = jv(o, "rowspan"), a = jv(o, "colspan"), u = e.rows(), s = n; s < n + i; s++) { u[s] || (u[s] = Vv(Lv(r), [])); for (var c = t; c < t + a; c++)u[s].cells()[c] = s === n && c === t ? o : Pv(o) } }(t, function (e, t, n) { for (; r = t, o = n, i = void 0, ((i = e.rows())[o] ? i[o].cells() : [])[r];)t++; var r, o, i; return t }(t, o, n), n, e, r) }) }), qv(t.element(), $v(t.rows()), t.rows()) }, Yv = function (e) { return t = e, i = e, n = M.map(i.rows(), function (e) { var t = M.map(e.cells(), function (e) { var t = Lv(e); return sr.remove(t, "colspan"), sr.remove(t, "rowspan"), t }), n = Pv(e.element()); return Ys(n, t), n }), r = Pv(t.element()), o = Fn.fromTag("tbody"), Ys(o, n), Ks.append(r, o), r; var t, n, r, o, i }, Gv = function (e, t, n) { return Wv(e, t).bind(function (t) { return Wv(e, n).map(function (n) { return r = e, i = n, a = (o = t).x(), u = o.y(), s = i.x(), c = i.y(), l = u < c ? Kv(r, a, u, s, c) : Kv(r, a, c, s, u), qv(r.element(), $v(l), l); var r, o, i, a, u, s, c, l }) }) }, Jv = function (e, t) { return M.find(e, function (e) { return "li" === Yn.name(e) && zv(e, t) }).fold(y.constant([]), function (t) { return (n = e, M.find(n, function (e) { return "ul" === Yn.name(e) || "ol" === Yn.name(e) })).map(function (e) { return [Fn.fromTag("li"), Fn.fromTag(Yn.name(e))] }).getOr([]); var n }) }, Qv = function (e, t) { var n, r = Fn.fromDom(t.commonAncestorContainer), o = Qc(r, e), i = M.filter(o, function (e) { return ao(e) || oo(e) }), a = Jv(o, t), u = i.concat(a.length ? a : lo(n = r) ? Fr.parent(n).filter(co).fold(y.constant([]), function (e) { return [n, e] }) : co(n) ? [n] : []); return M.map(u, Pv) }, Zv = function () { return Iv([]) }, ey = function (e, t) { return n = Fn.fromDom(t.cloneContents()), r = Qv(e, t), o = M.foldl(r, function (e, t) { return Ks.append(t, e), t }, n), r.length > 0 ? Iv([o]) : o; var n, r, o }, ty = function (e, t) { return (n = e, r = t[0], Pc(r, "table", y.curry(Rr.eq, n))).bind(function (e) { var n = t[0], r = t[t.length - 1], o = Xv(e); return Gv(o, n, r).map(function (e) { return Iv([Yv(e)]) }) }).getOrThunk(Zv); var n, r }, ny = function (e, t) { var n, r, o = Td(t, e); return o.length > 0 ? ty(e, o) : (n = e, (r = t).length > 0 && r[0].collapsed ? Zv() : ey(n, r[0])) }, ry = function (e, t) { var n, r = e.selection.getRng(), o = e.dom.create("body"), i = e.selection.getSel(), a = Bv(e, xd(i)); if ((t = t || {}).get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t), t.content; if ("text" === t.format) return e.selection.isCollapsed() ? "" : bi(r.text || (i.toString ? i.toString() : "")); r.cloneContents ? (n = t.contextual ? ny(Fn.fromDom(e.getBody()), a).dom() : r.cloneContents()) && o.appendChild(n) : r.item !== undefined || r.htmlText !== undefined ? (o.innerHTML = "<br>" + (r.item ? r.item(0).outerHTML : r.htmlText), o.removeChild(o.firstChild)) : o.innerHTML = r.toString(), t.getInner = !0; var u = e.selection.serializer.serialize(o, t); return "tree" === t.format ? u : (t.content = e.selection.isCollapsed() ? "" : u, e.fire("GetContent", t), t.content) }, oy = function (e, t, n) { var r, o, i, a = e.selection.getRng(), u = e.getDoc(); if ((n = n || { format: "html" }).set = !0, n.selection = !0, n.content = t, n.no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) { if (t = n.content, a.insertNode) { t += '<span id="__caret">_</span>', a.startContainer === u && a.endContainer === u ? u.body.innerHTML = t : (a.deleteContents(), 0 === u.body.childNodes.length ? u.body.innerHTML = t : a.createContextualFragment ? a.insertNode(a.createContextualFragment(t)) : (o = u.createDocumentFragment(), i = u.createElement("div"), o.appendChild(i), i.outerHTML = t, a.insertNode(o))), r = e.dom.get("__caret"), (a = u.createRange()).setStartBefore(r), a.setEndBefore(r), e.selection.setRng(a), e.dom.remove("__caret"); try { e.selection.setRng(a) } catch (s) { } } else a.item && (u.execCommand("Delete", !1, null), a = e.getRng()), /^\s+/.test(t) ? (a.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : a.pasteHTML(t); n.no_events || e.fire("SetContent", n) } else e.fire("SetContent", n) }, iy = function (e, t, n, r, o) { var i = n ? t.startContainer : t.endContainer, a = n ? t.startOffset : t.endOffset; return E.from(i).map(Fn.fromDom).map(function (e) { return r && t.collapsed ? e : Fr.child(e, o(e, a)).getOr(e) }).bind(function (e) { return Yn.isElement(e) ? E.some(e) : Fr.parent(e) }).map(function (e) { return e.dom() }).getOr(e) }, ay = function (e, t, n) { return iy(e, t, !0, n, function (e, t) { return Math.min(Fr.childNodesCount(e), t) }) }, uy = function (e, t, n) { return iy(e, t, !1, n, function (e, t) { return t > 0 ? t - 1 : t }) }, sy = function (e, t) { for (var n = e; e && So.isText(e) && 0 === e.length;)e = t ? e.nextSibling : e.previousSibling; return e || n }, cy = Dt.each, ly = function (e) { return !!e.select }, fy = function (e) { return !(!e || !e.ownerDocument) && Rr.contains(Fn.fromDom(e.ownerDocument), Fn.fromDom(e)) }, dy = function (e, t, n, r) { var o, i, a, u, s, c = function (e, t) { return oy(r, e, t) }, l = function (e) { var t = d(); t.collapse(!!e), m(t) }, f = function () { return t.getSelection ? t.getSelection() : t.document.selection }, d = function () { var n, o, i, s, c = function (e, t, n) { try { return t.compareBoundaryPoints(e, n) } catch (r) { return -1 } }; if (!t) return null; if (null == (s = t.document)) return null; if (r.bookmark !== undefined && !1 === up(r)) { var l = Nm.getRng(r); if (l.isSome()) return l.map(function (e) { return Bv(r, [e])[0] }).getOr(s.createRange()) } try { (n = f()) && (o = n.rangeCount > 0 ? n.getRangeAt(0) : n.createRange ? n.createRange() : s.createRange()) } catch (d) { } return (o = Bv(r, [o])[0]) || (o = s.createRange ? s.createRange() : s.body.createTextRange()), o.setStart && 9 === o.startContainer.nodeType && o.collapsed && (i = e.getRoot(), o.setStart(i, 0), o.setEnd(i, 0)), a && u && (0 === c(o.START_TO_START, o, a) && 0 === c(o.END_TO_END, o, a) ? o = u : (a = null, u = null)), o }, m = function (e, t) { var n, o; if ((i = e) && (ly(i) || fy(i.startContainer) && fy(i.endContainer))) { var i, s = ly(e) ? e : null; if (s) { u = null; try { s.select() } catch (c) { } } else { if (n = f(), e = r.fire("SetSelectionRange", { range: e, forward: t }).range, n) { u = e; try { n.removeAllRanges(), n.addRange(e) } catch (c) { } !1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), a = n.rangeCount > 0 ? n.getRangeAt(0) : null } e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || de.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (o = e.startContainer.childNodes[e.startOffset]) && "IMG" === o.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(o, 0, o, 1)), r.fire("AfterSetSelectionRange", { range: e, forward: t }) } } }, p = function () { var t, n, r = f(); return !(r && r.anchorNode && r.focusNode) || ((t = e.createRng()).setStart(r.anchorNode, r.anchorOffset), t.collapse(!0), (n = e.createRng()).setStart(r.focusNode, r.focusOffset), n.collapse(!0), t.compareBoundaryPoints(t.START_TO_START, n) <= 0) }, g = { bookmarkManager: null, controlSelection: null, dom: e, win: t, serializer: n, editor: r, collapse: l, setCursorLocation: function (t, n) { var o = e.createRng(); t ? (o.setStart(t, n), o.setEnd(t, n), m(o), l(!1)) : (Uv(e, o, r.getBody(), !0), m(o)) }, getContent: function (e) { return ry(r, e) }, setContent: c, getBookmark: function (e, t) { return o.getBookmark(e, t) }, moveToBookmark: function (e) { return o.moveToBookmark(e) }, select: function (t, n) { var r, o, i; return (r = e, o = t, i = n, E.from(o).map(function (e) { var t = r.nodeIndex(e), n = r.createRng(); return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), i && (Uv(r, n, e, !0), Uv(r, n, e, !1)), n })).each(m), t }, isCollapsed: function () { var e = d(), t = f(); return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed) }, isForward: p, setNode: function (t) { return c(e.getOuterHTML(t)), t }, getNode: function () { return e = r.getBody(), (t = d()) ? (o = t.startContainer, i = t.endContainer, a = t.startOffset, u = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (o === i && u - a < 2 && o.hasChildNodes() && (n = o.childNodes[a]), 3 === o.nodeType && 3 === i.nodeType && (o = o.length === a ? sy(o.nextSibling, !0) : o.parentNode, i = 0 === u ? sy(i.previousSibling, !1) : i.parentNode, o && o === i)) ? o : n && 3 === n.nodeType ? n.parentNode : n) : e; var e, t, n, o, i, a, u }, getSel: f, setRng: m, getRng: d, getStart: function (e) { return ay(r.getBody(), d(), e) }, getEnd: function (e) { return uy(r.getBody(), d(), e) }, getSelectedBlocks: function (t, n) { return function (e, t, n, r) { var o, i, a = []; if (i = e.getRoot(), n = e.getParent(n || ay(i, t, !1), e.isBlock), r = e.getParent(r || uy(i, t, !1), e.isBlock), n && n !== i && a.push(n), n && r && n !== r) { o = n; for (var u = new Zr(n, i); (o = u.next()) && o !== r;)e.isBlock(o) && a.push(o) } return r && n !== r && r !== i && a.push(r), a }(e, d(), t, n) }, normalize: function () { var t = d(); if (!Nd(f())) { var n = Yd.normalize(e, t); return n.each(function (e) { m(e, p()) }), n.getOr(t) } return t }, selectorChanged: function (t, n) { var o; return s || (s = {}, o = {}, r.on("NodeChange", function (t) { var n = t.element, r = e.getParents(n, null, e.getRoot()), i = {}; cy(s, function (t, n) { cy(r, function (a) { if (e.is(a, n)) return o[n] || (cy(t, function (e) { e(!0, { node: a, selector: n, parents: r }) }), o[n] = t), i[n] = t, !1 }) }), cy(o, function (e, t) { i[t] || (delete o[t], cy(e, function (e) { e(!1, { node: n, selector: t, parents: r }) })) }) })), s[t] || (s[t] = []), s[t].push(n), g }, getScrollContainer: function () { for (var t, n = e.getRoot(); n && "BODY" !== n.nodeName;) { if (n.scrollHeight > n.clientHeight) { t = n; break } n = n.parentNode } return t }, scrollIntoView: function (e, t) { return Av(r, e, t) }, placeCaretAt: function (e, t) { return m(Rv.fromPoint(e, t, r.getDoc())) }, getBoundingClientRect: function () { var e = d(); return e.collapsed ? wa.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect() }, destroy: function () { t = a = u = null, i.destroy() } }; return o = Nv(g), i = kv(g, r), g.bookmarkManager = o, g.controlSelection = i, g }, my = So.isContentEditableFalse, py = Xi, gy = Wu, hy = $u, vy = function (e, t) { for (; t = e(t);)if (t.isVisible()) return t; return t }, yy = function (e, t, n, r) { var o, i, a, u, s, c, l = e === Ka.Forwards, f = l ? hy : gy; return !r.collapsed && (o = py(r), my(o)) ? Va(e, t, o, e === Ka.Backwards, !0) : (u = wi(r.startContainer), f(i = ju(e, t.getBody(), r)) ? Ha(t, i.getNode(!l)) : (i = n(i)) ? f(i) ? Va(e, t, i.getNode(!l), l, !0) : f(a = n(i)) && (!(c = Pu(s = i, a)) && So.isBr(s.getNode()) || c) ? Va(e, t, a.getNode(!l), l, !0) : u ? $a(t, i.toRange(), !0) : null : u ? r : null) }, by = function (e, t, n, r) { var o, i, a, u, s, c, l, f, d; if (d = py(r), o = ju(e, t.getBody(), r), i = n(t.getBody(), ug(1), o), a = Tt.filter(i, sg(1)), s = Tt.last(o.getClientRects()), (hy(o) || Ku(o)) && (d = o.getNode()), (gy(o) || Xu(o)) && (d = o.getNode(!0)), !s) return null; if (c = s.left, (u = pg(a, c)) && my(u.node)) return l = Math.abs(c - u.left), f = Math.abs(c - u.right), Va(e, t, u.node, l < f, !0); if (d) { var m = function (e, t, n, r) { var o, i, a, u, s, c, l = ls(t), f = [], d = 0, m = function (e) { return Tt.last(e.getClientRects()) }; 1 === e ? (o = l.next, i = Ki, a = Wi, u = wa.after(r)) : (o = l.prev, i = Wi, a = Ki, u = wa.before(r)), c = m(u); do { if (u.isVisible() && !a(s = m(u), c)) { if (f.length > 0 && i(s, Tt.last(f)) && d++, (s = Hi(s)).position = u, s.line = d, n(s)) return f; f.push(s) } } while (u = o(u)); return f }(e, t.getBody(), ug(1), d); if (u = pg(Tt.filter(m, sg(1)), c)) return $a(t, u.position.toRange(), !0); if (u = Tt.last(Tt.filter(m, sg(0)))) return $a(t, u.position.toRange(), !0) } }, Cy = function (e, t, n) { var r, o, i, a, u = ls(e.getBody()), s = ea.curry(vy, u.next), c = ea.curry(vy, u.prev); if (n.collapsed && e.settings.forced_root_block) { if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return; (1 === t ? s(wa.fromRangeStart(n)) : c(wa.fromRangeStart(n))) || (a = (i = e).dom.create(i.settings.forced_root_block), (!de.ie || de.ie >= 11) && (a.innerHTML = '<br data-mce-bogus="1">'), o = a, 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse()) } }, xy = function (e, t) { return function () { var n, r, o, i, a, u, s, c, l, f = (r = t, i = ls((n = e).getBody()), a = ea.curry(vy, i.next), u = ea.curry(vy, i.prev), s = r ? Ka.Forwards : Ka.Backwards, c = r ? a : u, l = n.selection.getRng(), (o = yy(s, n, c, l)) ? o : (o = Cy(n, s, l)) || null); return !!f && (e.selection.setRng(f), !0) } }, wy = function (e, t) { return function () { var n, r, o, i, a, u, s = (i = (r = t) ? 1 : -1, a = r ? ag : ig, u = (n = e).selection.getRng(), (o = by(i, n, a, u)) ? o : (o = Cy(n, i, u)) || null); return !!s && (e.selection.setRng(s), !0) } }, Ny = function (e, t) { return M.bind((n = e, M.map(n, function (e) { return jh.merge({ shiftKey: !1, altKey: !1, ctrlKey: !1, metaKey: !1, keyCode: 0, action: y.noop }, e) })), function (e) { return n = e, (r = t).keyCode === n.keyCode && r.shiftKey === n.shiftKey && r.altKey === n.altKey && r.ctrlKey === n.ctrlKey && r.metaKey === n.metaKey ? [e] : []; var n, r }); var n }, Ey = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; var r = Array.prototype.slice.call(arguments, 1); return function () { return e.apply(null, r) } }, Sy = function (e, t) { return M.find(Ny(e, t), function (e) { return e.action() }) }, ky = function (e, t) { e.on("keydown", function (n) { var r, o, i, a; !1 === n.isDefaultPrevented() && (r = e, o = t, i = n, a = In.detect().os, Sy([{ keyCode: Cg.RIGHT, action: xy(r, !0) }, { keyCode: Cg.LEFT, action: xy(r, !1) }, { keyCode: Cg.UP, action: wy(r, !1) }, { keyCode: Cg.DOWN, action: wy(r, !0) }, { keyCode: Cg.RIGHT, action: vu(r, !0) }, { keyCode: Cg.LEFT, action: vu(r, !1) }, { keyCode: Cg.UP, action: yu(r, !1) }, { keyCode: Cg.DOWN, action: yu(r, !0) }, { keyCode: Cg.RIGHT, action: td.move(r, o, !0) }, { keyCode: Cg.LEFT, action: td.move(r, o, !1) }, { keyCode: Cg.RIGHT, ctrlKey: !a.isOSX(), altKey: a.isOSX(), action: td.moveNextWord(r, o) }, { keyCode: Cg.LEFT, ctrlKey: !a.isOSX(), altKey: a.isOSX(), action: td.movePrevWord(r, o) }], i).each(function (e) { i.preventDefault() })) }) }, Ty = function (e) { return 1 === Fr.children(e).length }, Ay = function (e, t) { var n, r = Fn.fromDom(e.getBody()), o = Fn.fromDom(e.selection.getStart()), i = M.filter((n = Qc(o, r), M.findIndex(n, io).fold(y.constant(n), function (e) { return n.slice(0, e) })), Ty); return M.last(i).map(function (n) { var r = wa.fromRangeStart(e.selection.getRng()); return !!Dc(t, r, n.dom()) && (function (e, t, n, r) { var o = y.curry(Nf.isFormatElement, t), i = M.map(M.filter(r, o), function (e) { return e.dom() }); if (0 === i.length) El(t, e, n); else { var a = Nf.replaceWithCaretFormat(n.dom(), i); t.selection.setRng(a.toRange()) } }(t, e, n, i), !0) }).getOr(!1) }, _y = function (e, t) { return !!e.selection.isCollapsed() && Ay(e, t) }, Ry = function (e, t) { e.on("keydown", function (n) { var r, o, i; !1 === n.isDefaultPrevented() && (r = e, o = t, i = n, Sy([{ keyCode: Cg.BACKSPACE, action: Ey(Tl, r, !1) }, { keyCode: Cg.DELETE, action: Ey(Tl, r, !0) }, { keyCode: Cg.BACKSPACE, action: Ey(id, r, o, !1) }, { keyCode: Cg.DELETE, action: Ey(id, r, o, !0) }, { keyCode: Cg.BACKSPACE, action: Ey(cl, r, !1) }, { keyCode: Cg.DELETE, action: Ey(cl, r, !0) }, { keyCode: Cg.BACKSPACE, action: Ey(il, r, !1) }, { keyCode: Cg.DELETE, action: Ey(il, r, !0) }, { keyCode: Cg.BACKSPACE, action: Ey(Fd, r, !1) }, { keyCode: Cg.DELETE, action: Ey(Fd, r, !0) }, { keyCode: Cg.BACKSPACE, action: Ey(_y, r, !1) }, { keyCode: Cg.DELETE, action: Ey(_y, r, !0) }], i).each(function (e) { i.preventDefault() })) }), e.on("keyup", function (t) { var n, r; !1 === t.isDefaultPrevented() && (n = e, r = t, Sy([{ keyCode: Cg.BACKSPACE, action: Ey(Al, n) }, { keyCode: Cg.DELETE, action: Ey(Al, n) }], r)) }) }, By = function (e, t, n) { var r = e.getParam(t, n); if (-1 !== r.indexOf("=")) { var o = e.getParam(t, "", "hash"); return o.hasOwnProperty(e.id) ? o[e.id] : n } return r }, Dy = function (e) { return e.getParam("iframe_attrs", {}) }, Oy = function (e) { return e.getParam("doctype", "<!DOCTYPE html>") }, Py = function (e) { return e.getParam("document_base_url", "") }, Ly = function (e) { return By(e, "body_id", "tinymce") }, Iy = function (e) { return By(e, "body_class", "") }, My = function (e) { return e.getParam("content_security_policy", "") }, Fy = function (e) { return e.getParam("br_in_pre", !0) }, zy = function (e) { if (e.getParam("force_p_newlines", !1)) return "p"; var t = e.getParam("forced_root_block", "p"); return !1 === t ? "" : t }, Uy = function (e) { return e.getParam("forced_root_block_attrs", {}) }, qy = function (e) { return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption") }, Vy = function (e) { return e.getParam("no_newline_selector", "") }, Hy = function (e) { return e.getParam("keep_styles", !0) }, jy = function (e) { return e.getParam("end_container_on_empty_block", !1) }, $y = function (e) { return E.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock)) }, Wy = function (e, t) { var n, r, o, i = t, a = e.dom, u = e.schema.getMoveCaretBeforeOnEnterElements(); if (t) { if (/^(LI|DT|DD)$/.test(t.nodeName)) { var s = function (e) { for (; e;) { if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e; e = e.nextSibling } }(t.firstChild); s && /^(UL|OL|DL)$/.test(s.nodeName) && t.insertBefore(a.doc.createTextNode("\xa0"), t.firstChild) } if (o = a.createRng(), t.normalize(), t.hasChildNodes()) { for (n = new Zr(t, t); r = n.current();) { if (So.isText(r)) { o.setStart(r, 0), o.setEnd(r, 0); break } if (u[r.nodeName.toLowerCase()]) { o.setStartBefore(r), o.setEndBefore(r); break } i = r, r = n.next() } r || (o.setStart(i, 0), o.setEnd(i, 0)) } else So.isBr(t) ? t.nextSibling && a.isBlock(t.nextSibling) ? (o.setStartBefore(t), o.setEndBefore(t)) : (o.setStartAfter(t), o.setEndAfter(t)) : (o.setStart(t, 0), o.setEnd(t, 0)); e.selection.setRng(o), a.remove(void 0), e.selection.scrollIntoView(t) } }, Ky = function (e, t) { var n, r, o = e.getRoot(); for (n = t; n !== o && "false" !== e.getContentEditable(n);)"true" === e.getContentEditable(n) && (r = n), n = n.parentNode; return n !== o ? r : o }, Xy = $y, Yy = function (e) { return $y(e).fold(y.constant(""), function (e) { return e.nodeName.toUpperCase() }) }, Gy = function (e) { return $y(e).filter(function (e) { return lo(Fn.fromDom(e)) }).isSome() }, Jy = function (e, t) { return e && e.parentNode && e.parentNode.nodeName === t }, Qy = function (e) { return e && /^(OL|UL|LI)$/.test(e.nodeName) }, Zy = function (e) { var t = e.parentNode; return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e }, eb = function (e, t, n) { for (var r = e[n ? "firstChild" : "lastChild"]; r && !So.isElement(r);)r = r[n ? "nextSibling" : "previousSibling"]; return r === t }, tb = function (e, t, n, r, o) { var i = e.dom, a = e.selection.getRng(); if (n !== e.getBody()) { var u; Qy(u = n) && Qy(u.parentNode) && (o = "LI"); var s, c, l = o ? t(o) : i.create("BR"); if (eb(n, r, !0) && eb(n, r, !1)) Jy(n, "LI") ? i.insertAfter(l, Zy(n)) : i.replace(l, n); else if (eb(n, r, !0)) Jy(n, "LI") ? (i.insertAfter(l, Zy(n)), l.appendChild(i.doc.createTextNode(" ")), l.appendChild(n)) : n.parentNode.insertBefore(l, n); else if (eb(n, r, !1)) i.insertAfter(l, Zy(n)); else { n = Zy(n); var f = a.cloneRange(); f.setStartAfter(r), f.setEndAfter(n); var d = f.extractContents(); "LI" === o && (c = "LI", (s = d).firstChild && s.firstChild.nodeName === c) ? (l = d.firstChild, i.insertAfter(d, n)) : (i.insertAfter(d, n), i.insertAfter(l, n)) } i.remove(r), Wy(e, l) } }, nb = function (e) { e.innerHTML = '<br data-mce-bogus="1">' }, rb = function (e, t) { return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t }, ob = function (e, t) { return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t) }, ib = function (e, t, n) { return !1 === So.isText(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === yi ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === yi ? t.data.length : n }, ab = function (e, t) { var n, r, o = e.getRoot(); for (n = t; n !== o && "false" !== e.getContentEditable(n);)"true" === e.getContentEditable(n) && (r = n), n = n.parentNode; return n !== o ? r : o }, ub = function (e, t) { var n = zy(e); n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, Uy(e)) }, sb = function (e, t) { var n, r, o, i, a, u, s, c, l, f, d, m, p, g, h, v, y, b, C = e.dom, x = e.schema, w = x.getNonEmptyElements(), N = e.selection.getRng(), E = function (t) { var n, i, u, s = o, c = x.getTextInlineElements(); if (t || "TABLE" === f || "HR" === f ? (n = C.create(t || m), ub(e, n)) : n = a.cloneNode(!1), u = n, !1 === Hy(e)) C.setAttrib(n, "style", null), C.setAttrib(n, "class", null); else do { if (c[s.nodeName]) { if (Nf.isCaretNode(s)) continue; i = s.cloneNode(!1), C.setAttrib(i, "id", ""), n.hasChildNodes() ? (i.appendChild(n.firstChild), n.appendChild(i)) : (u = i, n.appendChild(i)) } } while ((s = s.parentNode) && s !== r); return nb(u), n }, S = function (e) { var t, n, r, u; if (u = ib(e, o, i), So.isText(o) && (e ? u > 0 : u < o.nodeValue.length)) return !1; if (o.parentNode === a && p && !e) return !0; if (e && So.isElement(o) && o === a.firstChild) return !0; if (rb(o, "TABLE") || rb(o, "HR")) return p && !e || !p && e; for (t = new Zr(o, a), So.isText(o) && (e && 0 === u ? t.prev() : e || u !== o.nodeValue.length || t.next()); n = t.current();) { if (So.isElement(n)) { if (!n.getAttribute("data-mce-bogus") && (r = n.nodeName.toLowerCase(), w[r] && "br" !== r)) return !1 } else if (So.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return !1; e ? t.prev() : t.next() } return !0 }, k = function () { s = /^(H[1-6]|PRE|FIGURE)$/.test(f) && "HGROUP" !== d ? E(m) : E(), jy(e) && ob(C, l) && C.isEmpty(a) ? s = C.split(l, a) : C.insertAfter(s, a), Wy(e, s) }; Yd.normalize(C, N).each(function (e) { N.setStart(e.startContainer, e.startOffset), N.setEnd(e.endContainer, e.endOffset) }), o = N.startContainer, i = N.startOffset, m = zy(e), u = t.shiftKey, So.isElement(o) && o.hasChildNodes() && (p = i > o.childNodes.length - 1, o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o, i = p && So.isText(o) ? o.nodeValue.length : 0), (r = ab(C, o)) && ((m && !u || !m && u) && (o = function (e, t, n, r, o) { var i, a, u, s, c, l, f, d = t || "P", m = e.dom, p = ab(m, r); if (!(a = m.getParent(r, m.isBlock)) || !ob(m, a)) { if (l = (a = a || p) === e.getBody() || (f = a) && /^(TD|TH|CAPTION)$/.test(f.nodeName) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return i = m.create(d), ub(e, i), a.appendChild(i), n.setStart(i, 0), n.setEnd(i, 0), i; for (s = r; s.parentNode !== a;)s = s.parentNode; for (; s && !m.isBlock(s);)u = s, s = s.previousSibling; if (u && e.schema.isValidChild(l, d.toLowerCase())) { for (i = m.create(d), ub(e, i), u.parentNode.insertBefore(i, u), s = u; s && !m.isBlock(s);)c = s.nextSibling, i.appendChild(s), s = c; n.setStart(r, o), n.setEnd(r, o) } } return r }(e, m, N, o, i)), a = C.getParent(o, C.isBlock), l = a ? C.getParent(a.parentNode, C.isBlock) : null, f = a ? a.nodeName.toUpperCase() : "", "LI" !== (d = l ? l.nodeName.toUpperCase() : "") || t.ctrlKey || (a = l, l = l.parentNode, f = d), /^(LI|DT|DD)$/.test(f) && C.isEmpty(a) ? tb(e, E, l, a, m) : m && a === e.getBody() || (m = m || "P", wi(a) ? (s = Bi(a), C.isEmpty(a) && nb(a), Wy(e, s)) : S() ? k() : S(!0) ? (s = a.parentNode.insertBefore(E(), a), Wy(e, rb(a, "HR") ? s : a)) : ((n = (y = N, b = y.cloneRange(), b.setStart(y.startContainer, ib(!0, y.startContainer, y.startOffset)), b.setEnd(y.endContainer, ib(!1, y.endContainer, y.endOffset)), b).cloneRange()).setEndAfter(a), function (e) { for (; So.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;); }(c = n.extractContents()), s = c.firstChild, C.insertAfter(c, a), function (e, t, n) { var r, o = n, i = []; if (o) { for (; o = o.firstChild;) { if (e.isBlock(o)) return; So.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o) } for (r = i.length; r--;)!(o = i[r]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (a = o) && "A" === a.nodeName && 0 === Dt.trim(bi(a.innerText || a.textContent)).length && e.remove(o); var a } }(C, w, s), g = C, (h = a).normalize(), (v = h.lastChild) && !/^(left|right)$/gi.test(g.getStyle(v, "float", !0)) || g.add(h, "br"), C.isEmpty(a) && nb(a), s.normalize(), C.isEmpty(s) ? (C.remove(s), k()) : Wy(e, s)), C.setAttrib(s, "id", ""), e.fire("NewBlock", { newBlock: s }))) }, cb = function (e, t) { return Xy(e).filter(function (e) { return t.length > 0 && Tr.is(Fn.fromDom(e), t) }).isSome() }, lb = function (e) { return cb(e, qy(e)) }, fb = function (e) { return cb(e, Vy(e)) }, db = ll([{ br: [] }, { block: [] }, { none: [] }]), mb = function (e, t) { return fb(e) }, pb = function (e) { return function (t, n) { return "" === zy(t) === e } }, gb = function (e) { return function (t, n) { return Gy(t) === e } }, hb = function (e) { return function (t, n) { return "PRE" === Yy(t) === e } }, vb = function (e) { return function (t, n) { return Fy(t) === e } }, yb = function (e, t) { return lb(e) }, bb = function (e, t) { return t }, Cb = function (e) { var t = zy(e), n = Ky(e.dom, e.selection.getStart()); return n && e.schema.isValidChild(n.nodeName, t || "P") }, xb = function (e, t) { return function (n, r) { return M.foldl(e, function (e, t) { return e && t(n, r) }, !0) ? E.some(t) : E.none() } }, wb = function (e, t) { return Ef([xb([mb], db.none()), xb([hb(!0), vb(!1), bb], db.br()), xb([hb(!0), vb(!1)], db.block()), xb([hb(!0), vb(!0), bb], db.block()), xb([hb(!0), vb(!0)], db.br()), xb([gb(!0), bb], db.br()), xb([gb(!0)], db.block()), xb([pb(!0), bb, Cb], db.block()), xb([pb(!0)], db.br()), xb([yb], db.br()), xb([pb(!1), bb], db.br()), xb([Cb], db.block())], [e, t.shiftKey]).getOr(db.none()) }, Nb = function (e, t) { wb(e, t).fold(function () { im.insert(e, t) }, function () { sb(e, t) }, y.noop) }, Eb = function (e) { e.on("keydown", function (t) { var n, r, o; t.keyCode === Cg.ENTER && (n = e, (r = t).isDefaultPrevented() || (r.preventDefault(), (o = n.undoManager).typing && (o.typing = !1, o.add()), n.undoManager.transact(function () { !1 === n.selection.isCollapsed() && n.execCommand("Delete"), Nb(n, r) }))) }) }, Sb = function (e, t, n) { return u = t, !(!kb(n) || !So.isText(u.container()) || (r = e, i = (o = t).container(), a = o.offset(), i.insertData(a, "\xa0"), r.selection.setCursorLocation(i, a + 1), 0)); var r, o, i, a, u }, kb = function (e) { return e.fold(y.constant(!1), y.constant(!0), y.constant(!0), y.constant(!1)) }, Tb = function (e) { return !!e.selection.isCollapsed() && (t = e, n = y.curry(_c.isInlineTarget, t), r = wa.fromRangeStart(t.selection.getRng()), Vf(n, t.getBody(), r).map(y.curry(Sb, t, r)).getOr(!1)); var t, n, r }, Ab = function (e) { e.on("keydown", function (t) { var n, r; !1 === t.isDefaultPrevented() && (n = e, r = t, Sy([{ keyCode: Cg.SPACEBAR, action: Ey(Tb, n) }], r).each(function (e) { r.preventDefault() })) }) }, _b = function (e) { var t = td.setupSelectedState(e); ky(e, t), Ry(e, t), Eb(e), Ab(e) }; function Rb(e) { var t, n, r, o = Dt.each, i = Cg.BACKSPACE, a = Cg.DELETE, u = e.dom, s = e.selection, c = e.settings, l = e.parser, f = de.gecko, d = de.ie, m = de.webkit, p = "data:text/mce-internal,", g = d ? "Text" : "URL", h = function (t, n) { try { e.getDoc().execCommand(t, !1, n) } catch (r) { } }, v = function (e) { return e.isDefaultPrevented() }, y = function () { e.shortcuts.add("meta+a", null, "SelectAll") }, b = function () { e.on("keydown", function (e) { if (!v(e) && e.keyCode === i && s.isCollapsed() && 0 === s.getRng().startOffset) { var t = s.getNode().previousSibling; if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1 } }) }, C = function () { e.inline || (e.contentStyles.push("body {min-height: 150px}"), e.on("click", function (t) { var n; if ("HTML" === t.target.nodeName) { if (de.ie > 11) return void e.getBody().focus(); n = e.selection.getRng(), e.getBody().focus(), e.selection.setRng(n), e.selection.normalize(), e.nodeChanged() } })) }; return e.on("keydown", function (t) { var n, r, o, i, a; if (!v(t) && t.keyCode === Cg.BACKSPACE && (r = (n = s.getRng()).startContainer, o = n.startOffset, i = u.getRoot(), a = r, n.collapsed && 0 === o)) { for (; a && a.parentNode && a.parentNode.firstChild === a && a.parentNode !== i;)a = a.parentNode; "BLOCKQUOTE" === a.tagName && (e.formatter.toggle("blockquote", null, a), (n = u.createRng()).setStart(r, 0), n.setEnd(r, 0), s.setRng(n)) } }), t = function (e) { var t = u.create("body"), n = e.cloneContents(); return t.appendChild(n), s.serializer.serialize(t, { format: "html" }) }, e.on("keydown", function (n) { var r, o, s, c, l, f = n.keyCode; if (!v(n) && (f === a || f === i)) { if (r = e.selection.isCollapsed(), o = e.getBody(), r && !u.isEmpty(o)) return; if (!r && (s = e.selection.getRng(), c = t(s), (l = u.createRng()).selectNode(e.getBody()), c !== t(l))) return; n.preventDefault(), e.setContent(""), o.firstChild && u.isBlock(o.firstChild) ? e.selection.setCursorLocation(o.firstChild, 0) : e.selection.setCursorLocation(o, 0), e.nodeChanged() } }), de.windowsPhone || e.on("keyup focusin mouseup", function (e) { Cg.modifierPressed(e) || s.normalize() }, !0), m && (e.settings.content_editable || u.bind(e.getDoc(), "mousedown mouseup", function (t) { var n; if (t.target === e.getDoc().documentElement) if (n = s.getRng(), e.getBody().focus(), "mousedown" === t.type) { if (Ei(n.startContainer)) return; s.placeCaretAt(t.clientX, t.clientY) } else s.setRng(n) }), e.on("click", function (t) { var n = t.target; /^(IMG|HR)$/.test(n.nodeName) && "false" !== u.getContentEditableParent(n) && (t.preventDefault(), e.selection.select(n), e.nodeChanged()), "A" === n.nodeName && u.hasClass(n, "mce-item-anchor") && (t.preventDefault(), s.select(n)) }), c.forced_root_block && e.on("init", function () { h("DefaultParagraphSeparator", c.forced_root_block) }), e.on("init", function () { e.dom.bind(e.getBody(), "submit", function (e) { e.preventDefault() }) }), b(), l.addNodeFilter("br", function (e) { for (var t = e.length; t--;)"Apple-interchange-newline" === e[t].attr("class") && e[t].remove() }), de.iOS ? (e.inline || e.on("keydown", function () { document.activeElement === document.body && e.getWin().focus() }), C(), e.on("click", function (e) { var t = e.target; do { if ("A" === t.tagName) return void e.preventDefault() } while (t = t.parentNode) }), e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : y()), de.ie >= 11 && (C(), b()), de.ie && (y(), h("AutoUrlDetect", !1), e.on("dragstart", function (t) { var n, r, o; (n = t).dataTransfer && (e.selection.isCollapsed() && "IMG" === n.target.tagName && s.select(n.target), (r = e.selection.getContent()).length > 0 && (o = p + escape(e.id) + "," + escape(r), n.dataTransfer.setData(g, o))) }), e.on("drop", function (t) { if (!v(t)) { var n = (a = t).dataTransfer && (u = a.dataTransfer.getData(g)) && u.indexOf(p) >= 0 ? (u = u.substr(p.length).split(","), { id: unescape(u[0]), html: unescape(u[1]) }) : null; if (n && n.id !== e.id) { t.preventDefault(); var r = Rv.fromPoint(t.x, t.y, e.getDoc()); s.setRng(r), o = n.html, i = !0, e.queryCommandSupported("mceInsertClipboardContent") ? e.execCommand("mceInsertClipboardContent", !1, { content: o, internal: i }) : e.execCommand("mceInsertContent", !1, o) } } var o, i, a, u })), f && (e.on("keydown", function (t) { if (!v(t) && t.keyCode === i) { if (!e.getBody().getElementsByTagName("hr").length) return; if (s.isCollapsed() && 0 === s.getRng().startOffset) { var n = s.getNode(), r = n.previousSibling; if ("HR" === n.nodeName) return u.remove(n), void t.preventDefault(); r && r.nodeName && "hr" === r.nodeName.toLowerCase() && (u.remove(r), t.preventDefault()) } } }), Range.prototype.getClientRects || e.on("mousedown", function (t) { if (!v(t) && "HTML" === t.target.nodeName) { var n = e.getBody(); n.blur(), ve.setEditorTimeout(e, function () { n.focus() }) } }), n = function () { var t = u.getAttribs(s.getStart().cloneNode(!1)); return function () { var n = s.getStart(); n !== e.getBody() && (u.setAttrib(n, "style", null), o(t, function (e) { n.setAttributeNode(e.cloneNode(!0)) })) } }, r = function () { return !s.isCollapsed() && u.getParent(s.getStart(), u.isBlock) !== u.getParent(s.getEnd(), u.isBlock) }, e.on("keypress", function (t) { var o; if (!v(t) && (8 === t.keyCode || 46 === t.keyCode) && r()) return o = n(), e.getDoc().execCommand("delete", !1, null), o(), t.preventDefault(), !1 }), u.bind(e.getDoc(), "cut", function (t) { var o; !v(t) && r() && (o = n(), ve.setEditorTimeout(e, function () { o() })) }), c.readonly || e.on("BeforeExecCommand MouseDown", function () { h("StyleWithCSS", !1), h("enableInlineTableEditing", !1), c.object_resizing || h("enableObjectResizing", !1) }), e.on("SetContent ExecCommand", function (e) { "setcontent" !== e.type && "mceInsertLink" !== e.command || o(u.select("a"), function (e) { var t = e.parentNode, n = u.getRoot(); if (t.lastChild === e) { for (; t && !u.isBlock(t);) { if (t.parentNode.lastChild !== t || t === n) return; t = t.parentNode } u.add(t, "br", { "data-mce-bogus": 1 }) } }) }), e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), de.mac && e.on("keydown", function (t) { !Cg.metaKeyPressed(t) || t.shiftKey || 37 !== t.keyCode && 39 !== t.keyCode || (t.preventDefault(), e.selection.getSel().modify("move", 37 === t.keyCode ? "backward" : "forward", "lineboundary")) }), b()), { refreshContentEditable: function () { }, isHidden: function () { var t; return !f || e.removed ? 0 : !(t = e.selection.getSel()) || !t.rangeCount || 0 === t.rangeCount } } } var Bb = ui.DOM, Db = function (e) { var t; e.bindPendingEventDelegates(), e.initialized = !0, e.fire("init"), e.focus(!0), e.nodeChanged({ initial: !0 }), e.execCallback("init_instance_callback", e), (t = e).settings.auto_focus && ve.setEditorTimeout(t, function () { var e; (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus() }, 100) }, Ob = function (e, t) { var n, r, o, i, a, u, s, c, l, f = e.settings, d = e.getElement(), m = e.getDoc(); f.inline || (e.getElement().style.visibility = e.orgVisibility), t || f.content_editable || (m.open(), m.write(e.iframeHTML), m.close()), f.content_editable && (e.on("remove", function () { var e = this.getBody(); Bb.removeClass(e, "mce-content-body"), Bb.removeClass(e, "mce-edit-focus"), Bb.setAttrib(e, "contentEditable", null) }), Bb.addClass(d, "mce-content-body"), e.contentDocument = m = f.content_document || document, e.contentWindow = f.content_window || window, e.bodyElement = d, f.content_document = f.content_window = null, f.root_name = d.nodeName.toLowerCase()), (n = e.getBody()).disabled = !0, e.readonly = f.readonly, e.readonly || (e.inline && "static" === Bb.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = e.getParam("content_editable_state", !0)), n.disabled = !1, e.editorUpload = zp(e), e.schema = Go(f), e.dom = new ui(m, { keep_values: !0, url_converter: e.convertURL, url_converter_scope: e, hex_colors: f.force_hex_style_colors, class_filter: f.class_filter, update_styles: !0, root_element: e.inline ? e.getBody() : null, collect: f.content_editable, schema: e.schema, onSetAttrib: function (t) { e.fire("SetAttrib", t) } }), e.parser = ((i = mv((o = e).settings, o.schema)).addAttributeFilter("src,href,style,tabindex", function (e, t) { for (var n, r, i, a = e.length, u = o.dom; a--;)if (r = (n = e[a]).attr(t), i = "data-mce-" + t, !n.attributes.map[i]) { if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue; "style" === t ? ((r = u.serializeStyle(u.parseStyle(r), n.name)).length || (r = null), n.attr(i, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(i, r), n.attr(t, null)) : n.attr(i, o.convertURL(r, t, n.name)) } }), i.addNodeFilter("script", function (e) { for (var t, n, r = e.length; r--;)0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n) }), i.addNodeFilter("#cdata", function (e) { for (var t, n = e.length; n--;)(t = e[n]).type = 8, t.name = "#comment", t.value = "[CDATA[" + t.value + "]]" }), i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) { for (var t, n = e.length, r = o.schema.getNonEmptyElements(); n--;)(t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new nv("br", 1)).shortEnded = !0) }), i), e.serializer = yv(f, e), e.selection = dy(e.dom, e.getWin(), e.serializer, e), e.formatter = Uh(e), e.undoManager = Kg(e), e._nodeChangeDispatcher = new jp(e), e._selectionOverrides = Sg(e), xv(e), _b(e), Hp(e), e.fire("PreInit"), f.browser_spellcheck || f.gecko_spellcheck || (m.body.spellcheck = !1, Bb.setAttrib(n, "spellcheck", "false")), e.quirks = Rb(e), e.fire("PostRender"), f.directionality && (n.dir = f.directionality), f.nowrap && (n.style.whiteSpace = "nowrap"), f.protect && e.on("BeforeSetContent", function (e) { Dt.each(f.protect, function (t) { e.content = e.content.replace(t, function (e) { return "\x3c!--mce:protected " + escape(e) + "--\x3e" }) }) }), e.on("SetContent", function () { e.addVisual(e.getBody()) }), f.padd_empty_editor && e.on("PostProcess", function (e) { e.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/, "") }), e.load({ initial: !0, format: "html" }), e.startContent = e.getContent({ format: "raw" }), e.on("compositionstart compositionend", function (t) { e.composing = "compositionstart" === t.type }), e.contentStyles.length > 0 && (r = "", Dt.each(e.contentStyles, function (e) { r += e + "\r\n" }), e.dom.addStyle(r)), (a = e, a.inline ? Bb.styleSheetLoader : a.dom.styleSheetLoader).loadAll(e.contentCSS, function (t) { Db(e) }, function (t) { Db(e) }), f.content_style && (u = e, s = f.content_style, c = Fn.fromDom(u.getDoc().head), l = Fn.fromTag("style"), sr.set(l, "type", "text/css"), Ks.append(l, Fn.fromText(s)), Ks.append(c, l)) }, Pb = ui.DOM, Lb = function (e, t) { var n, r, o, i, a, u, s, c = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"), l = (n = e.id, r = c, o = t.height, i = Dy(e), s = Fn.fromTag("iframe"), sr.setAll(s, i), sr.setAll(s, { id: n + "_ifr", frameBorder: "0", allowTransparency: "true", title: r }), gr(s, { width: "100%", height: (a = o, u = "number" == typeof a ? a + "px" : a, u || ""), display: "block" }), s).dom(); l.onload = function () { l.onload = null, e.fire("load") }; var f, d, m, p, g = function (e, t) { if (document.domain !== window.location.hostname && de.ie && de.ie < 12) { var n = Fp.uuid("mce"); e[n] = function () { Ob(e) }; var r = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()"; return Pb.setAttrib(t, "src", r), !0 } return !1 }(e, l); return e.contentAreaContainer = t.iframeContainer, e.iframeElement = l, e.iframeHTML = (p = Oy(f = e) + "<html><head>", Py(f) !== f.documentBaseUrl && (p += '<base href="' + f.documentBaseURI.getURI() + '" />'), p += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', d = Ly(f), m = Iy(f), My(f) && (p += '<meta http-equiv="Content-Security-Policy" content="' + My(f) + '" />'), p += '</head><body id="' + d + '" class="mce-content-body ' + m + '" data-id="' + f.id + '"><br></body></html>'), Pb.add(t.iframeContainer, l), g }, Ib = function (e, t) { var n = Lb(e, t); t.editorContainer && (Pb.get(t.editorContainer).style.display = e.orgDisplay, e.hidden = Pb.isHidden(t.editorContainer)), e.getElement().style.display = "none", Pb.setAttrib(e.id, "aria-hidden", !0), n || Ob(e) }, Mb = ui.DOM, Fb = function (e, t, n) { var r, o, i = wp.get(n); if (r = wp.urls[n] || e.documentBaseUrl.replace(/\/$/, ""), n = Dt.trim(n), i && -1 === Dt.inArray(t, n)) { if (Dt.each(wp.dependencies(n), function (n) { Fb(e, t, n) }), e.plugins[n]) return; o = new i(e, r, e.$), e.plugins[n] = o, o.init && (o.init(e, r), t.push(n)) } }, zb = function (e) { return e.replace(/^\-/, "") }, Ub = function (e) { return { editorContainer: e, iframeContainer: e } }, qb = function (e) { var t, n, r = e.getElement(); return e.inline ? Ub(null) : (t = r, n = Mb.create("div"), Mb.insertAfter(n, t), Ub(n)) }, Vb = function (e) { var t, n, r, o, i, a, u, s, c, l, f, d = e.settings, m = e.getElement(); return e.orgDisplay = m.style.display, Jn.isString(d.theme) ? (l = (o = e).settings, f = o.getElement(), i = l.width || Mb.getStyle(f, "width") || "100%", a = l.height || Mb.getStyle(f, "height") || f.offsetHeight, u = l.min_height || 100, (s = /^[0-9\.]+(|px)$/i).test("" + i) && (i = Math.max(parseInt(i, 10), 100)), s.test("" + a) && (a = Math.max(parseInt(a, 10), u)), c = o.theme.renderUI({ targetNode: f, width: i, height: a, deltaWidth: l.delta_width, deltaHeight: l.delta_height }), l.content_editable || (a = (c.iframeHeight || a) + ("number" == typeof a ? c.deltaHeight || 0 : "")) < u && (a = u), c.height = a, c) : Jn.isFunction(d.theme) ? (r = (t = e).getElement(), (n = t.settings.theme(t, r)).editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || t.id + "_parent"), n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || t.id + "_iframecontainer"), n.height = n.iframeHeight ? n.iframeHeight : r.offsetHeight, n) : qb(e) }, Hb = function (e) { var t, n, r, o, i, a, u = e.settings, s = e.getElement(); return e.rtl = u.rtl_ui || e.editorManager.i18n.rtl, e.editorManager.i18n.setCode(u.language), u.aria_label = u.aria_label || Mb.getAttrib(s, "aria-label", e.getLang("aria.rich_text_area")), e.fire("ScriptsLoaded"), o = (n = e).settings.theme, Jn.isString(o) ? (n.settings.theme = zb(o), r = Np.get(o), n.theme = new r(n, Np.urls[o]), n.theme.init && n.theme.init(n, Np.urls[o] || n.documentBaseUrl.replace(/\/$/, ""), n.$)) : n.theme = {}, i = e, a = [], Dt.each(i.settings.plugins.split(/[ ,]/), function (e) { Fb(i, a, zb(e)) }), t = Vb(e), e.editorContainer = t.editorContainer ? t.editorContainer : null, u.content_css && Dt.each(Dt.explode(u.content_css), function (t) { e.contentCSS.push(e.documentBaseURI.toAbsolute(t)) }), u.content_editable ? Ob(e) : Ib(e, t) }, jb = ui.DOM, $b = function (e) { return "-" === e.charAt(0) }, Wb = function (e, t) { var n = di.ScriptLoader; !function (e, t, n, r) { var o = t.settings, i = o.theme; if (Jn.isString(i)) { if (!$b(i) && !Np.urls.hasOwnProperty(i)) { var a = o.theme_url; a ? Np.load(i, t.documentBaseURI.toAbsolute(a)) : Np.load(i, "themes/" + i + "/theme" + n + ".js") } e.loadQueue(function () { Np.waitFor(i, r) }) } else r() }(n, e, t, function () { var r, o, i, a, u; r = n, (i = (o = e).settings).language && "en" !== i.language && !i.language_url && (i.language_url = o.editorManager.baseURL + "/langs/" + i.language + ".js"), i.language_url && !o.editorManager.i18n.data[i.language] && r.add(i.language_url), a = e.settings, u = t, Dt.isArray(a.plugins) && (a.plugins = a.plugins.join(" ")), Dt.each(a.external_plugins, function (e, t) { wp.load(t, e), a.plugins += " " + t }), Dt.each(a.plugins.split(/[ ,]/), function (e) { if ((e = Dt.trim(e)) && !wp.urls[e]) if ($b(e)) { e = e.substr(1, e.length); var t = wp.dependencies(e); Dt.each(t, function (e) { var t = { prefix: "plugins/", resource: e, suffix: "/plugin" + u + ".js" }; e = wp.createUrl(t, e), wp.load(e.resource, e) }) } else wp.load(e, { prefix: "plugins/", resource: e, suffix: "/plugin" + u + ".js" }) }), n.loadQueue(function () { e.removed || Hb(e) }, e, function (t) { xp.pluginLoadError(e, t[0]), e.removed || Hb(e) }) }) }, Kb = function (e) { var t = e.settings, n = e.id, r = function () { jb.unbind(window, "ready", r), e.render() }; if (ke.Event.domLoaded) { if (e.getElement() && de.contentEditable) { t.inline ? e.inline = !0 : (e.orgVisibility = e.getElement().style.visibility, e.getElement().style.visibility = "hidden"); var o = e.getElement().form || jb.getParent(n, "form"); o && (e.formElement = o, t.hidden_input && !/TEXTAREA|INPUT/i.test(e.getElement().nodeName) && (jb.insertAfter(jb.create("input", { type: "hidden", name: n }), n), e.hasHiddenInput = !0), e.formEventDelegate = function (t) { e.fire(t.type, t) }, jb.bind(o, "submit reset", e.formEventDelegate), e.on("reset", function () { e.setContent(e.startContent, { format: "raw" }) }), !t.submit_patch || o.submit.nodeType || o.submit.length || o._mceOldSubmit || (o._mceOldSubmit = o.submit, o.submit = function () { return e.editorManager.triggerSave(), e.setDirty(!1), o._mceOldSubmit(o) })), e.windowManager = hp(e), e.notificationManager = gp(e), "xml" === t.encoding && e.on("GetContent", function (e) { e.save && (e.content = jb.encode(e.content)) }), t.add_form_submit_trigger && e.on("submit", function () { e.initialized && e.save() }), t.add_unload_trigger && (e._beforeUnload = function () { !e.initialized || e.destroyed || e.isHidden() || e.save({ format: "raw", no_events: !0, set_dirty: !1 }) }, e.editorManager.on("BeforeUnload", e._beforeUnload)), e.editorManager.add(e), Wb(e, e.suffix) } } else jb.bind(window, "ready", r) }, Xb = function (e, t, n) { var r = e.sidebars ? e.sidebars : []; r.push({ name: t, settings: n }), e.sidebars = r }, Yb = Dt.each, Gb = Dt.trim, Jb = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "), Qb = { ftp: 21, http: 80, https: 443, mailto: 25 }, Zb = function (e, t) { var n, r, o = this; if (e = Gb(e), n = (t = o.settings = t || {}).base_uri, /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) o.source = e; else { var i = 0 === e.indexOf("//"); 0 !== e.indexOf("/") || i || (e = (n && n.protocol || "http") + "://mce_host" + e), /^[\w\-]*:?\/\//.test(e) || (r = t.base_uri ? t.base_uri.path : new Zb(document.location.href).directory, "" == t.base_uri.protocol ? e = "//mce_host" + o.toAbsPath(r, e) : (e = /([^#?]*)([#?]?.*)/.exec(e), e = (n && n.protocol || "http") + "://mce_host" + o.toAbsPath(r, e[1]) + e[2])), e = e.replace(/@@/g, "(mce_at)"), e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e), Yb(Jb, function (t, n) { var r = e[n]; r && (r = r.replace(/\(mce_at\)/g, "@@")), o[t] = r }), n && (o.protocol || (o.protocol = n.protocol), o.userInfo || (o.userInfo = n.userInfo), o.port || "mce_host" !== o.host || (o.port = n.port), o.host && "mce_host" !== o.host || (o.host = n.host), o.source = ""), i && (o.protocol = "") } }; Zb.prototype = { setPath: function (e) { e = /^(.*?)\/?(\w+)?$/.exec(e), this.path = e[0], this.directory = e[1], this.file = e[2], this.source = "", this.getURI() }, toRelative: function (e) { var t; if ("./" === e) return e; if ("mce_host" !== (e = new Zb(e, { base_uri: this })).host && this.host !== e.host && e.host || this.port !== e.port || this.protocol !== e.protocol && "" !== e.protocol) return e.getURI(); var n = this.getURI(), r = e.getURI(); return n === r || "/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r ? n : (t = this.toRelPath(this.path, e.path), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t) }, toAbsolute: function (e, t) { return (e = new Zb(e, { base_uri: this })).getURI(t && this.isSameOrigin(e)) }, isSameOrigin: function (e) { if (this.host == e.host && this.protocol == e.protocol) { if (this.port == e.port) return !0; var t = Qb[this.protocol]; if (t && (this.port || t) == (e.port || t)) return !0 } return !1 }, toRelPath: function (e, t) { var n, r, o, i = 0, a = ""; if (e = (e = e.substring(0, e.lastIndexOf("/"))).split("/"), n = t.split("/"), e.length >= n.length) for (r = 0, o = e.length; r < o; r++)if (r >= n.length || e[r] !== n[r]) { i = r + 1; break } if (e.length < n.length) for (r = 0, o = n.length; r < o; r++)if (r >= e.length || e[r] !== n[r]) { i = r + 1; break } if (1 === i) return t; for (r = 0, o = e.length - (i - 1); r < o; r++)a += "../"; for (r = i - 1, o = n.length; r < o; r++)a += r !== i - 1 ? "/" + n[r] : n[r]; return a }, toAbsPath: function (e, t) { var n, r, o, i = 0, a = []; for (r = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), Yb(e, function (e) { e && a.push(e) }), e = a, n = t.length - 1, a = []; n >= 0; n--)0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? i > 0 ? i-- : a.push(t[n]) : i++); return 0 !== (o = (n = e.length - i) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o), r && o.lastIndexOf("/") !== o.length - 1 && (o += r), o }, getURI: function (e) { var t, n = this; return n.source && !e || (t = "", e || (n.protocol ? t += n.protocol + "://" : t += "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source } }, Zb.parseDataUri = function (e) { var t, n; return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), { type: t, data: e[1] } }, Zb.getDocumentBaseUrl = function (e) { var t; return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t }; var eC = function (e, t) { t(e), e.firstChild && eC(e.firstChild, t), e.next && eC(e.next, t) }, tC = function (e, t, n) { var r = function (e, t, n) { var r = {}, o = {}, i = []; for (var a in n.firstChild && eC(n.firstChild, function (n) { M.each(e, function (e) { e.name === n.name && (r[e.name] ? r[e.name].nodes.push(n) : r[e.name] = { filter: e, nodes: [n] }) }), M.each(t, function (e) { "string" == typeof n.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(n) : o[e.name] = { filter: e, nodes: [n] }) }) }), r) r.hasOwnProperty(a) && i.push(r[a]); for (var u in o) o.hasOwnProperty(u) && i.push(o[u]); return i }(e, t, n); M.each(r, function (e) { M.each(e.filter.callbacks, function (t) { t(e.nodes, e.filter.name, {}) }) }) }, nC = function (e) { return e instanceof nv }, rC = function (e, t, n) { return void 0 === n && (n = {}), n.format = n.format ? n.format : "html", n.set = !0, n.content = nC(t) ? "" : t, nC(t) || n.no_events || (e.fire("BeforeSetContent", n), t = n.content), nC(t) ? function (e, t, n) { tC(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), t); var r = ic({ validate: e.validate }, e.schema).serialize(t); return n.content = Dt.trim(r), e.dom.setHTML(e.getBody(), n.content), n.no_events || e.fire("SetContent", n), t }(e, t, n) : (o = t, i = n, s = (r = e).getBody(), 0 === o.length || /^\s+$/.test(o) ? (u = '<br data-mce-bogus="1">', "TABLE" === s.nodeName ? o = "<tr><td>" + u + "</td></tr>" : /^(UL|OL)$/.test(s.nodeName) && (o = "<li>" + u + "</li>"), (a = r.settings.forced_root_block) && r.schema.isValidChild(s.nodeName.toLowerCase(), a.toLowerCase()) ? (o = u, o = r.dom.createHTML(a, r.settings.forced_root_block_attrs, o)) : o || (o = '<br data-mce-bogus="1">'), r.dom.setHTML(s, o), r.fire("SetContent", i)) : ("raw" !== i.format && (o = ic({ validate: r.validate }, r.schema).serialize(r.parser.parse(o, { isRootContent: !0, insert: !0 }))), i.content = Dt.trim(o), r.dom.setHTML(s, i.content), i.no_events || r.fire("SetContent", i)), i.content); var r, o, i, a, u, s }, oC = ui.DOM, iC = function (e) { return E.from(e).each(function (e) { return e.destroy() }) }, aC = function (e) { if (!e.removed) { var t = e._selectionOverrides, n = e.editorUpload, r = e.getBody(), o = e.getElement(); r && e.save(), e.removed = 1, e.unbindAllNativeEvents(), e.hasHiddenInput && o && oC.remove(o.nextSibling), !e.inline && r && (i = e, oC.setStyle(i.id, "display", i.orgDisplay)), Kh(e), e.editorManager.remove(e), oC.remove(e.getContainer()), iC(t), iC(n), e.destroy() } var i }, uC = function (e, t) { var n, r, o, i = e.selection, a = e.dom; e.destroyed || (t || e.removed ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), iC(i), iC(a)), (r = (n = e).formElement) && (r._mceOldSubmit && (r.submit = r._mceOldSubmit, r._mceOldSubmit = null), oC.unbind(r, "submit reset", n.formEventDelegate)), (o = e).contentAreaContainer = o.formElement = o.container = o.editorContainer = null, o.bodyElement = o.contentDocument = o.contentWindow = null, o.iframeElement = o.targetElm = null, o.selection && (o.selection = o.selection.win = o.selection.dom = o.selection.dom.doc = null), e.destroyed = 1) : e.remove()) }, sC = ui.DOM, cC = Dt.extend, lC = Dt.each, fC = Dt.resolve, dC = de.ie, mC = function (e, t, n) { var r, o, i, a, u, s, c, l, f, d = this; r = d.documentBaseUrl = n.documentBaseURL, o = n.baseURI, i = d, a = e, u = r, s = n.defaultSettings, c = t, f = { id: a, theme: "modern", delta_width: 0, delta_height: 0, popup_css: "", plugins: "", document_base_url: u, add_form_submit_trigger: !0, submit_patch: !0, add_unload_trigger: !0, convert_urls: !0, relative_urls: !0, remove_script_host: !0, object_resizing: !0, doctype: "<!DOCTYPE html>", visual: !0, font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large", font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%", forced_root_block: "p", hidden_input: !0, padd_empty_editor: !0, render_ui: !0, indentation: "30px", inline_styles: !0, convert_fonts_to_spans: !0, indent: "simple", indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist", indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist", entity_encoding: "named", url_converter: (l = i).convertURL, url_converter_scope: l, ie7_compat: !0 }, t = Nc(vc, f, s, c), d.settings = t, pi.language = t.language || "en", pi.languageLoad = t.language_load, pi.baseURL = n.baseURL, d.id = e, d.setDirty(!1), d.plugins = {}, d.documentBaseURI = new Zb(t.document_base_url, { base_uri: o }), d.baseURI = o, d.contentCSS = [], d.contentStyles = [], d.shortcuts = new Gm(d), d.loadedCSS = {}, d.editorCommands = new Dm(d), d.suffix = n.suffix, d.editorManager = n, d.inline = t.inline, d.buttons = {}, d.menuItems = {}, t.cache_suffix && (de.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")), !1 === t.override_viewport && (de.overrideViewPort = !1), n.fire("SetupEditor", { editor: d }), d.execCallback("setup", d), d.$ = Jt.overrideDefaults(function () { return { context: d.inline ? d.getBody() : d.getDoc(), element: d.getBody() } }) }; cC(mC.prototype = { render: function () { Kb(this) }, focus: function (e) { ap(this, e) }, execCallback: function (e) { var t, n = this.settings[e]; if (n) return this.callbackLookup && (t = this.callbackLookup[e]) && (n = t.func, t = t.scope), "string" == typeof n && (t = (t = n.replace(/\.\w+$/, "")) ? fC(t) : 0, n = fC(n), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = { func: n, scope: t }), n.apply(t || this, Array.prototype.slice.call(arguments, 1)) }, translate: function (e) { if (e && Dt.is(e, "string")) { var t = this.settings.language || "en", n = this.editorManager.i18n; e = n.data[t + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function (e, r) { return n.data[t + "." + r] || "{#" + r + "}" }) } return this.editorManager.translate(e) }, getLang: function (e, t) { return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (t !== undefined ? t : "{#" + e + "}") }, getParam: function (e, t, n) { return kc(this, e, t, n) }, nodeChanged: function (e) { this._nodeChangeDispatcher.nodeChanged(e) }, addButton: function (e, t) { var n = this; t.cmd && (t.onclick = function () { n.execCommand(t.cmd) }), t.stateSelector && "undefined" == typeof t.active && (t.active = !1), t.text || t.icon || (t.icon = e), n.buttons = n.buttons, t.tooltip = t.tooltip || t.title, n.buttons[e] = t }, addSidebar: function (e, t) { return Xb(this, e, t) }, addMenuItem: function (e, t) { var n = this; t.cmd && (t.onclick = function () { n.execCommand(t.cmd) }), n.menuItems = n.menuItems, n.menuItems[e] = t }, addContextToolbar: function (e, t) { var n, r = this; r.contextToolbars = r.contextToolbars || [], "string" == typeof e && (n = e, e = function (e) { return r.dom.is(e, n) }), r.contextToolbars.push({ id: Fp.uuid("mcet"), predicate: e, items: t }) }, addCommand: function (e, t, n) { this.editorCommands.addCommand(e, t, n) }, addQueryStateHandler: function (e, t, n) { this.editorCommands.addQueryStateHandler(e, t, n) }, addQueryValueHandler: function (e, t, n) { this.editorCommands.addQueryValueHandler(e, t, n) }, addShortcut: function (e, t, n, r) { this.shortcuts.add(e, t, n, r) }, execCommand: function (e, t, n, r) { return this.editorCommands.execCommand(e, t, n, r) }, queryCommandState: function (e) { return this.editorCommands.queryCommandState(e) }, queryCommandValue: function (e) { return this.editorCommands.queryCommandValue(e) }, queryCommandSupported: function (e) { return this.editorCommands.queryCommandSupported(e) }, show: function () { this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = !0 : (sC.show(this.getContainer()), sC.hide(this.id)), this.load(), this.fire("show")) }, hide: function () { var e = this, t = e.getDoc(); e.hidden || (dC && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (sC.hide(e.getContainer()), sC.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide")) }, isHidden: function () { return !!this.hidden }, setProgressState: function (e, t) { this.fire("ProgressState", { state: e, time: t }) }, load: function (e) { var t, n = this.getElement(); return this.removed ? "" : n ? ((e = e || {}).load = !0, t = this.setContent(n.value !== undefined ? n.value : n.innerHTML, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t) : void 0 }, save: function (e) { var t, n, r = this, o = r.getElement(); if (o && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = o, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, /TEXTAREA|INPUT/i.test(o.nodeName) ? o.value = t : (r.inline || (o.innerHTML = t), (n = sC.getParent(r.id, "form")) && lC(n.elements, function (e) { if (e.name === r.id) return e.value = t, !1 })), e.element = o = null, !1 !== e.set_dirty && r.setDirty(!1), t }, setContent: function (e, t) { return rC(this, e, t) }, getContent: function (e) { return function (e, t) { var n; void 0 === t && (t = {}); var r = e.getBody(); if (e.removed) return ""; if (t.format = t.format ? t.format : "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) n = Dt.trim(Og(e.serializer, r.innerHTML)); else if ("text" === t.format) n = r.innerText || r.textContent; else { if ("tree" === t.format) return e.serializer.serialize(r, t); n = e.serializer.serialize(r, t) } return "text" !== t.format ? t.content = Dt.trim(n) : t.content = n, t.no_events || e.fire("GetContent", t), t.content }(this, e) }, insertContent: function (e, t) { t && (e = cC({ content: e }, t)), this.execCommand("mceInsertContent", !1, e) }, isDirty: function () { return !this.isNotDirty }, setDirty: function (e) { var t = !this.isNotDirty; this.isNotDirty = !e, e && e !== t && this.fire("dirty") }, setMode: function (e) { $m(this, e) }, getContainer: function () { return this.container || (this.container = sC.get(this.editorContainer || this.id + "_parent")), this.container }, getContentAreaContainer: function () { return this.contentAreaContainer }, getElement: function () { return this.targetElm || (this.targetElm = sC.get(this.id)), this.targetElm }, getWin: function () { var e; return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow }, getDoc: function () { var e; return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument }, getBody: function () { var e = this.getDoc(); return this.bodyElement || (e ? e.body : null) }, convertURL: function (e, t, n) { var r = this.settings; return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host) }, addVisual: function (e) { var t, n = this, r = n.settings, o = n.dom; e = e || n.getBody(), n.hasVisual === undefined && (n.hasVisual = r.visual), lC(o.select("table,a", e), function (e) { var i; switch (e.nodeName) { case "TABLE": return t = r.visual_table_class || "mce-item-table", void ((i = o.getAttrib(e, "border")) && "0" !== i || !n.hasVisual ? o.removeClass(e, t) : o.addClass(e, t)); case "A": return void (o.getAttrib(e, "href", !1) || (i = o.getAttrib(e, "name") || e.id, t = r.visual_anchor_class || "mce-item-anchor", i && n.hasVisual ? o.addClass(e, t) : o.removeClass(e, t))) } }), n.fire("VisualAid", { element: e, hasVisual: n.hasVisual }) }, remove: function () { aC(this) }, destroy: function (e) { uC(this, e) }, uploadImages: function (e) { return this.editorUpload.uploadImages(e) }, _scanForImages: function () { return this.editorUpload.scanForImages() } }, Vm); var pC, gC, hC, vC = { isEditorUIElement: function (e) { return -1 !== e.className.toString().indexOf("mce-") } }, yC = function (e, t) { var n, r, o = In.detect().browser; o.isIE() || o.isEdge() ? (r = e).on("focusout", function () { Nm.store(r) }) : (n = t, e.on("mouseup touchend", function (e) { n.throttle() })), e.on("keyup nodechange", function (t) { var n; "nodechange" === (n = t).type && n.selectionChange || Nm.store(e) }) }, bC = function (e) { var t, n, r, o = yg(function () { Nm.store(e) }, 0); e.inline && (t = e, n = o, r = function () { n.throttle() }, ui.DOM.bind(document, "mouseup", r), t.on("remove", function () { ui.DOM.unbind(document, "mouseup", r) })), e.on("init", function () { yC(e, o) }), e.on("remove", function () { o.cancel() }) }, CC = ui.DOM, xC = function (e) { return vC.isEditorUIElement(e) }, wC = function (e, t) { var n = e ? e.settings.custom_ui_selector : ""; return null !== CC.getParent(t, function (t) { return xC(t) || !!n && e.dom.is(t, n) }) }, NC = function (e, t) { var n = t.editor; bC(n), n.on("focusin", function () { var t = e.focusedEditor; t !== this && (t && t.fire("blur", { focusedEditor: this }), e.setActive(this), e.focusedEditor = this, this.fire("focus", { blurredEditor: t }), this.focus(!0)) }), n.on("focusout", function () { var t = this; ve.setEditorTimeout(t, function () { var n = e.focusedEditor; wC(t, function () { try { return document.activeElement } catch (e) { return document.body } }()) || n !== t || (t.fire("blur", { focusedEditor: null }), e.focusedEditor = null) }) }), pC || (pC = function (t) { var n, r = e.activeEditor; n = t.target, r && n.ownerDocument === document && (n === document.body || wC(r, n) || e.focusedEditor !== r || (r.fire("blur", { focusedEditor: null }), e.focusedEditor = null)) }, CC.bind(document, "focusin", pC)) }, EC = function (e, t) { e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (CC.unbind(document, "focusin", pC), pC = null) }, SC = function (e) { e.on("AddEditor", y.curry(NC, e)), e.on("RemoveEditor", y.curry(EC, e)) }, kC = {}, TC = "en", AC = { setCode: function (e) { e && (TC = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir) }, getCode: function () { return TC }, rtl: !1, add: function (e, t) { var n = kC[e]; for (var r in n || (kC[e] = n = {}), t) n[r] = t[r]; this.setCode(e) }, translate: function (e) { var t = kC[TC] || {}, n = function (e) { return Dt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "" : "" + e }, r = function (e) { return "" === e || null === e || Dt.is(e, "undefined") }, o = function (e) { return e = n(e), Dt.hasOwn(t, e) ? n(t[e]) : e }; if (r(e)) return ""; if (Dt.is(e, "object") && Dt.hasOwn(e, "raw")) return n(e.raw); if (Dt.is(e, "array")) { var i = e.slice(1); e = o(e[0]).replace(/\{([0-9]+)\}/g, function (e, t) { return Dt.hasOwn(i, t) ? n(i[t]) : e }) } return o(e).replace(/{context:\w+}$/, "") }, data: kC }, _C = ui.DOM, RC = Dt.explode, BC = Dt.each, DC = Dt.extend, OC = 0, PC = !1, LC = [], IC = [], MC = function (e) { BC(hC.get(), function (t) { "scroll" === e.type ? t.fire("ScrollWindow", e) : t.fire("ResizeWindow", e) }) }, FC = function (e) { e !== PC && (e ? Jt(window).on("resize scroll", MC) : Jt(window).off("resize scroll", MC), PC = e) }, zC = function (e) { var t = IC; delete LC[e.id]; for (var n = 0; n < LC.length; n++)if (LC[n] === e) { LC.splice(n, 1); break } return IC = M.filter(IC, function (t) { return e !== t }), hC.activeEditor === e && (hC.activeEditor = IC.length > 0 ? IC[0] : null), hC.focusedEditor === e && (hC.focusedEditor = null), t.length !== IC.length }; DC(hC = { defaultSettings: {}, $: Jt, majorVersion: "4", minorVersion: "7.9", releaseDate: "2018-02-27", editors: LC, i18n: AC, activeEditor: null, settings: {}, setup: function () { var e, t, n, r, o = ""; if (t = Zb.getDocumentBaseUrl(document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), n = window.tinymce || window.tinyMCEPreInit) e = n.base || n.baseURL, o = n.suffix; else { for (var i = document.getElementsByTagName("script"), a = 0; a < i.length; a++) { var u = (r = i[a].src).substring(r.lastIndexOf("/")); if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)) { -1 !== u.indexOf(".min") && (o = ".min"), e = r.substring(0, r.lastIndexOf("/")); break } } !e && document.currentScript && (-1 !== (r = document.currentScript.src).indexOf(".min") && (o = ".min"), e = r.substring(0, r.lastIndexOf("/"))) } this.baseURL = new Zb(t).toAbsolute(e), this.documentBaseURL = t, this.baseURI = new Zb(this.baseURL), this.suffix = o, SC(this) }, overrideDefaults: function (e) { var t, n; (t = e.base_url) && (this.baseURL = new Zb(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new Zb(this.baseURL)), n = e.suffix, e.suffix && (this.suffix = n), this.defaultSettings = e; var r = e.plugin_base_urls; for (var o in r) pi.PluginManager.urls[o] = r[o] }, init: function (e) { var t, n, r = this; n = Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " "); var o = function (e) { var t = e.id; return t || (t = (t = e.name) && !_C.get(t) ? e.name : _C.uniqueId(), e.setAttribute("id", t)), t }, i = function (e, t) { return t.constructor === RegExp ? t.test(e.className) : _C.hasClass(e, t) }, a = function (e) { t = e }, u = function () { var t, s = 0, c = [], l = function (e, n, o) { var i = new mC(e, n, r); c.push(i), i.on("init", function () { ++s === t.length && a(c) }), i.targetElm = i.targetElm || o, i.render() }; _C.unbind(window, "ready", u), function (t) { var n = e[t]; n && n.apply(r, Array.prototype.slice.call(arguments, 2)) }("onpageload"), t = Jt.unique(function (e) { var t, n = []; if (de.ie && de.ie < 11) return xp.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), []; if (e.types) return BC(e.types, function (e) { n = n.concat(_C.select(e.selector)) }), n; if (e.selector) return _C.select(e.selector); if (e.target) return [e.target]; switch (e.mode) { case "exact": (t = e.elements || "").length > 0 && BC(RC(t), function (e) { var t; (t = _C.get(e)) ? n.push(t) : BC(document.forms, function (t) { BC(t.elements, function (t) { t.name === e && (e = "mce_editor_" + OC++, _C.setAttrib(t, "id", e), n.push(t)) }) }) }); break; case "textareas": case "specific_textareas": BC(_C.select("textarea"), function (t) { e.editor_deselector && i(t, e.editor_deselector) || e.editor_selector && !i(t, e.editor_selector) || n.push(t) }) }return n }(e)), e.types ? BC(e.types, function (n) { Dt.each(t, function (t) { return !_C.is(t, n.selector) || (l(o(t), DC({}, e, n), t), !1) }) }) : (Dt.each(t, function (e) { var t; (t = r.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && (zC(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0, t = null) }), 0 === (t = Dt.grep(t, function (e) { return !r.get(e.id) })).length ? a([]) : BC(t, function (t) { var r; r = t, e.inline && r.tagName.toLowerCase() in n ? xp.initError("Could not initialize inline editor on invalid inline target element", t) : l(o(t), e, t) })) }; return r.settings = e, _C.bind(window, "ready", u), new me(function (e) { t ? e(t) : a = function (t) { e(t) } }) }, get: function (e) { return 0 === arguments.length ? IC.slice(0) : Jn.isString(e) ? M.find(IC, function (t) { return t.id === e }).getOr(null) : Jn.isNumber(e) && IC[e] ? IC[e] : null }, add: function (e) { var t = this; return LC[e.id] === e ? e : (null === t.get(e.id) && ("length" !== e.id && (LC[e.id] = e), LC.push(e), IC.push(e)), FC(!0), t.activeEditor = e, t.fire("AddEditor", { editor: e }), gC || (gC = function () { t.fire("BeforeUnload") }, _C.bind(window, "beforeunload", gC)), e) }, createEditor: function (e, t) { return this.add(new mC(e, t, this)) }, remove: function (e) { var t, n, r = this; if (e) return Jn.isString(e) ? (e = e.selector || e, void BC(_C.select(e), function (e) { (n = r.get(e.id)) && r.remove(n) })) : (n = e, Jn.isNull(r.get(n.id)) ? null : (zC(n) && r.fire("RemoveEditor", { editor: n }), 0 === IC.length && _C.unbind(window, "beforeunload", gC), n.remove(), FC(IC.length > 0), n)); for (t = IC.length - 1; t >= 0; t--)r.remove(IC[t]) }, execCommand: function (e, t, n) { var r = this.get(n); switch (e) { case "mceAddEditor": return this.get(n) || new mC(n, this.settings, this).render(), !0; case "mceRemoveEditor": return r && r.remove(), !0; case "mceToggleEditor": return r ? (r.isHidden() ? r.show() : r.hide(), !0) : (this.execCommand("mceAddEditor", 0, n), !0) }return !!this.activeEditor && this.activeEditor.execCommand(e, t, n) }, triggerSave: function () { BC(IC, function (e) { e.save() }) }, addI18n: function (e, t) { AC.add(e, t) }, translate: function (e) { return AC.translate(e) }, setActive: function (e) { var t = this.activeEditor; this.activeEditor !== e && (t && t.fire("deactivate", { relatedTarget: e }), e.fire("activate", { relatedTarget: t })), this.activeEditor = e } }, Mm), hC.setup(); var UC, qC = hC; function VC(e) { return { walk: function (t, n) { return th.walk(e, t, n) }, split: lf.split, normalize: function (t) { return Yd.normalize(e, t).fold(y.constant(!1), function (e) { return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0 }) } } } (UC = VC || (VC = {})).compareRanges = qd.isEq, UC.getCaretRangeFromPoint = Rv.fromPoint, UC.getSelectedNode = Xi, UC.getNode = Yi; var HC, jC, $C = VC, WC = Math.min, KC = Math.max, XC = Math.round, YC = function (e, t, n) { var r, o, i, a, u, s; return r = t.x, o = t.y, i = e.w, a = e.h, u = t.w, s = t.h, "b" === (n = (n || "").split(""))[0] && (o += s), "r" === n[1] && (r += u), "c" === n[0] && (o += XC(s / 2)), "c" === n[1] && (r += XC(u / 2)), "b" === n[3] && (o -= a), "r" === n[4] && (r -= i), "c" === n[3] && (o -= XC(a / 2)), "c" === n[4] && (r -= XC(i / 2)), GC(r, o, i, a) }, GC = function (e, t, n, r) { return { x: e, y: t, w: n, h: r } }, JC = { inflate: function (e, t, n) { return GC(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n) }, relativePosition: YC, findBestRelativePosition: function (e, t, n, r) { var o, i; for (i = 0; i < r.length; i++)if ((o = YC(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i]; return null }, intersect: function (e, t) { var n, r, o, i; return n = KC(e.x, t.x), r = KC(e.y, t.y), o = WC(e.x + e.w, t.x + t.w), i = WC(e.y + e.h, t.y + t.h), o - n < 0 || i - r < 0 ? null : GC(n, r, o - n, i - r) }, clamp: function (e, t, n) { var r, o, i, a, u, s, c, l, f, d; return u = e.x, s = e.y, c = e.x + e.w, l = e.y + e.h, f = t.x + t.w, d = t.y + t.h, r = KC(0, t.x - u), o = KC(0, t.y - s), i = KC(0, c - f), a = KC(0, l - d), u += r, s += o, n && (c += r, l += o, u -= i, s -= a), GC(u, s, (c -= i) - u, (l -= a) - s) }, create: GC, fromClientRect: function (e) { return GC(e.left, e.top, e.width, e.height) } }, QC = {}, ZC = { add: function (e, t) { QC[e.toLowerCase()] = t }, has: function (e) { return !!QC[e.toLowerCase()] }, get: function (e) { var t = e.toLowerCase(), n = QC.hasOwnProperty(t) ? QC[t] : null; if (null === n) throw new Error("Could not find module for type: " + e); return n }, create: function (e, t) { var n; if ("string" == typeof e ? (t = t || {}).type = e : e = (t = e).type, e = e.toLowerCase(), !(n = QC[e])) throw new Error("Could not find control by type: " + e); return (n = new n(t)).type = e, n } }, ex = Dt.each, tx = Dt.extend, nx = function () { }; nx.extend = HC = function (e) { var t, n, r, o = this.prototype, i = function () { var e, t, n; if (!jC && (this.init && this.init.apply(this, arguments), t = this.Mixins)) for (e = t.length; e--;)(n = t[e]).init && n.init.apply(this, arguments) }, a = function () { return this }, u = function (e, t) { return function () { var n, r = this._super; return this._super = o[e], n = t.apply(this, arguments), this._super = r, n } }; for (n in jC = !0, t = new this, jC = !1, e.Mixins && (ex(e.Mixins, function (t) { for (var n in t) "init" !== n && (e[n] = t[n]) }), o.Mixins && (e.Mixins = o.Mixins.concat(e.Mixins))), e.Methods && ex(e.Methods.split(","), function (t) { e[t] = a }), e.Properties && ex(e.Properties.split(","), function (t) { var n = "_" + t; e[t] = function (e) { return e !== undefined ? (this[n] = e, this) : this[n] } }), e.Statics && ex(e.Statics, function (e, t) { i[t] = e }), e.Defaults && o.Defaults && (e.Defaults = tx({}, o.Defaults, e.Defaults)), e) "function" == typeof (r = e[n]) && o[n] ? t[n] = u(n, r) : t[n] = r; return i.prototype = t, i.constructor = i, i.extend = HC, i }; var rx = Math.min, ox = Math.max, ix = Math.round, ax = function (e, t) { var n, r, o, i; if (t = t || '"', null === e) return "null"; if ("string" == (o = typeof e)) return r = "\bb\tt\nn\ff\rr\"\"''\\\\", t + e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function (e, o) { return '"' === t && "'" === e ? e : (n = r.indexOf(o)) + 1 ? "\\" + r.charAt(n + 1) : (e = o.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e) }) + t; if ("object" === o) { if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) { for (n = 0, r = "["; n < e.length; n++)r += (n > 0 ? "," : "") + ax(e[n], t); return r + "]" } for (i in r = "{", e) e.hasOwnProperty(i) && (r += "function" != typeof e[i] ? (r.length > 1 ? "," + t : t) + i + t + ":" + ax(e[i], t) : ""); return r + "}" } return "" + e }, ux = { serialize: ax, parse: function (e) { try { return JSON.parse(e) } catch (t) { } } }, sx = { callbacks: {}, count: 0, send: function (e) { var t = this, n = ui.DOM, r = e.count !== undefined ? e.count : t.count, o = "tinymce_jsonp_" + r; t.callbacks[r] = function (i) { n.remove(o), delete t.callbacks[r], e.callback(i) }, n.add(n.doc.body, "script", { id: o, src: e.url, type: "text/javascript" }), t.count++ } }, cx = { send: function (e) { var t, n = 0, r = function () { !e.async || 4 === t.readyState || n++ > 1e4 ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, n > 1e4 ? "TIMED_OUT" : "GENERAL", t, e), t = null) : setTimeout(r, 10) }; if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", cx.fire("beforeInitialize", { settings: e }), t = new Ep) { if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && Dt.each(e.requestheaders, function (e) { t.setRequestHeader(e.key, e.value) }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = cx.fire("beforeSend", { xhr: t, settings: e }).xhr).send(e.data), !e.async) return r(); setTimeout(r, 10) } } }; Dt.extend(cx, Mm); var lx = Dt.extend, fx = function (e) { this.settings = lx({}, e), this.count = 0 }; fx.sendRPC = function (e) { return (new fx).send(e) }, fx.prototype = { send: function (e) { var t = e.error, n = e.success; (e = lx(this.settings, e)).success = function (r, o) { void 0 === (r = ux.parse(r)) && (r = { error: "JSON Parse error." }), r.error ? t.call(e.error_scope || e.scope, r.error, o) : n.call(e.success_scope || e.scope, r.result) }, e.error = function (n, r) { t && t.call(e.error_scope || e.scope, n, r) }, e.data = ux.serialize({ id: e.id || "c" + this.count++, method: e.method, params: e.params }), e.content_type = "application/json", cx.send(e) } }; var dx, mx = window.localStorage, px = qC, gx = { geom: { Rect: JC }, util: { Promise: me, Delay: ve, Tools: Dt, VK: Cg, URI: Zb, Class: nx, EventDispatcher: Pm, Observable: Mm, I18n: AC, XHR: cx, JSON: ux, JSONRequest: fx, JSONP: sx, LocalStorage: mx, Color: function (e) { var t = {}, n = 0, r = 0, o = 0, i = function (e) { var i; return "object" == typeof e ? "r" in e ? (n = e.r, r = e.g, o = e.b) : "v" in e && function (e, t, i) { var a, u, s, c; if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, i = parseInt(i, 10) / 100, t = ox(0, rx(t, 1)), i = ox(0, rx(i, 1)), 0 !== t) { switch (a = e / 60, s = (u = i * t) * (1 - Math.abs(a % 2 - 1)), c = i - u, Math.floor(a)) { case 0: n = u, r = s, o = 0; break; case 1: n = s, r = u, o = 0; break; case 2: n = 0, r = u, o = s; break; case 3: n = 0, r = s, o = u; break; case 4: n = s, r = 0, o = u; break; case 5: n = u, r = 0, o = s; break; default: n = r = o = 0 }n = ix(255 * (n + c)), r = ix(255 * (r + c)), o = ix(255 * (o + c)) } else n = r = o = ix(255 * i) }(e.h, e.s, e.v) : (i = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (n = parseInt(i[1], 10), r = parseInt(i[2], 10), o = parseInt(i[3], 10)) : (i = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (n = parseInt(i[1], 16), r = parseInt(i[2], 16), o = parseInt(i[3], 16)) : (i = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (n = parseInt(i[1] + i[1], 16), r = parseInt(i[2] + i[2], 16), o = parseInt(i[3] + i[3], 16)), n = n < 0 ? 0 : n > 255 ? 255 : n, r = r < 0 ? 0 : r > 255 ? 255 : r, o = o < 0 ? 0 : o > 255 ? 255 : o, t }; return e && i(e), t.toRgb = function () { return { r: n, g: r, b: o } }, t.toHsv = function () { return e = n, t = r, i = o, u = 0, (s = rx(e /= 255, rx(t /= 255, i /= 255))) === (c = ox(e, ox(t, i))) ? { h: 0, s: 0, v: 100 * (u = s) } : (a = (c - s) / c, u = c, { h: ix(60 * ((e === s ? 3 : i === s ? 1 : 5) - (e === s ? t - i : i === s ? e - t : i - e) / (c - s))), s: ix(100 * a), v: ix(100 * u) }); var e, t, i, a, u, s, c }, t.toHex = function () { var e = function (e) { return (e = parseInt(e, 10).toString(16)).length > 1 ? e : "0" + e }; return "#" + e(n) + e(r) + e(o) }, t.parse = i, t } }, dom: { EventUtils: ke, Sizzle: ct, DomQuery: Jt, TreeWalker: Zr, DOMUtils: ui, ScriptLoader: di, RangeUtils: $C, Serializer: yv, ControlSelection: kv, BookmarkManager: Nv, Selection: dy, Event: ke.Event }, html: { Styles: Qo, Entities: zo, Node: nv, Schema: Go, SaxParser: Bg, DomParser: mv, Writer: oc, Serializer: ic }, ui: { Factory: ZC }, Env: de, AddOnManager: pi, Formatter: Uh, UndoManager: Kg, EditorCommands: Dm, WindowManager: hp, NotificationManager: gp, EditorObservable: Vm, Shortcuts: Gm, Editor: mC, FocusManager: vC, EditorManager: qC, DOM: ui.DOM, ScriptLoader: di.ScriptLoader, PluginManager: pi.PluginManager, ThemeManager: pi.ThemeManager, trim: Dt.trim, isArray: Dt.isArray, is: Dt.is, toArray: Dt.toArray, makeMap: Dt.makeMap, each: Dt.each, map: Dt.map, grep: Dt.grep, inArray: Dt.inArray, extend: Dt.extend, create: Dt.create, walk: Dt.walk, createNS: Dt.createNS, resolve: Dt.resolve, explode: Dt.explode, _addCacheSuffix: Dt._addCacheSuffix, isOpera: de.opera, isWebKit: de.webkit, isIE: de.ie, isGecko: de.gecko, isMac: de.mac }, hx = px = Dt.extend(px, gx); dx = hx, window.tinymce = dx, window.tinyMCE = dx, function (e) { if ("object" == typeof module) try { module.exports = e } catch (t) { } }(hx) }(); !function () { "use strict"; var e, t, n, i, r, o = tinymce.util.Tools.resolve("tinymce.ThemeManager"), s = tinymce.util.Tools.resolve("tinymce.EditorManager"), a = tinymce.util.Tools.resolve("tinymce.util.Tools"), l = function (e) { return !1 !== u(e) }, u = function (e) { return e.getParam("menubar") }, c = function (e) { return e.getParam("toolbar_items_size") }, d = function (e) { return e.getParam("menu") }, f = function (e) { return !1 === e.settings.skin }, h = function (e) { var t = e.getParam("resize", "vertical"); return !1 === t ? "none" : "both" === t ? "both" : "vertical" }, m = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"), g = tinymce.util.Tools.resolve("tinymce.ui.Factory"), p = tinymce.util.Tools.resolve("tinymce.util.I18n"), v = function (e) { return e.fire("SkinLoaded") }, b = function (e) { return e.fire("ResizeEditor") }, y = function (e) { return e.fire("BeforeRenderUI") }, x = function (e, t) { return function () { var n = e.find(t)[0]; n && n.focus(!0) } }, w = function (e, t) { e.shortcuts.add("Alt+F9", "", x(t, "menubar")), e.shortcuts.add("Alt+F10,F10", "", x(t, "toolbar")), e.shortcuts.add("Alt+F11", "", x(t, "elementpath")), t.on("cancel", function () { e.focus() }) }, _ = tinymce.util.Tools.resolve("tinymce.geom.Rect"), R = tinymce.util.Tools.resolve("tinymce.util.Delay"), C = function (e) { return function () { return e } }, k = { noop: function () { }, noarg: function (e) { return function () { return e() } }, compose: function (e, t) { return function () { return e(t.apply(null, arguments)) } }, constant: C, identity: function (e) { return e }, tripleEquals: function (e, t) { return e === t }, curry: function (e) { for (var t = new Array(arguments.length - 1), n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; return function () { for (var n = new Array(arguments.length), i = 0; i < n.length; i++)n[i] = arguments[i]; var r = t.concat(n); return e.apply(null, r) } }, not: function (e) { return function () { return !e.apply(null, arguments) } }, die: function (e) { return function () { throw new Error(e) } }, apply: function (e) { return e() }, call: function (e) { e() }, never: C(!1), always: C(!0) }, E = k.never, H = k.always, S = function () { return M }, M = (i = { fold: function (e, t) { return e() }, is: E, isSome: E, isNone: H, getOr: n = function (e) { return e }, getOrThunk: t = function (e) { return e() }, getOrDie: function (e) { throw new Error(e || "error: getOrDie called on none.") }, or: n, orThunk: t, map: S, ap: S, each: function () { }, bind: S, flatten: S, exists: E, forall: H, filter: S, equals: e = function (e) { return e.isNone() }, equals_: e, toArray: function () { return [] }, toString: k.constant("none()") }, Object.freeze && Object.freeze(i), i), T = function (e) { var t = function () { return e }, n = function () { return r }, i = function (t) { return t(e) }, r = { fold: function (t, n) { return n(e) }, is: function (t) { return e === t }, isSome: H, isNone: E, getOr: t, getOrThunk: t, getOrDie: t, or: n, orThunk: n, map: function (t) { return T(t(e)) }, ap: function (t) { return t.fold(S, function (t) { return T(t(e)) }) }, each: function (t) { t(e) }, bind: i, flatten: t, exists: i, forall: i, filter: function (t) { return t(e) ? r : M }, equals: function (t) { return t.is(e) }, equals_: function (t, n) { return t.fold(E, function (t) { return n(e, t) }) }, toArray: function () { return [e] }, toString: function () { return "some(" + e + ")" } }; return r }, P = { some: T, none: S, from: function (e) { return null === e || e === undefined ? M : T(e) } }, W = function (e) { return e ? e.getRoot().uiContainer : null }, D = { getUiContainerDelta: function (e) { var t = W(e); if (t && "static" !== m.DOM.getStyle(t, "position", !0)) { var n = m.DOM.getPos(t), i = t.scrollLeft - n.x, r = t.scrollTop - n.y; return P.some({ x: i, y: r }) } return P.none() }, setUiContainer: function (e, t) { var n = m.DOM.select(e.settings.ui_container)[0]; t.getRoot().uiContainer = n }, getUiContainer: W, inheritUiContainer: function (e, t) { return t.uiContainer = W(e) } }, N = function (e, t, n) { var i, r = []; if (t) return a.each(t.split(/[ ,]/), function (t) { var o, s = function () { var n = e.selection; t.settings.stateSelector && n.selectorChanged(t.settings.stateSelector, function (e) { t.active(e) }, !0), t.settings.disabledStateSelector && n.selectorChanged(t.settings.disabledStateSelector, function (e) { t.disabled(e) }) }; "|" === t ? i = null : (i || (i = { type: "buttongroup", items: [] }, r.push(i)), e.buttons[t] && (o = t, "function" == typeof (t = e.buttons[o]) && (t = t()), t.type = t.type || "button", t.size = n, t = g.create(t), i.items.push(t), e.initialized ? s() : e.on("init", s))) }), { type: "toolbar", layout: "flow", items: r } }, A = N, B = function (e, t) { var n, i, r = []; if (a.each(!1 === (i = (n = e).getParam("toolbar")) ? [] : a.isArray(i) ? a.grep(i, function (e) { return e.length > 0 }) : function (e, t) { for (var n = [], i = 1; i < 10; i++) { var r = e["toolbar" + i]; if (!r) break; n.push(r) } var o = e.toolbar ? [e.toolbar] : [t]; return n.length > 0 ? n : o }(n.settings, "undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"), function (n) { var i; (i = n) && r.push(N(e, i, t)) }), r.length) return { type: "panel", layout: "stack", classes: "toolbar-grp", ariaRoot: !0, ariaRemember: !0, items: r } }, O = m.DOM, z = function (e) { return { left: e.x, top: e.y, width: e.w, height: e.h, right: e.x + e.w, bottom: e.y + e.h } }, L = function (e, t) { e.moveTo(t.left, t.top) }, I = function (e, t, n, i, r, o) { return o = z({ x: t, y: n, w: o.w, h: o.h }), e && (o = e({ elementRect: z(i), contentAreaRect: z(r), panelRect: o })), o }, F = function (e) { var t, n = function () { return e.contextToolbars || [] }, i = function (t, n) { var i, r, o, s, l, u, c, d = e.getParam("inline_toolbar_position_handler"); if (!e.removed) { if (!t || !t.toolbar.panel) return f = e, void a.each(f.contextToolbars, function (e) { e.panel && e.panel.hide() }); var f, h, m, g, p; c = ["bc-tc", "tc-bc", "tl-bl", "bl-tl", "tr-br", "br-tr"], l = t.toolbar.panel, n && l.show(), h = t.element, m = O.getPos(e.getContentAreaContainer()), g = e.dom.getRect(h), "BODY" === (p = e.dom.getRoot()).nodeName && (g.x -= p.ownerDocument.documentElement.scrollLeft || p.scrollLeft, g.y -= p.ownerDocument.documentElement.scrollTop || p.scrollTop), g.x += m.x, g.y += m.y, o = g, r = O.getRect(l.getEl()), s = O.getRect(e.getContentAreaContainer() || e.getBody()); var v, b, y, x = D.getUiContainerDelta(l).getOr({ x: 0, y: 0 }); if (o.x += x.x, o.y += x.y, r.x += x.x, r.y += x.y, s.x += x.x, s.y += x.y, "inline" !== O.getStyle(t.element, "display", !0)) { var w = t.element.getBoundingClientRect(); o.w = w.width, o.h = w.height } e.inline || (s.w = e.getDoc().documentElement.offsetWidth), e.selection.controlSelection.isResizable(t.element) && o.w < 25 && (o = _.inflate(o, 0, 8)), i = _.findBestRelativePosition(r, o, s, c), o = _.clamp(o, s), i ? (u = _.relativePosition(r, o, i), L(l, I(d, u.x, u.y, o, s, r))) : (s.h += r.h, (o = _.intersect(s, o)) ? (i = _.findBestRelativePosition(r, o, s, ["bc-tc", "bl-tl", "br-tr"])) ? (u = _.relativePosition(r, o, i), L(l, I(d, u.x, u.y, o, s, r))) : L(l, I(d, o.x, o.y, o, s, r)) : l.hide()), v = l, y = function (e, t) { return e === t }, b = (b = i) ? b.substr(0, 2) : "", a.each({ t: "down", b: "up" }, function (e, t) { v.classes.toggle("arrow-" + e, y(t, b.substr(0, 1))) }), a.each({ l: "left", r: "right" }, function (e, t) { v.classes.toggle("arrow-" + e, y(t, b.substr(1, 1))) }) } }, r = function (t) { return function () { R.requestAnimationFrame(function () { e.selection && i(l(e.selection.getNode()), t) }) } }, o = function (n) { var o; if (n.toolbar.panel) return n.toolbar.panel.show(), void i(n); o = g.create({ type: "floatpanel", role: "dialog", classes: "tinymce tinymce-inline arrow", ariaLabel: "Inline toolbar", layout: "flex", direction: "column", align: "stretch", autohide: !1, autofix: !0, fixed: !0, border: 1, items: A(e, n.toolbar.items), oncancel: function () { e.focus() } }), D.setUiContainer(e, o), function (n) { if (!t) { var i = r(!0), o = D.getUiContainer(n); t = e.selection.getScrollContainer() || e.getWin(), O.bind(t, "scroll", i), O.bind(o, "scroll", i), e.on("remove", function () { O.unbind(t, "scroll", i), O.unbind(o, "scroll", i) }) } }(o), n.toolbar.panel = o, o.renderTo().reflow(), i(n) }, s = function () { a.each(n(), function (e) { e.panel && e.panel.hide() }) }, l = function (t) { var i, r, o, s = n(); for (i = (o = e.$(t).parents().add(t)).length - 1; i >= 0; i--)for (r = s.length - 1; r >= 0; r--)if (s[r].predicate(o[i])) return { toolbar: s[r], element: o[i] }; return null }; e.on("click keyup setContent ObjectResized", function (t) { ("setcontent" !== t.type || t.selection) && R.setEditorTimeout(e, function () { var t; (t = l(e.selection.getNode())) ? (s(), o(t)) : s() }) }), e.on("blur hide contextmenu", s), e.on("ObjectResizeStart", function () { var t = l(e.selection.getNode()); t && t.toolbar.panel && t.toolbar.panel.hide() }), e.on("ResizeEditor ResizeWindow", r(!0)), e.on("nodeChange", r(!1)), e.on("remove", function () { a.each(n(), function (e) { e.panel && e.panel.remove() }), e.contextToolbars = {} }), e.shortcuts.add("ctrl+shift+e > ctrl+shift+p", "", function () { var t = l(e.selection.getNode()); t && t.toolbar.panel && t.toolbar.panel.items()[0].focus() }) }, U = (r = Array.prototype.indexOf) === undefined ? function (e, t) { return J(e, t) } : function (e, t) { return r.call(e, t) }, V = function (e, t) { return U(e, t) > -1 }, j = function (e, t) { for (var n = e.length, i = new Array(n), r = 0; r < n; r++) { var o = e[r]; i[r] = t(o, r, e) } return i }, Y = function (e, t) { for (var n = 0, i = e.length; n < i; n++)t(e[n], n, e) }, q = function (e, t) { for (var n = e.length - 1; n >= 0; n--)t(e[n], n, e) }, $ = function (e, t) { for (var n = [], i = 0, r = e.length; i < r; i++) { var o = e[i]; t(o, i, e) && n.push(o) } return n }, X = function (e, t) { for (var n = 0, i = e.length; n < i; n++)if (t(e[n], n, e)) return P.some(n); return P.none() }, J = function (e, t) { for (var n = 0, i = e.length; n < i; ++n)if (e[n] === t) return n; return -1 }, G = Array.prototype.push, K = function (e) { for (var t = [], n = 0, i = e.length; n < i; ++n) { if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e); G.apply(t, e[n]) } return t }, Z = function (e, t) { for (var n = 0, i = e.length; n < i; ++n)if (!0 !== t(e[n], n, e)) return !1; return !0 }, Q = Array.prototype.slice, ee = { map: j, each: Y, eachr: q, partition: function (e, t) { for (var n = [], i = [], r = 0, o = e.length; r < o; r++) { var s = e[r]; (t(s, r, e) ? n : i).push(s) } return { pass: n, fail: i } }, filter: $, groupBy: function (e, t) { if (0 === e.length) return []; for (var n = t(e[0]), i = [], r = [], o = 0, s = e.length; o < s; o++) { var a = e[o], l = t(a); l !== n && (i.push(r), r = []), n = l, r.push(a) } return 0 !== r.length && i.push(r), i }, indexOf: function (e, t) { var n = U(e, t); return -1 === n ? P.none() : P.some(n) }, foldr: function (e, t, n) { return q(e, function (e) { n = t(n, e) }), n }, foldl: function (e, t, n) { return Y(e, function (e) { n = t(n, e) }), n }, find: function (e, t) { for (var n = 0, i = e.length; n < i; n++) { var r = e[n]; if (t(r, n, e)) return P.some(r) } return P.none() }, findIndex: X, flatten: K, bind: function (e, t) { var n = j(e, t); return K(n) }, forall: Z, exists: function (e, t) { return X(e, t).isSome() }, contains: V, equal: function (e, t) { return e.length === t.length && Z(e, function (e, n) { return e === t[n] }) }, reverse: function (e) { var t = Q.call(e, 0); return t.reverse(), t }, chunk: function (e, t) { for (var n = [], i = 0; i < e.length; i += t) { var r = e.slice(i, i + t); n.push(r) } return n }, difference: function (e, t) { return $(e, function (e) { return !V(t, e) }) }, mapToObject: function (e, t) { for (var n = {}, i = 0, r = e.length; i < r; i++) { var o = e[i]; n[String(o)] = t(o, i) } return n }, pure: function (e) { return [e] }, sort: function (e, t) { var n = Q.call(e, 0); return n.sort(t), n }, range: function (e, t) { for (var n = [], i = 0; i < e; i++)n.push(t(i)); return n }, head: function (e) { return 0 === e.length ? P.none() : P.some(e[0]) }, last: function (e) { return 0 === e.length ? P.none() : P.some(e[e.length - 1]) } }, te = { file: { title: "File", items: "newdocument restoredraft | preview | print" }, edit: { title: "Edit", items: "undo redo | cut copy paste pastetext | selectall" }, view: { title: "View", items: "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen" }, insert: { title: "Insert", items: "image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime" }, format: { title: "Format", items: "bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat" }, tools: { title: "Tools", items: "spellchecker spellcheckerlanguage | a11ycheck" }, table: { title: "Table" }, help: { title: "Help" } }, ne = function (e, t) { return "|" === e ? { name: "|", item: { text: "|" } } : t ? { name: e, item: t } : null }, ie = function (e) { return e && "|" === e.item.text }, re = function (e, t, n, i) { var r, o, s, l, u, c, d, f; return t ? (o = t[i], l = !0) : o = te[i], o && (r = { text: o.title }, s = [], a.each((o.items || "").split(/[ ,]/), function (t) { var n = ne(t, e[t]); n && s.push(n) }), l || a.each(e, function (e, t) { var n, r; e.context !== i || (n = s, r = t, ee.findIndex(n, function (e) { return e.name === r }).isSome()) || ("before" === e.separator && s.push({ name: "|", item: { text: "|" } }), e.prependToContext ? s.unshift(ne(t, e)) : s.push(ne(t, e)), "after" === e.separator && s.push({ name: "|", item: { text: "|" } })) }), r.menu = ee.map((u = s, c = n, d = ee.filter(u, function (e) { return !1 === c.hasOwnProperty(e.name) }), f = ee.filter(d, function (e, t, n) { return !ie(e) || !ie(n[t - 1]) }), ee.filter(f, function (e, t, n) { return !ie(e) || t > 0 && t < n.length - 1 })), function (e) { return e.item }), !r.menu.length) ? null : r }, oe = function (e) { for (var t, n = [], i = function (e) { var t, n = [], i = d(e); if (i) for (t in i) n.push(t); else for (t in te) n.push(t); return n }(e), r = a.makeMap((t = e, t.getParam("removed_menuitems", "")).split(/[ ,]/)), o = u(e), s = "string" == typeof o ? o.split(/[ ,]/) : i, l = 0; l < s.length; l++) { var c = s[l], f = re(e.menuItems, d(e), r, c); f && n.push(f) } return n }, se = m.DOM, ae = function (e) { return { width: e.clientWidth, height: e.clientHeight } }, le = function (e, t, n) { var i, r, o, s; i = e.getContainer(), r = e.getContentAreaContainer().firstChild, o = ae(i), s = ae(r), null !== t && (t = Math.max(e.getParam("min_width", 100, "number"), t), t = Math.min(e.getParam("max_width", 65535, "number"), t), se.setStyle(i, "width", t + (o.width - s.width)), se.setStyle(r, "width", t)), n = Math.max(e.getParam("min_height", 100, "number"), n), n = Math.min(e.getParam("max_height", 65535, "number"), n), se.setStyle(r, "height", n), b(e) }, ue = le, ce = function (e, t, n) { var i = e.getContentAreaContainer(); le(e, i.clientWidth + t, i.clientHeight + n) }, de = tinymce.util.Tools.resolve("tinymce.Env"), fe = function (e, t, n) { var i, r = e.settings[n]; r && r((i = t.getEl("body"), { element: function () { return i } })) }, he = function (e, t, n) { return function (i) { var r, o, s, l, u, c = i.control, d = c.parents().filter("panel")[0], f = d.find("#" + t)[0], h = (r = n, o = t, a.grep(r, function (e) { return e.name === o })[0]); s = t, l = d, u = n, a.each(u, function (e) { var t = l.items().filter("#" + e.name)[0]; t && t.visible() && e.name !== s && (fe(e, t, "onhide"), t.visible(!1)) }), c.parent().items().each(function (e) { e.active(!1) }), f && f.visible() ? (fe(h, f, "onhide"), f.hide(), c.active(!1)) : (f ? (f.show(), fe(h, f, "onshow")) : (f = g.create({ type: "container", name: t, layout: "stack", classes: "sidebar-panel", html: "" }), d.prepend(f), fe(h, f, "onrender"), fe(h, f, "onshow")), c.active(!0)), b(e) } }, me = function (e) { return !(de.ie && !(de.ie >= 11) || !e.sidebars) && e.sidebars.length > 0 }, ge = function (e) { return { type: "panel", name: "sidebar", layout: "stack", classes: "sidebar", items: [{ type: "toolbar", layout: "stack", classes: "sidebar-toolbar", items: a.map(e.sidebars, function (t) { var n = t.settings; return { type: "button", icon: n.icon, image: n.image, tooltip: n.tooltip, onclick: he(e, t.name, e.sidebars) } }) }] } }, pe = function (e) { var t = function () { e._skinLoaded = !0, v(e) }; return function () { e.initialized ? t() : e.on("init", t) } }, ve = m.DOM, be = function (e) { return { type: "panel", name: "iframe", layout: "stack", classes: "edit-area", border: e, html: "" } }, ye = function (e, t, n) { var i, r, o, s, a; if (!1 === f(e) && n.skinUiCss ? ve.styleSheetLoader.load(n.skinUiCss, pe(e)) : pe(e)(), i = t.panel = g.create({ type: "panel", role: "application", classes: "tinymce", style: "visibility: hidden", layout: "stack", border: 1, items: [{ type: "container", classes: "top-part", items: [!1 === l(e) ? null : { type: "menubar", border: "0 0 1 0", items: oe(e) }, B(e, c(e))] }, me(e) ? (s = e, { type: "panel", layout: "stack", classes: "edit-aria-container", border: "1 0 0 0", items: [be("0"), ge(s)] }) : be("1 0 0 0")] }), D.setUiContainer(e, i), "none" !== h(e) && (r = { type: "resizehandle", direction: h(e), onResizeStart: function () { var t = e.getContentAreaContainer().firstChild; o = { width: t.clientWidth, height: t.clientHeight } }, onResize: function (t) { "both" === h(e) ? ue(e, o.width + t.deltaX, o.height + t.deltaY) : ue(e, null, o.height + t.deltaY) } }), e.getParam("statusbar", !0, "boolean")) { var u = p.translate(["Powered by {0}", '<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']), d = e.getParam("branding", !0, "boolean") ? { type: "label", classes: "branding", html: " " + u } : null; i.add({ type: "panel", name: "statusbar", classes: "statusbar", layout: "flow", border: "1 0 0 0", ariaRoot: !0, items: [{ type: "elementpath", editor: e }, r, d] }) } return y(e), e.on("SwitchMode", (a = i, function (e) { a.find("*").disabled("readonly" === e.mode) })), i.renderBefore(n.targetNode).reflow(), e.getParam("readonly", !1, "boolean") && e.setMode("readonly"), n.width && ve.setStyle(i.getEl(), "width", n.width), e.on("remove", function () { i.remove(), i = null }), w(e, i), F(e), { iframeContainer: i.find("#iframe")[0].getEl(), editorContainer: i.getEl() } }, xe = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"), we = 0, _e = { id: function () { return "mceu_" + we++ }, create: function (e, t, n) { var i = document.createElement(e); return m.DOM.setAttribs(i, t), "string" == typeof n ? i.innerHTML = n : a.each(n, function (e) { e.nodeType && i.appendChild(e) }), i }, createFragment: function (e) { return m.DOM.createFragment(e) }, getWindowSize: function () { return m.DOM.getViewPort() }, getSize: function (e) { var t, n; if (e.getBoundingClientRect) { var i = e.getBoundingClientRect(); t = Math.max(i.width || i.right - i.left, e.offsetWidth), n = Math.max(i.height || i.bottom - i.bottom, e.offsetHeight) } else t = e.offsetWidth, n = e.offsetHeight; return { width: t, height: n } }, getPos: function (e, t) { return m.DOM.getPos(e, t || _e.getContainer()) }, getContainer: function () { return de.container ? de.container : document.body }, getViewPort: function (e) { return m.DOM.getViewPort(e) }, get: function (e) { return document.getElementById(e) }, addClass: function (e, t) { return m.DOM.addClass(e, t) }, removeClass: function (e, t) { return m.DOM.removeClass(e, t) }, hasClass: function (e, t) { return m.DOM.hasClass(e, t) }, toggleClass: function (e, t, n) { return m.DOM.toggleClass(e, t, n) }, css: function (e, t, n) { return m.DOM.setStyle(e, t, n) }, getRuntimeStyle: function (e, t) { return m.DOM.getStyle(e, t, !0) }, on: function (e, t, n, i) { return m.DOM.bind(e, t, n, i) }, off: function (e, t, n) { return m.DOM.unbind(e, t, n) }, fire: function (e, t, n) { return m.DOM.fire(e, t, n) }, innerHtml: function (e, t) { m.DOM.setHTML(e, t) } }, Re = function (e) { return "static" === _e.getRuntimeStyle(e, "position") }, Ce = function (e) { return e.state.get("fixed") }; function ke(e, t, n) { var i, r, o, s, a, l, u, c, d, f; return d = Ee(), o = (r = _e.getPos(t, D.getUiContainer(e))).x, s = r.y, Ce(e) && Re(document.body) && (o -= d.x, s -= d.y), i = e.getEl(), a = (f = _e.getSize(i)).width, l = f.height, u = (f = _e.getSize(t)).width, c = f.height, "b" === (n = (n || "").split(""))[0] && (s += c), "r" === n[1] && (o += u), "c" === n[0] && (s += Math.round(c / 2)), "c" === n[1] && (o += Math.round(u / 2)), "b" === n[3] && (s -= l), "r" === n[4] && (o -= a), "c" === n[3] && (s -= Math.round(l / 2)), "c" === n[4] && (o -= Math.round(a / 2)), { x: o, y: s, w: a, h: l } } var Ee = function () { var e = window, t = Math.max(e.pageXOffset, document.body.scrollLeft, document.documentElement.scrollLeft), n = Math.max(e.pageYOffset, document.body.scrollTop, document.documentElement.scrollTop); return { x: t, y: n, w: t + (e.innerWidth || document.documentElement.clientWidth), h: n + (e.innerHeight || document.documentElement.clientHeight) } }, He = function (e) { var t, n = D.getUiContainer(e); return n && !Ce(e) ? { x: 0, y: 0, w: (t = n).scrollWidth - 1, h: t.scrollHeight - 1 } : Ee() }, Se = { testMoveRel: function (e, t) { for (var n = He(this), i = 0; i < t.length; i++) { var r = ke(this, e, t[i]); if (Ce(this)) { if (r.x > 0 && r.x + r.w < n.w && r.y > 0 && r.y + r.h < n.h) return t[i] } else if (r.x > n.x && r.x + r.w < n.w && r.y > n.y && r.y + r.h < n.h) return t[i] } return t[0] }, moveRel: function (e, t) { "string" != typeof t && (t = this.testMoveRel(e, t)); var n = ke(this, e, t); return this.moveTo(n.x, n.y) }, moveBy: function (e, t) { var n = this.layoutRect(); return this.moveTo(n.x + e, n.y + t), this }, moveTo: function (e, t) { var n = this; function i(e, t, n) { return e < 0 ? 0 : e + n > t && (e = t - n) < 0 ? 0 : e } if (n.settings.constrainToViewport) { var r = He(this), o = n.layoutRect(); e = i(e, r.w, o.w), t = i(t, r.h, o.h) } var s = D.getUiContainer(n); return s && Re(s) && !Ce(n) && (e -= s.scrollLeft, t -= s.scrollTop), s && (e += 1, t += 1), n.state.get("rendered") ? n.layoutRect({ x: e, y: t }).repaint() : (n.settings.x = e, n.settings.y = t), n.fire("move", { x: e, y: t }), n } }, Me = tinymce.util.Tools.resolve("tinymce.util.Class"), Te = tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"), Pe = function (e) { var t; if (e) return "number" == typeof e ? { top: e = e || 0, left: e, bottom: e, right: e } : (1 === (t = (e = e.split(" ")).length) ? e[1] = e[2] = e[3] = e[0] : 2 === t ? (e[2] = e[0], e[3] = e[1]) : 3 === t && (e[3] = e[1]), { top: parseInt(e[0], 10) || 0, right: parseInt(e[1], 10) || 0, bottom: parseInt(e[2], 10) || 0, left: parseInt(e[3], 10) || 0 }) }, We = function (e, t) { function n(t) { var n = parseFloat(function (t) { var n = e.ownerDocument.defaultView; if (n) { var i = n.getComputedStyle(e, null); return i ? (t = t.replace(/[A-Z]/g, function (e) { return "-" + e }), i.getPropertyValue(t)) : null } return e.currentStyle[t] }(t)); return isNaN(n) ? 0 : n } return { top: n(t + "TopWidth"), right: n(t + "RightWidth"), bottom: n(t + "BottomWidth"), left: n(t + "LeftWidth") } }; function De() { } function Ne(e) { this.cls = [], this.cls._map = {}, this.onchange = e || De, this.prefix = "" } a.extend(Ne.prototype, { add: function (e) { return e && !this.contains(e) && (this.cls._map[e] = !0, this.cls.push(e), this._change()), this }, remove: function (e) { if (this.contains(e)) { var t = void 0; for (t = 0; t < this.cls.length && this.cls[t] !== e; t++); this.cls.splice(t, 1), delete this.cls._map[e], this._change() } return this }, toggle: function (e, t) { var n = this.contains(e); return n !== t && (n ? this.remove(e) : this.add(e), this._change()), this }, contains: function (e) { return !!this.cls._map[e] }, _change: function () { delete this.clsValue, this.onchange.call(this) } }), Ne.prototype.toString = function () { var e; if (this.clsValue) return this.clsValue; e = ""; for (var t = 0; t < this.cls.length; t++)t > 0 && (e += " "), e += this.prefix + this.cls[t]; return e }; var Ae, Be, Oe, ze = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i, Le = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g, Ie = /^\s*|\s*$/g, Fe = Me.extend({ init: function (e) { var t = this.match; function n(e, n, r) { var o; function s(e) { e && n.push(e) } return s(function (e) { if (e) return e = e.toLowerCase(), function (t) { return "*" === e || t.type === e } }((o = ze.exec(e.replace(Ie, "")))[1])), s(function (e) { if (e) return function (t) { return t._name === e } }(o[2])), s(function (e) { if (e) return e = e.split("."), function (t) { for (var n = e.length; n--;)if (!t.classes.contains(e[n])) return !1; return !0 } }(o[3])), s(function (e, t, n) { if (e) return function (i) { var r = i[e] ? i[e]() : ""; return t ? "=" === t ? r === n : "*=" === t ? r.indexOf(n) >= 0 : "~=" === t ? (" " + r + " ").indexOf(" " + n + " ") >= 0 : "!=" === t ? r !== n : "^=" === t ? 0 === r.indexOf(n) : "$=" === t && r.substr(r.length - n.length) === n : !!n } }(o[4], o[5], o[6])), s(function (e) { var n; if (e) return (e = /(?:not\((.+)\))|(.+)/i.exec(e))[1] ? (n = i(e[1], []), function (e) { return !t(e, n) }) : (e = e[2], function (t, n, i) { return "first" === e ? 0 === n : "last" === e ? n === i - 1 : "even" === e ? n % 2 == 0 : "odd" === e ? n % 2 == 1 : !!t[e] && t[e]() }) }(o[7])), n.pseudo = !!o[7], n.direct = r, n } function i(e, t) { var r, o, s, a = []; do { if (Le.exec(""), (o = Le.exec(e)) && (e = o[3], a.push(o[1]), o[2])) { r = o[3]; break } } while (o); for (r && i(r, t), e = [], s = 0; s < a.length; s++)">" !== a[s] && e.push(n(a[s], [], ">" === a[s - 1])); return t.push(e), t } this._selectors = i(e, []) }, match: function (e, t) { var n, i, r, o, s, a, l, u, c, d, f, h, m; for (n = 0, i = (t = t || this._selectors).length; n < i; n++) { for (m = e, h = 0, r = (o = (s = t[n]).length) - 1; r >= 0; r--)for (u = s[r]; m;) { if (u.pseudo) for (c = d = (f = m.parent().items()).length; c-- && f[c] !== m;); for (a = 0, l = u.length; a < l; a++)if (!u[a](m, c, d)) { a = l + 1; break } if (a === l) { h++; break } if (r === o - 1) break; m = m.parent() } if (h === o) return !0 } return !1 }, find: function (e) { var t, n, i = [], r = this._selectors; function o(e, t, n) { var r, s, a, l, u, c = t[n]; for (r = 0, s = e.length; r < s; r++) { for (u = e[r], a = 0, l = c.length; a < l; a++)if (!c[a](u, r, s)) { a = l + 1; break } if (a === l) n === t.length - 1 ? i.push(u) : u.items && o(u.items(), t, n + 1); else if (c.direct) return; u.items && o(u.items(), t, n) } } if (e.items) { for (t = 0, n = r.length; t < n; t++)o(e.items(), r[t], 0); n > 1 && (i = function (e) { for (var t, n = [], i = e.length; i--;)(t = e[i]).__checked || (n.push(t), t.__checked = 1); for (i = n.length; i--;)delete n[i].__checked; return n }(i)) } return Ae || (Ae = Fe.Collection), new Ae(i) } }), Ue = Array.prototype.push, Ve = Array.prototype.slice; Oe = { length: 0, init: function (e) { e && this.add(e) }, add: function (e) { return a.isArray(e) ? Ue.apply(this, e) : e instanceof Be ? this.add(e.toArray()) : Ue.call(this, e), this }, set: function (e) { var t, n = this, i = n.length; for (n.length = 0, n.add(e), t = n.length; t < i; t++)delete n[t]; return n }, filter: function (e) { var t, n, i, r, o = []; for ("string" == typeof e ? (e = new Fe(e), r = function (t) { return e.match(t) }) : r = e, t = 0, n = this.length; t < n; t++)r(i = this[t]) && o.push(i); return new Be(o) }, slice: function () { return new Be(Ve.apply(this, arguments)) }, eq: function (e) { return -1 === e ? this.slice(e) : this.slice(e, +e + 1) }, each: function (e) { return a.each(this, e), this }, toArray: function () { return a.toArray(this) }, indexOf: function (e) { for (var t = this.length; t-- && this[t] !== e;); return t }, reverse: function () { return new Be(a.toArray(this).reverse()) }, hasClass: function (e) { return !!this[0] && this[0].classes.contains(e) }, prop: function (e, t) { var n; return t !== undefined ? (this.each(function (n) { n[e] && n[e](t) }), this) : (n = this[0]) && n[e] ? n[e]() : void 0 }, exec: function (e) { var t = a.toArray(arguments).slice(1); return this.each(function (n) { n[e] && n[e].apply(n, t) }), this }, remove: function () { for (var e = this.length; e--;)this[e].remove(); return this }, addClass: function (e) { return this.each(function (t) { t.classes.add(e) }) }, removeClass: function (e) { return this.each(function (t) { t.classes.remove(e) }) } }, a.each("fire on off show hide append prepend before after reflow".split(" "), function (e) { Oe[e] = function () { var t = a.toArray(arguments); return this.each(function (n) { e in n && n[e].apply(n, t) }), this } }), a.each("text name disabled active selected checked visible parent value data".split(" "), function (e) { Oe[e] = function (t) { return this.prop(e, t) } }), Be = Me.extend(Oe), Fe.Collection = Be; var je = Be, Ye = function (e) { this.create = e.create }; Ye.create = function (e, t) { return new Ye({ create: function (n, i) { var r, o = function (e) { n.set(i, e.value) }; return n.on("change:" + i, function (n) { e.set(t, n.value) }), e.on("change:" + t, o), (r = n._bindings) || (r = n._bindings = [], n.on("destroy", function () { for (var e = r.length; e--;)r[e]() })), r.push(function () { e.off("change:" + t, o) }), e.get(t) } }) }; var qe = tinymce.util.Tools.resolve("tinymce.util.Observable"); function $e(e) { return e.nodeType > 0 } var Xe, Je, Ge = Me.extend({ Mixins: [qe], init: function (e) { var t, n; for (t in e = e || {}) (n = e[t]) instanceof Ye && (e[t] = n.create(this, t)); this.data = e }, set: function (e, t) { var n, i, r = this.data[e]; if (t instanceof Ye && (t = t.create(this, e)), "object" == typeof e) { for (n in e) this.set(n, e[n]); return this } return function o(e, t) { var n, i; if (e === t) return !0; if (null === e || null === t) return e === t; if ("object" != typeof e || "object" != typeof t) return e === t; if (a.isArray(t)) { if (e.length !== t.length) return !1; for (n = e.length; n--;)if (!o(e[n], t[n])) return !1 } if ($e(e) || $e(t)) return e === t; for (n in i = {}, t) { if (!o(e[n], t[n])) return !1; i[n] = !0 } for (n in e) if (!i[n] && !o(e[n], t[n])) return !1; return !0 }(r, t) || (this.data[e] = t, i = { target: this, name: e, value: t, oldValue: r }, this.fire("change:" + e, i), this.fire("change", i)), this }, get: function (e) { return this.data[e] }, has: function (e) { return e in this.data }, bind: function (e) { return Ye.create(this, e) }, destroy: function () { this.fire("destroy") } }), Ke = {}, Ze = { add: function (e) { var t = e.parent(); if (t) { if (!t._layout || t._layout.isNative()) return; Ke[t._id] || (Ke[t._id] = t), Xe || (Xe = !0, R.requestAnimationFrame(function () { var e, t; for (e in Xe = !1, Ke) (t = Ke[e]).state.get("rendered") && t.reflow(); Ke = {} }, document.body)) } }, remove: function (e) { Ke[e._id] && delete Ke[e._id] } }, Qe = "onmousewheel" in document, et = !1, tt = 0, nt = { Statics: { classPrefix: "mce-" }, isRtl: function () { return Je.rtl }, classPrefix: "mce-", init: function (e) { var t, n, i = this; function r(e) { var t; for (e = e.split(" "), t = 0; t < e.length; t++)i.classes.add(e[t]) } i.settings = e = a.extend({}, i.Defaults, e), i._id = e.id || "mceu_" + tt++, i._aria = { role: e.role }, i._elmCache = {}, i.$ = xe, i.state = new Ge({ visible: !0, active: !1, disabled: !1, value: "" }), i.data = new Ge(e.data), i.classes = new Ne(function () { i.state.get("rendered") && (i.getEl().className = this.toString()) }), i.classes.prefix = i.classPrefix, (t = e.classes) && (i.Defaults && (n = i.Defaults.classes) && t !== n && r(n), r(t)), a.each("title text name visible disabled active value".split(" "), function (t) { t in e && i[t](e[t]) }), i.on("click", function () { if (i.disabled()) return !1 }), i.settings = e, i.borderBox = Pe(e.border), i.paddingBox = Pe(e.padding), i.marginBox = Pe(e.margin), e.hidden && i.hide() }, Properties: "parent,name", getContainerElm: function () { var e = D.getUiContainer(this); return e || _e.getContainer() }, getParentCtrl: function (e) { for (var t, n = this.getRoot().controlIdLookup; e && n && !(t = n[e.id]);)e = e.parentNode; return t }, initLayoutRect: function () { var e, t, n, i, r, o, s, a, l, u, c = this, d = c.settings, f = c.getEl(); e = c.borderBox = c.borderBox || We(f, "border"), c.paddingBox = c.paddingBox || We(f, "padding"), c.marginBox = c.marginBox || We(f, "margin"), u = _e.getSize(f), a = d.minWidth, l = d.minHeight, r = a || u.width, o = l || u.height, n = d.width, i = d.height, s = void 0 !== (s = d.autoResize) ? s : !n && !i, n = n || r, i = i || o; var h = e.left + e.right, m = e.top + e.bottom, g = d.maxWidth || 65535, p = d.maxHeight || 65535; return c._layoutRect = t = { x: d.x || 0, y: d.y || 0, w: n, h: i, deltaW: h, deltaH: m, contentW: n - h, contentH: i - m, innerW: n - h, innerH: i - m, startMinWidth: a || 0, startMinHeight: l || 0, minW: Math.min(r, g), minH: Math.min(o, p), maxW: g, maxH: p, autoResize: s, scrollW: 0 }, c._lastLayoutRect = {}, t }, layoutRect: function (e) { var t, n, i, r, o, s = this, a = s._layoutRect; return a || (a = s.initLayoutRect()), e ? (i = a.deltaW, r = a.deltaH, e.x !== undefined && (a.x = e.x), e.y !== undefined && (a.y = e.y), e.minW !== undefined && (a.minW = e.minW), e.minH !== undefined && (a.minH = e.minH), (n = e.w) !== undefined && (n = (n = n < a.minW ? a.minW : n) > a.maxW ? a.maxW : n, a.w = n, a.innerW = n - i), (n = e.h) !== undefined && (n = (n = n < a.minH ? a.minH : n) > a.maxH ? a.maxH : n, a.h = n, a.innerH = n - r), (n = e.innerW) !== undefined && (n = (n = n < a.minW - i ? a.minW - i : n) > a.maxW - i ? a.maxW - i : n, a.innerW = n, a.w = n + i), (n = e.innerH) !== undefined && (n = (n = n < a.minH - r ? a.minH - r : n) > a.maxH - r ? a.maxH - r : n, a.innerH = n, a.h = n + r), e.contentW !== undefined && (a.contentW = e.contentW), e.contentH !== undefined && (a.contentH = e.contentH), (t = s._lastLayoutRect).x === a.x && t.y === a.y && t.w === a.w && t.h === a.h || ((o = Je.repaintControls) && o.map && !o.map[s._id] && (o.push(s), o.map[s._id] = !0), t.x = a.x, t.y = a.y, t.w = a.w, t.h = a.h), s) : a }, repaint: function () { var e, t, n, i, r, o, s, a, l, u, c = this; l = document.createRange ? function (e) { return e } : Math.round, e = c.getEl().style, i = c._layoutRect, a = c._lastRepaintRect || {}, o = (r = c.borderBox).left + r.right, s = r.top + r.bottom, i.x !== a.x && (e.left = l(i.x) + "px", a.x = i.x), i.y !== a.y && (e.top = l(i.y) + "px", a.y = i.y), i.w !== a.w && (u = l(i.w - o), e.width = (u >= 0 ? u : 0) + "px", a.w = i.w), i.h !== a.h && (u = l(i.h - s), e.height = (u >= 0 ? u : 0) + "px", a.h = i.h), c._hasBody && i.innerW !== a.innerW && (u = l(i.innerW), (n = c.getEl("body")) && ((t = n.style).width = (u >= 0 ? u : 0) + "px"), a.innerW = i.innerW), c._hasBody && i.innerH !== a.innerH && (u = l(i.innerH), (n = n || c.getEl("body")) && ((t = t || n.style).height = (u >= 0 ? u : 0) + "px"), a.innerH = i.innerH), c._lastRepaintRect = a, c.fire("repaint", {}, !1) }, updateLayoutRect: function () { var e = this; e.parent()._lastRect = null, _e.css(e.getEl(), { width: "", height: "" }), e._layoutRect = e._lastRepaintRect = e._lastLayoutRect = null, e.initLayoutRect() }, on: function (e, t) { var n, i, r, o = this; return it(o).on(e, "string" != typeof (n = t) ? n : function (e) { return i || o.parentsAndSelf().each(function (e) { var t = e.settings.callbacks; if (t && (i = t[n])) return r = e, !1 }), i ? i.call(r, e) : (e.action = n, void this.fire("execute", e)) }), o }, off: function (e, t) { return it(this).off(e, t), this }, fire: function (e, t, n) { if ((t = t || {}).control || (t.control = this), t = it(this).fire(e, t), !1 !== n && this.parent) for (var i = this.parent(); i && !t.isPropagationStopped();)i.fire(e, t, !1), i = i.parent(); return t }, hasEventListeners: function (e) { return it(this).has(e) }, parents: function (e) { var t, n = new je; for (t = this.parent(); t; t = t.parent())n.add(t); return e && (n = n.filter(e)), n }, parentsAndSelf: function (e) { return new je(this).add(this.parents(e)) }, next: function () { var e = this.parent().items(); return e[e.indexOf(this) + 1] }, prev: function () { var e = this.parent().items(); return e[e.indexOf(this) - 1] }, innerHtml: function (e) { return this.$el.html(e), this }, getEl: function (e) { var t = e ? this._id + "-" + e : this._id; return this._elmCache[t] || (this._elmCache[t] = xe("#" + t)[0]), this._elmCache[t] }, show: function () { return this.visible(!0) }, hide: function () { return this.visible(!1) }, focus: function () { try { this.getEl().focus() } catch (e) { } return this }, blur: function () { return this.getEl().blur(), this }, aria: function (e, t) { var n = this, i = n.getEl(n.ariaTarget); return void 0 === t ? n._aria[e] : (n._aria[e] = t, n.state.get("rendered") && i.setAttribute("role" === e ? e : "aria-" + e, t), n) }, encode: function (e, t) { return !1 !== t && (e = this.translate(e)), (e || "").replace(/[&<>"]/g, function (e) { return "&#" + e.charCodeAt(0) + ";" }) }, translate: function (e) { return Je.translate ? Je.translate(e) : e }, before: function (e) { var t = this.parent(); return t && t.insert(e, t.items().indexOf(this), !0), this }, after: function (e) { var t = this.parent(); return t && t.insert(e, t.items().indexOf(this)), this }, remove: function () { var e, t, n = this, i = n.getEl(), r = n.parent(); if (n.items) { var o = n.items().toArray(); for (t = o.length; t--;)o[t].remove() } r && r.items && (e = [], r.items().each(function (t) { t !== n && e.push(t) }), r.items().set(e), r._lastRect = null), n._eventsRoot && n._eventsRoot === n && xe(i).off(); var s = n.getRoot().controlIdLookup; return s && delete s[n._id], i && i.parentNode && i.parentNode.removeChild(i), n.state.set("rendered", !1), n.state.destroy(), n.fire("remove"), n }, renderBefore: function (e) { return xe(e).before(this.renderHtml()), this.postRender(), this }, renderTo: function (e) { return xe(e || this.getContainerElm()).append(this.renderHtml()), this.postRender(), this }, preRender: function () { }, render: function () { }, renderHtml: function () { return '<div id="' + this._id + '" class="' + this.classes + '"></div>' }, postRender: function () { var e, t, n, i, r, o = this, s = o.settings; for (i in o.$el = xe(o.getEl()), o.state.set("rendered", !0), s) 0 === i.indexOf("on") && o.on(i.substr(2), s[i]); if (o._eventsRoot) { for (n = o.parent(); !r && n; n = n.parent())r = n._eventsRoot; if (r) for (i in r._nativeEvents) o._nativeEvents[i] = !0 } rt(o), s.style && (e = o.getEl()) && (e.setAttribute("style", s.style), e.style.cssText = s.style), o.settings.border && (t = o.borderBox, o.$el.css({ "border-top-width": t.top, "border-right-width": t.right, "border-bottom-width": t.bottom, "border-left-width": t.left })); var a = o.getRoot(); for (var l in a.controlIdLookup || (a.controlIdLookup = {}), a.controlIdLookup[o._id] = o, o._aria) o.aria(l, o._aria[l]); !1 === o.state.get("visible") && (o.getEl().style.display = "none"), o.bindStates(), o.state.on("change:visible", function (e) { var t, n = e.value; o.state.get("rendered") && (o.getEl().style.display = !1 === n ? "none" : "", o.getEl().getBoundingClientRect()), (t = o.parent()) && (t._lastRect = null), o.fire(n ? "show" : "hide"), Ze.add(o) }), o.fire("postrender", {}, !1) }, bindStates: function () { }, scrollIntoView: function (e) { var t, n, i, r, o, s, a = this.getEl(), l = a.parentNode, u = function (e, t) { var n, i, r = e; for (n = i = 0; r && r !== t && r.nodeType;)n += r.offsetLeft || 0, i += r.offsetTop || 0, r = r.offsetParent; return { x: n, y: i } }(a, l); return t = u.x, n = u.y, i = a.offsetWidth, r = a.offsetHeight, o = l.clientWidth, s = l.clientHeight, "end" === e ? (t -= o - i, n -= s - r) : "center" === e && (t -= o / 2 - i / 2, n -= s / 2 - r / 2), l.scrollLeft = t, l.scrollTop = n, this }, getRoot: function () { for (var e, t = this, n = []; t;) { if (t.rootControl) { e = t.rootControl; break } n.push(t), e = t, t = t.parent() } e || (e = this); for (var i = n.length; i--;)n[i].rootControl = e; return e }, reflow: function () { Ze.remove(this); var e = this.parent(); return e && e._layout && !e._layout.isNative() && e.reflow(), this } }; function it(e) { return e._eventDispatcher || (e._eventDispatcher = new Te({ scope: e, toggleEvent: function (t, n) { n && Te.isNative(t) && (e._nativeEvents || (e._nativeEvents = {}), e._nativeEvents[t] = !0, e.state.get("rendered") && rt(e)) } })), e._eventDispatcher } function rt(e) { var t, n, i, r, o, s; function a(t) { var n = e.getParentCtrl(t.target); n && n.fire(t.type, t) } function l() { var e = r._lastHoverCtrl; e && (e.fire("mouseleave", { target: e.getEl() }), e.parents().each(function (e) { e.fire("mouseleave", { target: e.getEl() }) }), r._lastHoverCtrl = null) } function u(t) { var n, i, o, s = e.getParentCtrl(t.target), a = r._lastHoverCtrl, l = 0; if (s !== a) { if (r._lastHoverCtrl = s, (i = s.parents().toArray().reverse()).push(s), a) { for ((o = a.parents().toArray().reverse()).push(a), l = 0; l < o.length && i[l] === o[l]; l++); for (n = o.length - 1; n >= l; n--)(a = o[n]).fire("mouseleave", { target: a.getEl() }) } for (n = l; n < i.length; n++)(s = i[n]).fire("mouseenter", { target: s.getEl() }) } } function c(t) { t.preventDefault(), "mousewheel" === t.type ? (t.deltaY = -.025 * t.wheelDelta, t.wheelDeltaX && (t.deltaX = -.025 * t.wheelDeltaX)) : (t.deltaX = 0, t.deltaY = t.detail), t = e.fire("wheel", t) } if (o = e._nativeEvents) { for ((i = e.parents().toArray()).unshift(e), t = 0, n = i.length; !r && t < n; t++)r = i[t]._eventsRoot; for (r || (r = i[i.length - 1] || e), e._eventsRoot = r, n = t, t = 0; t < n; t++)i[t]._eventsRoot = r; var d = r._delegates; for (s in d || (d = r._delegates = {}), o) { if (!o) return !1; "wheel" !== s || et ? ("mouseenter" === s || "mouseleave" === s ? r._hasMouseEnter || (xe(r.getEl()).on("mouseleave", l).on("mouseover", u), r._hasMouseEnter = 1) : d[s] || (xe(r.getEl()).on(s, a), d[s] = !0), o[s] = !1) : Qe ? xe(e.getEl()).on("mousewheel", c) : xe(e.getEl()).on("DOMMouseScroll", c) } } } a.each("text title visible disabled active value".split(" "), function (e) { nt[e] = function (t) { return 0 === arguments.length ? this.state.get(e) : (void 0 !== t && this.state.set(e, t), this) } }); var ot = Je = Me.extend(nt), st = function (e) { return !!e.getAttribute("data-mce-tabstop") }; function at(e) { var t, n, i = e.root; function r(e) { return e && 1 === e.nodeType } try { t = document.activeElement } catch (y) { t = document.body } function o(e) { return r(e = e || t) ? e.getAttribute("role") : null } function s(e) { for (var n, i = e || t; i = i.parentNode;)if (n = o(i)) return n } function a(e) { var n = t; if (r(n)) return n.getAttribute("aria-" + e) } function l(e) { var t = e.tagName.toUpperCase(); return "INPUT" === t || "TEXTAREA" === t || "SELECT" === t } function u(e) { var t = []; return function n(e) { if (1 === e.nodeType && "none" !== e.style.display && !e.disabled) { var i; (l(i = e) && !i.hidden || st(i) || /^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(i))) && t.push(e); for (var r = 0; r < e.childNodes.length; r++)n(e.childNodes[r]) } }(e || i.getEl()), t } function c(e) { var t, i; (i = (e = e || n).parents().toArray()).unshift(e); for (var r = 0; r < i.length && !(t = i[r]).settings.ariaRoot; r++); return t } function d(e, t) { return e < 0 ? e = t.length - 1 : e >= t.length && (e = 0), t[e] && t[e].focus(), e } function f(e, n) { var i = -1, r = c(); n = n || u(r.getEl()); for (var o = 0; o < n.length; o++)n[o] === t && (i = o); i += e, r.lastAriaIndex = d(i, n) } function h() { "tablist" === s() ? f(-1, u(t.parentNode)) : n.parent().submenu ? v() : f(-1) } function m() { var e = o(), n = s(); "tablist" === n ? f(1, u(t.parentNode)) : "menuitem" === e && "menu" === n && a("haspopup") ? b() : f(1) } function g() { f(-1) } function p() { var e = o(), t = s(); "menuitem" === e && "menubar" === t ? b() : "button" === e && a("haspopup") ? b({ key: "down" }) : f(1) } function v() { n.fire("cancel") } function b(e) { e = e || {}, n.fire("click", { target: t, aria: e }) } return n = i.getParentCtrl(t), i.on("keydown", function (e) { function i(e, n) { l(t) || st(t) || "slider" !== o(t) && !1 !== n(e) && e.preventDefault() } if (!e.isDefaultPrevented()) switch (e.keyCode) { case 37: i(e, h); break; case 39: i(e, m); break; case 38: i(e, g); break; case 40: i(e, p); break; case 27: v(); break; case 14: case 13: case 32: i(e, b); break; case 9: !function (e) { if ("tablist" === s()) { var t = u(n.getEl("body"))[0]; t && t.focus() } else f(e.shiftKey ? -1 : 1) }(e), e.preventDefault() } }), i.on("focusin", function (e) { t = e.target, n = e.control }), { focusFirst: function (e) { var t = c(e), n = u(t.getEl()); t.settings.ariaRemember && "lastAriaIndex" in t ? d(t.lastAriaIndex, n) : d(0, n) } } } var lt = {}, ut = ot.extend({ init: function (e) { var t = this; t._super(e), (e = t.settings).fixed && t.state.set("fixed", !0), t._items = new je, t.isRtl() && t.classes.add("rtl"), t.bodyClasses = new Ne(function () { t.state.get("rendered") && (t.getEl("body").className = this.toString()) }), t.bodyClasses.prefix = t.classPrefix, t.classes.add("container"), t.bodyClasses.add("container-body"), e.containerCls && t.classes.add(e.containerCls), t._layout = g.create((e.layout || "") + "layout"), t.settings.items ? t.add(t.settings.items) : t.add(t.render()), t._hasBody = !0 }, items: function () { return this._items }, find: function (e) { return (e = lt[e] = lt[e] || new Fe(e)).find(this) }, add: function (e) { return this.items().add(this.create(e)).parent(this), this }, focus: function (e) { var t, n, i, r = this; if (!e || !(n = r.keyboardNav || r.parents().eq(-1)[0].keyboardNav)) return i = r.find("*"), r.statusbar && i.add(r.statusbar.items()), i.each(function (e) { if (e.settings.autofocus) return t = null, !1; e.canFocus && (t = t || e) }), t && t.focus(), r; n.focusFirst(r) }, replace: function (e, t) { for (var n, i = this.items(), r = i.length; r--;)if (i[r] === e) { i[r] = t; break } r >= 0 && ((n = t.getEl()) && n.parentNode.removeChild(n), (n = e.getEl()) && n.parentNode.removeChild(n)), t.parent(this) }, create: function (e) { var t, n = this, i = []; return a.isArray(e) || (e = [e]), a.each(e, function (e) { e && (e instanceof ot || ("string" == typeof e && (e = { type: e }), t = a.extend({}, n.settings.defaults, e), e.type = t.type = t.type || e.type || n.settings.defaultType || (t.defaults ? t.defaults.type : null), e = g.create(t)), i.push(e)) }), i }, renderNew: function () { var e = this; return e.items().each(function (t, n) { var i; t.parent(e), t.state.get("rendered") || ((i = e.getEl("body")).hasChildNodes() && n <= i.childNodes.length - 1 ? xe(i.childNodes[n]).before(t.renderHtml()) : xe(i).append(t.renderHtml()), t.postRender(), Ze.add(t)) }), e._layout.applyClasses(e.items().filter(":visible")), e._lastRect = null, e }, append: function (e) { return this.add(e).renderNew() }, prepend: function (e) { return this.items().set(this.create(e).concat(this.items().toArray())), this.renderNew() }, insert: function (e, t, n) { var i, r, o; return e = this.create(e), i = this.items(), !n && t < i.length - 1 && (t += 1), t >= 0 && t < i.length && (r = i.slice(0, t).toArray(), o = i.slice(t).toArray(), i.set(r.concat(e, o))), this.renderNew() }, fromJSON: function (e) { for (var t in e) this.find("#" + t).value(e[t]); return this }, toJSON: function () { var e = {}; return this.find("*").each(function (t) { var n = t.name(), i = t.value(); n && void 0 !== i && (e[n] = i) }), e }, renderHtml: function () { var e = this, t = e._layout, n = this.settings.role; return e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '"' + (n ? ' role="' + this.settings.role + '"' : "") + '><div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>" }, postRender: function () { var e, t = this; return t.items().exec("postRender"), t._super(), t._layout.postRender(t), t.state.set("rendered", !0), t.settings.style && t.$el.css(t.settings.style), t.settings.border && (e = t.borderBox, t.$el.css({ "border-top-width": e.top, "border-right-width": e.right, "border-bottom-width": e.bottom, "border-left-width": e.left })), t.parent() || (t.keyboardNav = at({ root: t })), t }, initLayoutRect: function () { var e = this._super(); return this._layout.recalc(this), e }, recalc: function () { var e = this, t = e._layoutRect, n = e._lastRect; if (!n || n.w !== t.w || n.h !== t.h) return e._layout.recalc(e), t = e.layoutRect(), e._lastRect = { x: t.x, y: t.y, w: t.w, h: t.h }, !0 }, reflow: function () { var e; if (Ze.remove(this), this.visible()) { for (ot.repaintControls = [], ot.repaintControls.map = {}, this.recalc(), e = ot.repaintControls.length; e--;)ot.repaintControls[e].repaint(); "flow" !== this.settings.layout && "stack" !== this.settings.layout && this.repaint(), ot.repaintControls = [] } return this } }); function ct(e) { var t, n; if (e.changedTouches) for (t = "screenX screenY pageX pageY clientX clientY".split(" "), n = 0; n < t.length; n++)e[t[n]] = e.changedTouches[0][t[n]] } function dt(e, t) { var n, i, r, o, s, a, l, u = t.document || document; t = t || {}; var c = u.getElementById(t.handle || e); r = function (e) { var r, d, f, h, m, g, p, v, b, y, x, w = (r = u, b = Math.max, d = r.documentElement, f = r.body, h = b(d.scrollWidth, f.scrollWidth), m = b(d.clientWidth, f.clientWidth), g = b(d.offsetWidth, f.offsetWidth), p = b(d.scrollHeight, f.scrollHeight), v = b(d.clientHeight, f.clientHeight), { width: h < g ? m : h, height: p < b(d.offsetHeight, f.offsetHeight) ? v : p }); ct(e), e.preventDefault(), i = e.button, y = c, a = e.screenX, l = e.screenY, x = window.getComputedStyle ? window.getComputedStyle(y, null).getPropertyValue("cursor") : y.runtimeStyle.cursor, n = xe("<div></div>").css({ position: "absolute", top: 0, left: 0, width: w.width, height: w.height, zIndex: 2147483647, opacity: 1e-4, cursor: x }).appendTo(u.body), xe(u).on("mousemove touchmove", s).on("mouseup touchend", o), t.start(e) }, s = function (e) { if (ct(e), e.button !== i) return o(e); e.deltaX = e.screenX - a, e.deltaY = e.screenY - l, e.preventDefault(), t.drag(e) }, o = function (e) { ct(e), xe(u).off("mousemove touchmove", s).off("mouseup touchend", o), n.remove(), t.stop && t.stop(e) }, this.destroy = function () { xe(c).off() }, xe(c).on("mousedown touchstart", r) } var ft, ht, mt, gt, pt = { init: function () { this.on("repaint", this.renderScroll) }, renderScroll: function () { var e = this, t = 2; function n() { var n, i, r; function o(r, o, s, a, l, u) { var c, d, f, h, m, g, p, v; if (d = e.getEl("scroll" + r)) { if (p = o.toLowerCase(), v = s.toLowerCase(), xe(e.getEl("absend")).css(p, e.layoutRect()[a] - 1), !l) return void xe(d).css("display", "none"); xe(d).css("display", "block"), c = e.getEl("body"), f = e.getEl("scroll" + r + "t"), h = c["client" + s] - 2 * t, m = (h -= n && i ? d["client" + u] : 0) / c["scroll" + s], (g = {})[p] = c["offset" + o] + t, g[v] = h, xe(d).css(g), (g = {})[p] = c["scroll" + o] * m, g[v] = h * m, xe(f).css(g) } } r = e.getEl("body"), n = r.scrollWidth > r.clientWidth, i = r.scrollHeight > r.clientHeight, o("h", "Left", "Width", "contentW", n, "Height"), o("v", "Top", "Height", "contentH", i, "Width") } e.settings.autoScroll && (e._hasScroll || (e._hasScroll = !0, function () { function n(n, i, r, o, s) { var a, l = e._id + "-scroll" + n, u = e.classPrefix; xe(e.getEl()).append('<div id="' + l + '" class="' + u + "scrollbar " + u + "scrollbar-" + n + '"><div id="' + l + 't" class="' + u + 'scrollbar-thumb"></div></div>'), e.draghelper = new dt(l + "t", { start: function () { a = e.getEl("body")["scroll" + i], xe("#" + l).addClass(u + "active") }, drag: function (l) { var u, c, d, f, h = e.layoutRect(); c = h.contentW > h.innerW, d = h.contentH > h.innerH, f = e.getEl("body")["client" + r] - 2 * t, u = (f -= c && d ? e.getEl("scroll" + n)["client" + s] : 0) / e.getEl("body")["scroll" + r], e.getEl("body")["scroll" + i] = a + l["delta" + o] / u }, stop: function () { xe("#" + l).removeClass(u + "active") } }) } e.classes.add("scroll"), n("v", "Top", "Height", "Y", "Width"), n("h", "Left", "Width", "X", "Height") }(), e.on("wheel", function (t) { var i = e.getEl("body"); i.scrollLeft += 10 * (t.deltaX || 0), i.scrollTop += 10 * t.deltaY, n() }), xe(e.getEl("body")).on("scroll", n)), n()) } }, vt = ut.extend({ Defaults: { layout: "fit", containerCls: "panel" }, Mixins: [pt], renderHtml: function () { var e = this, t = e._layout, n = e.settings.html; return e.preRender(), t.preRender(e), void 0 === n ? n = '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + t.renderHtml(e) + "</div>" : ("function" == typeof n && (n = n.call(e)), e._hasBody = !1), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1" role="group">' + (e._preBodyHtml || "") + n + "</div>" } }), bt = { resizeToContent: function () { this._layoutRect.autoResize = !0, this._lastRect = null, this.reflow() }, resizeTo: function (e, t) { if (e <= 1 || t <= 1) { var n = _e.getWindowSize(); e = e <= 1 ? e * n.w : e, t = t <= 1 ? t * n.h : t } return this._layoutRect.autoResize = !1, this.layoutRect({ minW: e, minH: t, w: e, h: t }).reflow() }, resizeBy: function (e, t) { var n = this.layoutRect(); return this.resizeTo(n.w + e, n.h + t) } }, yt = [], xt = []; function wt(e, t) { for (; e;) { if (e === t) return !0; e = e.parent() } } function _t() { ft || (ft = function (e) { 2 !== e.button && function (e) { for (var t = yt.length; t--;) { var n = yt[t], i = n.getParentCtrl(e.target); if (n.settings.autohide) { if (i && (wt(i, n) || n.parent() === i)) continue; (e = n.fire("autohide", { target: e.target })).isDefaultPrevented() || n.hide() } } }(e) }, xe(document).on("click touchstart", ft)) } function Rt(e) { var t = _e.getViewPort().y; function n(t, n) { for (var i, r = 0; r < yt.length; r++)if (yt[r] !== e) for (i = yt[r].parent(); i && (i = i.parent());)i === e && yt[r].fixed(t).moveBy(0, n).repaint() } e.settings.autofix && (e.state.get("fixed") ? e._autoFixY > t && (e.fixed(!1).layoutRect({ y: e._autoFixY }).repaint(), n(!1, e._autoFixY - t)) : (e._autoFixY = e.layoutRect().y, e._autoFixY < t && (e.fixed(!0).layoutRect({ y: 0 }).repaint(), n(!0, t - e._autoFixY)))) } function Ct(e, t) { var n, i, r = kt.zIndex || 65535; if (e) xt.push(t); else for (n = xt.length; n--;)xt[n] === t && xt.splice(n, 1); if (xt.length) for (n = 0; n < xt.length; n++)xt[n].modal && (r++, i = xt[n]), xt[n].getEl().style.zIndex = r, xt[n].zIndex = r, r++; var o = xe("#" + t.classPrefix + "modal-block", t.getContainerElm())[0]; i ? xe(o).css("z-index", i.zIndex - 1) : o && (o.parentNode.removeChild(o), gt = !1), kt.currentZIndex = r } var kt = vt.extend({ Mixins: [Se, bt], init: function (e) { var t = this; t._super(e), t._eventsRoot = t, t.classes.add("floatpanel"), e.autohide && (_t(), function () { if (!mt) { var e = document.documentElement, t = e.clientWidth, n = e.clientHeight; mt = function () { document.all && t === e.clientWidth && n === e.clientHeight || (t = e.clientWidth, n = e.clientHeight, kt.hideAll()) }, xe(window).on("resize", mt) } }(), yt.push(t)), e.autofix && (ht || (ht = function () { var e; for (e = yt.length; e--;)Rt(yt[e]) }, xe(window).on("scroll", ht)), t.on("move", function () { Rt(this) })), t.on("postrender show", function (e) { if (e.control === t) { var n, i = t.classPrefix; t.modal && !gt && ((n = xe("#" + i + "modal-block", t.getContainerElm()))[0] || (n = xe('<div id="' + i + 'modal-block" class="' + i + "reset " + i + 'fade"></div>').appendTo(t.getContainerElm())), R.setTimeout(function () { n.addClass(i + "in"), xe(t.getEl()).addClass(i + "in") }), gt = !0), Ct(!0, t) } }), t.on("show", function () { t.parents().each(function (e) { if (e.state.get("fixed")) return t.fixed(!0), !1 }) }), e.popover && (t._preBodyHtml = '<div class="' + t.classPrefix + 'arrow"></div>', t.classes.add("popover").add("bottom").add(t.isRtl() ? "end" : "start")), t.aria("label", e.ariaLabel), t.aria("labelledby", t._id), t.aria("describedby", t.describedBy || t._id + "-none") }, fixed: function (e) { var t = this; if (t.state.get("fixed") !== e) { if (t.state.get("rendered")) { var n = _e.getViewPort(); e ? t.layoutRect().y -= n.y : t.layoutRect().y += n.y } t.classes.toggle("fixed", e), t.state.set("fixed", e) } return t }, show: function () { var e, t = this._super(); for (e = yt.length; e-- && yt[e] !== this;); return -1 === e && yt.push(this), t }, hide: function () { return Et(this), Ct(!1, this), this._super() }, hideAll: function () { kt.hideAll() }, close: function () { return this.fire("close").isDefaultPrevented() || (this.remove(), Ct(!1, this)), this }, remove: function () { Et(this), this._super() }, postRender: function () { return this.settings.bodyRole && this.getEl("body").setAttribute("role", this.settings.bodyRole), this._super() } }); function Et(e) { var t; for (t = yt.length; t--;)yt[t] === e && yt.splice(t, 1); for (t = xt.length; t--;)xt[t] === e && xt.splice(t, 1) } kt.hideAll = function () { for (var e = yt.length; e--;) { var t = yt[e]; t && t.settings.autohide && (t.hide(), yt.splice(e, 1)) } }; var Ht = function (e, t) { return !(!e || t.settings.ui_container) }, St = function (e, t, n) { var i, r, o = m.DOM, s = e.getParam("fixed_toolbar_container"); s && (r = o.select(s)[0]); var a = function () { if (i && i.moveRel && i.visible() && !i._fixed) { var t = e.selection.getScrollContainer(), n = e.getBody(), r = 0, s = 0; if (t) { var a = o.getPos(n), l = o.getPos(t); r = Math.max(0, l.x - a.x), s = Math.max(0, l.y - a.y) } i.fixed(!1).moveRel(n, e.rtl ? ["tr-br", "br-tr"] : ["tl-bl", "bl-tl", "tr-br"]).moveBy(r, s) } }, u = function () { i && (i.show(), a(), o.addClass(e.getBody(), "mce-edit-focus")) }, d = function () { i && (i.hide(), kt.hideAll(), o.removeClass(e.getBody(), "mce-edit-focus")) }, h = function () { i ? i.visible() || u() : (i = t.panel = g.create({ type: r ? "panel" : "floatpanel", role: "application", classes: "tinymce tinymce-inline", layout: "flex", direction: "column", align: "stretch", autohide: !1, autofix: Ht(r, e), fixed: Ht(r, e), border: 1, items: [!1 === l(e) ? null : { type: "menubar", border: "0 0 1 0", items: oe(e) }, B(e, c(e))] }), D.setUiContainer(e, i), y(e), r ? i.renderTo(r).reflow() : i.renderTo().reflow(), w(e, i), u(), F(e), e.on("nodeChange", a), e.on("ResizeWindow", a), e.on("activate", u), e.on("deactivate", d), e.nodeChanged()) }; return e.settings.content_editable = !0, e.on("focus", function () { !1 === f(e) && n.skinUiCss ? o.styleSheetLoader.load(n.skinUiCss, h, h) : h() }), e.on("blur hide", d), e.on("remove", function () { i && (i.remove(), i = null) }), !1 === f(e) && n.skinUiCss ? o.styleSheetLoader.load(n.skinUiCss, pe(e)) : pe(e)(), {} }; function Mt(e, t) { var n, i, r = this, o = ot.classPrefix; r.show = function (s, a) { function l() { n && (xe(e).append('<div class="' + o + "throbber" + (t ? " " + o + "throbber-inline" : "") + '"></div>'), a && a()) } return r.hide(), n = !0, s ? i = R.setTimeout(l, s) : l(), r }, r.hide = function () { var t = e.lastChild; return R.clearTimeout(i), t && -1 !== t.className.indexOf("throbber") && t.parentNode.removeChild(t), n = !1, r } } var Tt = function (e, t) { var n; e.on("ProgressState", function (e) { n = n || new Mt(t.panel.getEl("body")), e.state ? n.show(e.time) : n.hide() }) }, Pt = function (e, t, n) { var i = function (e) { var t = e.settings, n = t.skin, i = t.skin_url; if (!1 !== n) { var r = n || "lightgray"; i = i ? e.documentBaseURI.toAbsolute(i) : s.baseURL + "/skins/" + r } return i }(e); return i && (n.skinUiCss = i + "/skin.min.css", e.contentCSS.push(i + "/content" + (e.inline ? ".inline" : "") + ".min.css")), Tt(e, t), e.getParam("inline", !1, "boolean") ? St(e, t, n) : ye(e, t, n) }, Wt = ot.extend({ Mixins: [Se], Defaults: { classes: "widget tooltip tooltip-n" }, renderHtml: function () { var e = this, t = e.classPrefix; return '<div id="' + e._id + '" class="' + e.classes + '" role="presentation"><div class="' + t + 'tooltip-arrow"></div><div class="' + t + 'tooltip-inner">' + e.encode(e.state.get("text")) + "</div></div>" }, bindStates: function () { var e = this; return e.state.on("change:text", function (t) { e.getEl().lastChild.innerHTML = e.encode(t.value) }), e._super() }, repaint: function () { var e, t; e = this.getEl().style, t = this._layoutRect, e.left = t.x + "px", e.top = t.y + "px", e.zIndex = 131070 } }), Dt = ot.extend({ init: function (e) { var t = this; t._super(e), e = t.settings, t.canFocus = !0, e.tooltip && !1 !== Dt.tooltips && (t.on("mouseenter", function (n) { var i = t.tooltip().moveTo(-65535); if (n.control === t) { var r = i.text(e.tooltip).show().testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]); i.classes.toggle("tooltip-n", "bc-tc" === r), i.classes.toggle("tooltip-nw", "bc-tl" === r), i.classes.toggle("tooltip-ne", "bc-tr" === r), i.moveRel(t.getEl(), r) } else i.hide() }), t.on("mouseleave mousedown click", function () { t.tooltip().remove(), t._tooltip = null })), t.aria("label", e.ariaLabel || e.tooltip) }, tooltip: function () { return this._tooltip || (this._tooltip = new Wt({ type: "tooltip" }), D.inheritUiContainer(this, this._tooltip), this._tooltip.renderTo()), this._tooltip }, postRender: function () { var e = this, t = e.settings; e._super(), e.parent() || !t.width && !t.height || (e.initLayoutRect(), e.repaint()), t.autofocus && e.focus() }, bindStates: function () { var e = this; function t(t) { e.aria("disabled", t), e.classes.toggle("disabled", t) } function n(t) { e.aria("pressed", t), e.classes.toggle("active", t) } return e.state.on("change:disabled", function (e) { t(e.value) }), e.state.on("change:active", function (e) { n(e.value) }), e.state.get("disabled") && t(!0), e.state.get("active") && n(!0), e._super() }, remove: function () { this._super(), this._tooltip && (this._tooltip.remove(), this._tooltip = null) } }), Nt = Dt.extend({ Defaults: { value: 0 }, init: function (e) { this._super(e), this.classes.add("progress"), this.settings.filter || (this.settings.filter = function (e) { return Math.round(e) }) }, renderHtml: function () { var e = this._id, t = this.classPrefix; return '<div id="' + e + '" class="' + this.classes + '"><div class="' + t + 'bar-container"><div class="' + t + 'bar"></div></div><div class="' + t + 'text">0%</div></div>' }, postRender: function () { return this._super(), this.value(this.settings.value), this }, bindStates: function () { var e = this; function t(t) { t = e.settings.filter(t), e.getEl().lastChild.innerHTML = t + "%", e.getEl().firstChild.firstChild.style.width = t + "%" } return e.state.on("change:value", function (e) { t(e.value) }), t(e.state.get("value")), e._super() } }), At = function (e, t) { e.getEl().lastChild.textContent = t + (e.progressBar ? " " + e.progressBar.value() + "%" : "") }, Bt = ot.extend({ Mixins: [Se], Defaults: { classes: "widget notification" }, init: function (e) { var t = this; t._super(e), t.maxWidth = e.maxWidth, e.text && t.text(e.text), e.icon && (t.icon = e.icon), e.color && (t.color = e.color), e.type && t.classes.add("notification-" + e.type), e.timeout && (e.timeout < 0 || e.timeout > 0) && !e.closeButton ? t.closeButton = !1 : (t.classes.add("has-close"), t.closeButton = !0), e.progressBar && (t.progressBar = new Nt), t.on("click", function (e) { -1 !== e.target.className.indexOf(t.classPrefix + "close") && t.close() }) }, renderHtml: function () { var e, t = this, n = t.classPrefix, i = "", r = "", o = ""; return t.icon && (i = '<i class="' + n + "ico " + n + "i-" + t.icon + '"></i>'), e = ' style="max-width: ' + t.maxWidth + "px;" + (t.color ? "background-color: " + t.color + ';"' : '"'), t.closeButton && (r = '<button type="button" class="' + n + 'close" aria-hidden="true">\xd7</button>'), t.progressBar && (o = t.progressBar.renderHtml()), '<div id="' + t._id + '" class="' + t.classes + '"' + e + ' role="presentation">' + i + '<div class="' + n + 'notification-inner">' + t.state.get("text") + "</div>" + o + r + '<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>' }, postRender: function () { var e = this; return R.setTimeout(function () { e.$el.addClass(e.classPrefix + "in"), At(e, e.state.get("text")) }, 100), e._super() }, bindStates: function () { var e = this; return e.state.on("change:text", function (t) { e.getEl().firstChild.innerHTML = t.value, At(e, t.value) }), e.progressBar && (e.progressBar.bindStates(), e.progressBar.state.on("change:value", function (t) { At(e, e.state.get("text")) })), e._super() }, close: function () { return this.fire("close").isDefaultPrevented() || this.remove(), this }, repaint: function () { var e, t; e = this.getEl().style, t = this._layoutRect, e.left = t.x + "px", e.top = t.y + "px", e.zIndex = 65534 } }); function Ot(e) { var t = function (e) { return e.inline ? e.getElement() : e.getContentAreaContainer() }; return { open: function (n, i) { var r, o = a.extend(n, { maxWidth: (r = t(e), _e.getSize(r).width) }), s = new Bt(o); return s.args = o, o.timeout > 0 && (s.timer = setTimeout(function () { s.close(), i() }, o.timeout)), s.on("close", function () { i() }), s.renderTo(), s }, close: function (e) { e.close() }, reposition: function (n) { var i; i = n, ee.each(i, function (e) { e.moveTo(0, 0) }), function (n) { if (n.length > 0) { var i = n.slice(0, 1)[0], r = t(e); i.moveRel(r, "tc-tc"), ee.each(n, function (e, t) { t > 0 && e.moveRel(n[t - 1].getEl(), "bc-tc") }) } }(n) }, getArgs: function (e) { return e.args } } } var zt = [], Lt = ""; function It(e) { var t, n = xe("meta[name=viewport]")[0]; !1 !== de.overrideViewPort && (n || ((n = document.createElement("meta")).setAttribute("name", "viewport"), document.getElementsByTagName("head")[0].appendChild(n)), (t = n.getAttribute("content")) && void 0 !== Lt && (Lt = t), n.setAttribute("content", e ? "width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0" : Lt)) } function Ft(e, t) { (function () { for (var e = 0; e < zt.length; e++)if (zt[e]._fullscreen) return !0; return !1 })() && !1 === t && xe([document.documentElement, document.body]).removeClass(e + "fullscreen") } var Ut = kt.extend({ modal: !0, Defaults: { border: 1, layout: "flex", containerCls: "panel", role: "dialog", callbacks: { submit: function () { this.fire("submit", { data: this.toJSON() }) }, close: function () { this.close() } } }, init: function (e) { var t = this; t._super(e), t.isRtl() && t.classes.add("rtl"), t.classes.add("window"), t.bodyClasses.add("window-body"), t.state.set("fixed", !0), e.buttons && (t.statusbar = new vt({ layout: "flex", border: "1 0 0 0", spacing: 3, padding: 10, align: "center", pack: t.isRtl() ? "start" : "end", defaults: { type: "button" }, items: e.buttons }), t.statusbar.classes.add("foot"), t.statusbar.parent(t)), t.on("click", function (e) { var n = t.classPrefix + "close"; (_e.hasClass(e.target, n) || _e.hasClass(e.target.parentNode, n)) && t.close() }), t.on("cancel", function () { t.close() }), t.aria("describedby", t.describedBy || t._id + "-none"), t.aria("label", e.title), t._fullscreen = !1 }, recalc: function () { var e, t, n, i, r = this, o = r.statusbar; r._fullscreen && (r.layoutRect(_e.getWindowSize()), r.layoutRect().contentH = r.layoutRect().innerH), r._super(), e = r.layoutRect(), r.settings.title && !r._fullscreen && (t = e.headerW) > e.w && (n = e.x - Math.max(0, t / 2), r.layoutRect({ w: t, x: n }), i = !0), o && (o.layoutRect({ w: r.layoutRect().innerW }).recalc(), (t = o.layoutRect().minW + e.deltaW) > e.w && (n = e.x - Math.max(0, t - e.w), r.layoutRect({ w: t, x: n }), i = !0)), i && r.recalc() }, initLayoutRect: function () { var e, t = this, n = t._super(), i = 0; if (t.settings.title && !t._fullscreen) { e = t.getEl("head"); var r = _e.getSize(e); n.headerW = r.width, n.headerH = r.height, i += n.headerH } t.statusbar && (i += t.statusbar.layoutRect().h), n.deltaH += i, n.minH += i, n.h += i; var o = _e.getWindowSize(); return n.x = t.settings.x || Math.max(0, o.w / 2 - n.w / 2), n.y = t.settings.y || Math.max(0, o.h / 2 - n.h / 2), n }, renderHtml: function () { var e = this, t = e._layout, n = e._id, i = e.classPrefix, r = e.settings, o = "", s = "", a = r.html; return e.preRender(), t.preRender(e), r.title && (o = '<div id="' + n + '-head" class="' + i + 'window-head"><div id="' + n + '-title" class="' + i + 'title">' + e.encode(r.title) + '</div><div id="' + n + '-dragh" class="' + i + 'dragh"></div><button type="button" class="' + i + 'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'), r.url && (a = '<iframe src="' + r.url + '" tabindex="-1"></iframe>'), void 0 === a && (a = t.renderHtml(e)), e.statusbar && (s = e.statusbar.renderHtml()), '<div id="' + n + '" class="' + e.classes + '" hidefocus="1"><div class="' + e.classPrefix + 'reset" role="application">' + o + '<div id="' + n + '-body" class="' + e.bodyClasses + '">' + a + "</div>" + s + "</div></div>" }, fullscreen: function (e) { var t, n, i = this, r = document.documentElement, o = i.classPrefix; if (e !== i._fullscreen) if (xe(window).on("resize", function () { var e; if (i._fullscreen) if (t) i._timer || (i._timer = R.setTimeout(function () { var e = _e.getWindowSize(); i.moveTo(0, 0).resizeTo(e.w, e.h), i._timer = 0 }, 50)); else { e = (new Date).getTime(); var n = _e.getWindowSize(); i.moveTo(0, 0).resizeTo(n.w, n.h), (new Date).getTime() - e > 50 && (t = !0) } }), n = i.layoutRect(), i._fullscreen = e, e) { i._initial = { x: n.x, y: n.y, w: n.w, h: n.h }, i.borderBox = Pe("0"), i.getEl("head").style.display = "none", n.deltaH -= n.headerH + 2, xe([r, document.body]).addClass(o + "fullscreen"), i.classes.add("fullscreen"); var s = _e.getWindowSize(); i.moveTo(0, 0).resizeTo(s.w, s.h) } else i.borderBox = Pe(i.settings.border), i.getEl("head").style.display = "", n.deltaH += n.headerH, xe([r, document.body]).removeClass(o + "fullscreen"), i.classes.remove("fullscreen"), i.moveTo(i._initial.x, i._initial.y).resizeTo(i._initial.w, i._initial.h); return i.reflow() }, postRender: function () { var e, t = this; setTimeout(function () { t.classes.add("in"), t.fire("open") }, 0), t._super(), t.statusbar && t.statusbar.postRender(), t.focus(), this.dragHelper = new dt(t._id + "-dragh", { start: function () { e = { x: t.layoutRect().x, y: t.layoutRect().y } }, drag: function (n) { t.moveTo(e.x + n.deltaX, e.y + n.deltaY) } }), t.on("submit", function (e) { e.isDefaultPrevented() || t.close() }), zt.push(t), It(!0) }, submit: function () { return this.fire("submit", { data: this.toJSON() }) }, remove: function () { var e, t = this; for (t.dragHelper.destroy(), t._super(), t.statusbar && this.statusbar.remove(), Ft(t.classPrefix, !1), e = zt.length; e--;)zt[e] === t && zt.splice(e, 1); It(zt.length > 0) }, getContentWindow: function () { var e = this.getEl().getElementsByTagName("iframe")[0]; return e ? e.contentWindow : null } }); !function () { if (!de.desktop) { var e = { w: window.innerWidth, h: window.innerHeight }; R.setInterval(function () { var t = window.innerWidth, n = window.innerHeight; e.w === t && e.h === n || (e = { w: t, h: n }, xe(window).trigger("resize")) }, 100) } xe(window).on("resize", function () { var e, t, n = _e.getWindowSize(); for (e = 0; e < zt.length; e++)t = zt[e].layoutRect(), zt[e].moveTo(zt[e].settings.x || Math.max(0, n.w / 2 - t.w / 2), zt[e].settings.y || Math.max(0, n.h / 2 - t.h / 2)) }) }(); var Vt, jt = Ut.extend({ init: function (e) { e = { border: 1, padding: 20, layout: "flex", pack: "center", align: "center", containerCls: "panel", autoScroll: !0, buttons: { type: "button", text: "Ok", action: "ok" }, items: { type: "label", multiline: !0, maxWidth: 500, maxHeight: 200 } }, this._super(e) }, Statics: { OK: 1, OK_CANCEL: 2, YES_NO: 3, YES_NO_CANCEL: 4, msgBox: function (e) { var t, n = e.callback || function () { }; function i(e, t, i) { return { type: "button", text: e, subtype: i ? "primary" : "", onClick: function (e) { e.control.parents()[1].close(), n(t) } } } switch (e.buttons) { case jt.OK_CANCEL: t = [i("Ok", !0, !0), i("Cancel", !1)]; break; case jt.YES_NO: case jt.YES_NO_CANCEL: t = [i("Yes", 1, !0), i("No", 0)], e.buttons === jt.YES_NO_CANCEL && t.push(i("Cancel", -1)); break; default: t = [i("Ok", !0, !0)] }return new Ut({ padding: 20, x: e.x, y: e.y, minWidth: 300, minHeight: 100, layout: "flex", pack: "center", align: "center", buttons: t, title: e.title, role: "alertdialog", items: { type: "label", multiline: !0, maxWidth: 500, maxHeight: 200, text: e.text }, onPostRender: function () { this.aria("describedby", this.items()[0]._id) }, onClose: e.onClose, onCancel: function () { n(!1) } }).renderTo(document.body).reflow() }, alert: function (e, t) { return "string" == typeof e && (e = { text: e }), e.callback = t, jt.msgBox(e) }, confirm: function (e, t) { return "string" == typeof e && (e = { text: e }), e.callback = t, e.buttons = jt.OK_CANCEL, jt.msgBox(e) } } }), Yt = function (e) { return { renderUI: function (t) { return Pt(e, this, t) }, resizeTo: function (t, n) { return ue(e, t, n) }, resizeBy: function (t, n) { return ce(e, t, n) }, getNotificationManagerImpl: function () { return Ot(e) }, getWindowManagerImpl: function () { return { open: function (e, t, n) { var i; return e.title = e.title || " ", e.url = e.url || e.file, e.url && (e.width = parseInt(e.width || 320, 10), e.height = parseInt(e.height || 240, 10)), e.body && (e.items = { defaults: e.defaults, type: e.bodyType || "form", items: e.body, data: e.data, callbacks: e.commands }), e.url || e.buttons || (e.buttons = [{ text: "Ok", subtype: "primary", onclick: function () { i.find("form")[0].submit() } }, { text: "Cancel", onclick: function () { i.close() } }]), (i = new Ut(e)).on("close", function () { n(i) }), e.data && i.on("postRender", function () { this.find("*").each(function (t) { var n = t.name(); n in e.data && t.value(e.data[n]) }) }), i.features = e || {}, i.params = t || {}, i = i.renderTo(document.body).reflow() }, alert: function (e, t, n) { var i; return (i = jt.alert(e, function () { t() })).on("close", function () { n(i) }), i }, confirm: function (e, t, n) { var i; return (i = jt.confirm(e, function (e) { t(e) })).on("close", function () { n(i) }), i }, close: function (e) { e.close() }, getParams: function (e) { return e.params }, setParams: function (e, t) { e.params = t } } } } }, qt = Me.extend({ Defaults: { firstControlClass: "first", lastControlClass: "last" }, init: function (e) { this.settings = a.extend({}, this.Defaults, e) }, preRender: function (e) { e.bodyClasses.add(this.settings.containerClass) }, applyClasses: function (e) { var t, n, i, r, o = this.settings; t = o.firstControlClass, n = o.lastControlClass, e.each(function (e) { e.classes.remove(t).remove(n).add(o.controlClass), e.visible() && (i || (i = e), r = e) }), i && i.classes.add(t), r && r.classes.add(n) }, renderHtml: function (e) { var t = ""; return this.applyClasses(e.items()), e.items().each(function (e) { t += e.renderHtml() }), t }, recalc: function () { }, postRender: function () { }, isNative: function () { return !1 } }), $t = qt.extend({ Defaults: { containerClass: "abs-layout", controlClass: "abs-layout-item" }, recalc: function (e) { e.items().filter(":visible").each(function (e) { var t = e.settings; e.layoutRect({ x: t.x, y: t.y, w: t.w, h: t.h }), e.recalc && e.recalc() }) }, renderHtml: function (e) { return '<div id="' + e._id + '-absend" class="' + e.classPrefix + 'abs-end"></div>' + this._super(e) } }), Xt = Dt.extend({ Defaults: { classes: "widget btn", role: "button" }, init: function (e) { var t, n = this; n._super(e), e = n.settings, t = n.settings.size, n.on("click mousedown", function (e) { e.preventDefault() }), n.on("touchstart", function (e) { n.fire("click", e), e.preventDefault() }), e.subtype && n.classes.add(e.subtype), t && n.classes.add("btn-" + t), e.icon && n.icon(e.icon) }, icon: function (e) { return arguments.length ? (this.state.set("icon", e), this) : this.state.get("icon") }, repaint: function () { var e, t = this.getEl().firstChild; t && ((e = t.style).width = e.height = "100%"), this._super() }, renderHtml: function () { var e, t, n = this, i = n._id, r = n.classPrefix, o = n.state.get("icon"), s = n.state.get("text"), a = "", l = n.settings; return (e = l.image) ? (o = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "", s && (n.classes.add("btn-has-text"), a = '<span class="' + r + 'txt">' + n.encode(s) + "</span>"), o = o ? r + "ico " + r + "i-" + o : "", t = "boolean" == typeof l.active ? ' aria-pressed="' + l.active + '"' : "", '<div id="' + i + '" class="' + n.classes + '" tabindex="-1"' + t + '><button id="' + i + '-button" role="presentation" type="button" tabindex="-1">' + (o ? '<i class="' + o + '"' + e + "></i>" : "") + a + "</button></div>" }, bindStates: function () { var e = this, t = e.$, n = e.classPrefix + "txt"; function i(i) { var r = t("span." + n, e.getEl()); i ? (r[0] || (t("button:first", e.getEl()).append('<span class="' + n + '"></span>'), r = t("span." + n, e.getEl())), r.html(e.encode(i))) : r.remove(), e.classes.toggle("btn-has-text", !!i) } return e.state.on("change:text", function (e) { i(e.value) }), e.state.on("change:icon", function (t) { var n = t.value, r = e.classPrefix; e.settings.icon = n, n = n ? r + "ico " + r + "i-" + e.settings.icon : ""; var o = e.getEl().firstChild, s = o.getElementsByTagName("i")[0]; n ? (s && s === o.firstChild || (s = document.createElement("i"), o.insertBefore(s, o.firstChild)), s.className = n) : s && o.removeChild(s), i(e.state.get("text")) }), e._super() } }), Jt = Xt.extend({ init: function (e) { e = a.extend({ text: "Browse...", multiple: !1, accept: null }, e), this._super(e), this.classes.add("browsebutton"), e.multiple && this.classes.add("multiple") }, postRender: function () { var e = this, t = _e.create("input", { type: "file", id: e._id + "-browse", accept: e.settings.accept }); e._super(), xe(t).on("change", function (t) { var n = t.target.files; e.value = function () { return n.length ? e.settings.multiple ? n : n[0] : null }, t.preventDefault(), n.length && e.fire("change", t) }), xe(t).on("click", function (e) { e.stopPropagation() }), xe(e.getEl("button")).on("click", function (e) { e.stopPropagation(), t.click() }), e.getEl().appendChild(t) }, remove: function () { xe(this.getEl("button")).off(), xe(this.getEl("input")).off(), this._super() } }), Gt = ut.extend({ Defaults: { defaultType: "button", role: "group" }, renderHtml: function () { var e = this, t = e._layout; return e.classes.add("btn-group"), e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '"><div id="' + e._id + '-body">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>" } }), Kt = Dt.extend({ Defaults: { classes: "checkbox", role: "checkbox", checked: !1 }, init: function (e) { var t = this; t._super(e), t.on("click mousedown", function (e) { e.preventDefault() }), t.on("click", function (e) { e.preventDefault(), t.disabled() || t.checked(!t.checked()) }), t.checked(t.settings.checked) }, checked: function (e) { return arguments.length ? (this.state.set("checked", e), this) : this.state.get("checked") }, value: function (e) { return arguments.length ? this.checked(e) : this.checked() }, renderHtml: function () { var e = this, t = e._id, n = e.classPrefix; return '<div id="' + t + '" class="' + e.classes + '" unselectable="on" aria-labelledby="' + t + '-al" tabindex="-1"><i class="' + n + "ico " + n + 'i-checkbox"></i><span id="' + t + '-al" class="' + n + 'label">' + e.encode(e.state.get("text")) + "</span></div>" }, bindStates: function () { var e = this; function t(t) { e.classes.toggle("checked", t), e.aria("checked", t) } return e.state.on("change:text", function (t) { e.getEl("al").firstChild.data = e.translate(t.value) }), e.state.on("change:checked change:value", function (n) { e.fire("change"), t(n.value) }), e.state.on("change:icon", function (t) { var n = t.value, i = e.classPrefix; if (void 0 === n) return e.settings.icon; e.settings.icon = n, n = n ? i + "ico " + i + "i-" + e.settings.icon : ""; var r = e.getEl().firstChild, o = r.getElementsByTagName("i")[0]; n ? (o && o === r.firstChild || (o = document.createElement("i"), r.insertBefore(o, r.firstChild)), o.className = n) : o && r.removeChild(o) }), e.state.get("checked") && t(!0), e._super() } }), Zt = tinymce.util.Tools.resolve("tinymce.util.VK"), Qt = Dt.extend({ init: function (e) { var t = this; t._super(e), e = t.settings, t.classes.add("combobox"), t.subinput = !0, t.ariaTarget = "inp", e.menu = e.menu || e.values, e.menu && (e.icon = "caret"), t.on("click", function (n) { var i = n.target, r = t.getEl(); if (xe.contains(r, i) || i === r) for (; i && i !== r;)i.id && -1 !== i.id.indexOf("-open") && (t.fire("action"), e.menu && (t.showMenu(), n.aria && t.menu.items()[0].focus())), i = i.parentNode }), t.on("keydown", function (e) { var n; 13 === e.keyCode && "INPUT" === e.target.nodeName && (e.preventDefault(), t.parents().reverse().each(function (e) { if (e.toJSON) return n = e, !1 }), t.fire("submit", { data: n.toJSON() })) }), t.on("keyup", function (e) { if ("INPUT" === e.target.nodeName) { var n = t.state.get("value"), i = e.target.value; i !== n && (t.state.set("value", i), t.fire("autocomplete", e)) } }), t.on("mouseover", function (e) { var n = t.tooltip().moveTo(-65535); if (t.statusLevel() && -1 !== e.target.className.indexOf(t.classPrefix + "status")) { var i = t.statusMessage() || "Ok", r = n.text(i).show().testMoveRel(e.target, ["bc-tc", "bc-tl", "bc-tr"]); n.classes.toggle("tooltip-n", "bc-tc" === r), n.classes.toggle("tooltip-nw", "bc-tl" === r), n.classes.toggle("tooltip-ne", "bc-tr" === r), n.moveRel(e.target, r) } }) }, statusLevel: function (e) { return arguments.length > 0 && this.state.set("statusLevel", e), this.state.get("statusLevel") }, statusMessage: function (e) { return arguments.length > 0 && this.state.set("statusMessage", e), this.state.get("statusMessage") }, showMenu: function () { var e, t = this, n = t.settings; t.menu || ((e = n.menu || []).length ? e = { type: "menu", items: e } : e.type = e.type || "menu", t.menu = g.create(e).parent(t).renderTo(t.getContainerElm()), t.fire("createmenu"), t.menu.reflow(), t.menu.on("cancel", function (e) { e.control === t.menu && t.focus() }), t.menu.on("show hide", function (e) { e.control.items().each(function (e) { e.active(e.value() === t.value()) }) }).fire("show"), t.menu.on("select", function (e) { t.value(e.control.value()) }), t.on("focusin", function (e) { "INPUT" === e.target.tagName.toUpperCase() && t.menu.hide() }), t.aria("expanded", !0)), t.menu.show(), t.menu.layoutRect({ w: t.layoutRect().w }), t.menu.moveRel(t.getEl(), t.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]) }, focus: function () { this.getEl("inp").focus() }, repaint: function () { var e, t, n = this, i = n.getEl(), r = n.getEl("open"), o = n.layoutRect(), s = 0, a = i.firstChild; n.statusLevel() && "none" !== n.statusLevel() && (s = parseInt(_e.getRuntimeStyle(a, "padding-right"), 10) - parseInt(_e.getRuntimeStyle(a, "padding-left"), 10)), e = r ? o.w - _e.getSize(r).width - 10 : o.w - 10; var l = document; return l.all && (!l.documentMode || l.documentMode <= 8) && (t = n.layoutRect().h - 2 + "px"), xe(a).css({ width: e - s, lineHeight: t }), n._super(), n }, postRender: function () { var e = this; return xe(this.getEl("inp")).on("change", function (t) { e.state.set("value", t.target.value), e.fire("change", t) }), e._super() }, renderHtml: function () { var e, t, n, i = this, r = i._id, o = i.settings, s = i.classPrefix, a = i.state.get("value") || "", l = "", u = ""; return "spellcheck" in o && (u += ' spellcheck="' + o.spellcheck + '"'), o.maxLength && (u += ' maxlength="' + o.maxLength + '"'), o.size && (u += ' size="' + o.size + '"'), o.subtype && (u += ' type="' + o.subtype + '"'), n = '<i id="' + r + '-status" class="mce-status mce-ico" style="display: none"></i>', i.disabled() && (u += ' disabled="disabled"'), (e = o.icon) && "caret" !== e && (e = s + "ico " + s + "i-" + o.icon), t = i.state.get("text"), (e || t) && (l = '<div id="' + r + '-open" class="' + s + "btn " + s + 'open" tabIndex="-1" role="button"><button id="' + r + '-action" type="button" hidefocus="1" tabindex="-1">' + ("caret" !== e ? '<i class="' + e + '"></i>' : '<i class="' + s + 'caret"></i>') + (t ? (e ? " " : "") + t : "") + "</button></div>", i.classes.add("has-open")), '<div id="' + r + '" class="' + i.classes + '"><input id="' + r + '-inp" class="' + s + 'textbox" value="' + i.encode(a, !1) + '" hidefocus="1"' + u + ' placeholder="' + i.encode(o.placeholder) + '" />' + n + l + "</div>" }, value: function (e) { return arguments.length ? (this.state.set("value", e), this) : (this.state.get("rendered") && this.state.set("value", this.getEl("inp").value), this.state.get("value")) }, showAutoComplete: function (e, t) { var n = this; if (0 !== e.length) { n.menu ? n.menu.items().remove() : n.menu = g.create({ type: "menu", classes: "combobox-menu", layout: "flow" }).parent(n).renderTo(), a.each(e, function (e) { var i, r; n.menu.add({ text: e.title, url: e.previewUrl, match: t, classes: "menu-item-ellipsis", onclick: (i = e.value, r = e.title, function () { n.fire("selectitem", { title: r, value: i }) }) }) }), n.menu.renderNew(), n.hideMenu(), n.menu.on("cancel", function (e) { e.control.parent() === n.menu && (e.stopPropagation(), n.focus(), n.hideMenu()) }), n.menu.on("select", function () { n.focus() }); var i = n.layoutRect().w; n.menu.layoutRect({ w: i, minW: 0, maxW: i }), n.menu.repaint(), n.menu.reflow(), n.menu.show(), n.menu.moveRel(n.getEl(), n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]) } else n.hideMenu() }, hideMenu: function () { this.menu && this.menu.hide() }, bindStates: function () { var e = this; e.state.on("change:value", function (t) { e.getEl("inp").value !== t.value && (e.getEl("inp").value = t.value) }), e.state.on("change:disabled", function (t) { e.getEl("inp").disabled = t.value }), e.state.on("change:statusLevel", function (t) { var n = e.getEl("status"), i = e.classPrefix, r = t.value; _e.css(n, "display", "none" === r ? "none" : ""), _e.toggleClass(n, i + "i-checkmark", "ok" === r), _e.toggleClass(n, i + "i-warning", "warn" === r), _e.toggleClass(n, i + "i-error", "error" === r), e.classes.toggle("has-status", "none" !== r), e.repaint() }), _e.on(e.getEl("status"), "mouseleave", function () { e.tooltip().hide() }), e.on("cancel", function (t) { e.menu && e.menu.visible() && (t.stopPropagation(), e.hideMenu()) }); var t = function (e, t) { t && t.items().length > 0 && t.items().eq(e)[0].focus() }; return e.on("keydown", function (n) { var i = n.keyCode; "INPUT" === n.target.nodeName && (i === Zt.DOWN ? (n.preventDefault(), e.fire("autocomplete"), t(0, e.menu)) : i === Zt.UP && (n.preventDefault(), t(-1, e.menu))) }), e._super() }, remove: function () { xe(this.getEl("inp")).off(), this.menu && this.menu.remove(), this._super() } }), en = Qt.extend({ init: function (e) { var t = this; e.spellcheck = !1, e.onaction && (e.icon = "none"), t._super(e), t.classes.add("colorbox"), t.on("change keyup postrender", function () { t.repaintColor(t.value()) }) }, repaintColor: function (e) { var t = this.getEl("open"), n = t ? t.getElementsByTagName("i")[0] : null; if (n) try { n.style.background = e } catch (i) { } }, bindStates: function () { var e = this; return e.state.on("change:value", function (t) { e.state.get("rendered") && e.repaintColor(t.value) }), e._super() } }), tn = Xt.extend({ showPanel: function () { var e = this, t = e.settings; if (e.classes.add("opened"), e.panel) e.panel.show(); else { var n = t.panel; n.type && (n = { layout: "grid", items: n }), n.role = n.role || "dialog", n.popover = !0, n.autohide = !0, n.ariaRoot = !0, e.panel = new kt(n).on("hide", function () { e.classes.remove("opened") }).on("cancel", function (t) { t.stopPropagation(), e.focus(), e.hidePanel() }).parent(e).renderTo(e.getContainerElm()), e.panel.fire("show"), e.panel.reflow() } var i = e.panel.testMoveRel(e.getEl(), t.popoverAlign || (e.isRtl() ? ["bc-tc", "bc-tl", "bc-tr"] : ["bc-tc", "bc-tr", "bc-tl"])); e.panel.classes.toggle("start", "bc-tl" === i), e.panel.classes.toggle("end", "bc-tr" === i), e.panel.moveRel(e.getEl(), i) }, hidePanel: function () { this.panel && this.panel.hide() }, postRender: function () { var e = this; return e.aria("haspopup", !0), e.on("click", function (t) { t.control === e && (e.panel && e.panel.visible() ? e.hidePanel() : (e.showPanel(), e.panel.focus(!!t.aria))) }), e._super() }, remove: function () { return this.panel && (this.panel.remove(), this.panel = null), this._super() } }), nn = m.DOM, rn = tn.extend({ init: function (e) { this._super(e), this.classes.add("splitbtn"), this.classes.add("colorbutton") }, color: function (e) { return e ? (this._color = e, this.getEl("preview").style.backgroundColor = e, this) : this._color }, resetColor: function () { return this._color = null, this.getEl("preview").style.backgroundColor = null, this }, renderHtml: function () { var e = this, t = e._id, n = e.classPrefix, i = e.state.get("text"), r = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon : "", o = e.settings.image ? " style=\"background-image: url('" + e.settings.image + "')\"" : "", s = ""; return i && (e.classes.add("btn-has-text"), s = '<span class="' + n + 'txt">' + e.encode(i) + "</span>"), '<div id="' + t + '" class="' + e.classes + '" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + o + "></i>" : "") + '<span id="' + t + '-preview" class="' + n + 'preview"></span>' + s + '</button><button type="button" class="' + n + 'open" hidefocus="1" tabindex="-1"> <i class="' + n + 'caret"></i></button></div>' }, postRender: function () { var e = this, t = e.settings.onclick; return e.on("click", function (n) { n.aria && "down" === n.aria.key || n.control !== e || nn.getParent(n.target, "." + e.classPrefix + "open") || (n.stopImmediatePropagation(), t.call(e, n)) }), delete e.settings.onclick, e._super() } }), on = tinymce.util.Tools.resolve("tinymce.util.Color"), sn = Dt.extend({ Defaults: { classes: "widget colorpicker" }, init: function (e) { this._super(e) }, postRender: function () { var e, t, n, i, r, o = this, s = o.color(); function a(e, t) { var n, i, r = _e.getPos(e); return n = t.pageX - r.x, i = t.pageY - r.y, { x: n = Math.max(0, Math.min(n / e.clientWidth, 1)), y: i = Math.max(0, Math.min(i / e.clientHeight, 1)) } } function l(e, t) { var s = (360 - e.h) / 360; _e.css(n, { top: 100 * s + "%" }), t || _e.css(r, { left: e.s + "%", top: 100 - e.v + "%" }), i.style.background = on({ s: 100, v: 100, h: e.h }).toHex(), o.color().parse({ s: e.s, v: e.v, h: e.h }) } function u(t) { var n; n = a(i, t), e.s = 100 * n.x, e.v = 100 * (1 - n.y), l(e), o.fire("change") } function c(n) { var i; i = a(t, n), (e = s.toHsv()).h = 360 * (1 - i.y), l(e, !0), o.fire("change") } t = o.getEl("h"), n = o.getEl("hp"), i = o.getEl("sv"), r = o.getEl("svp"), o._repaint = function () { l(e = s.toHsv()) }, o._super(), o._svdraghelper = new dt(o._id + "-sv", { start: u, drag: u }), o._hdraghelper = new dt(o._id + "-h", { start: c, drag: c }), o._repaint() }, rgb: function () { return this.color().toRgb() }, value: function (e) { if (!arguments.length) return this.color().toHex(); this.color().parse(e), this._rendered && this._repaint() }, color: function () { return this._color || (this._color = on()), this._color }, renderHtml: function () { var e, t = this._id, n = this.classPrefix, i = "#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000"; return e = '<div id="' + t + '-h" class="' + n + 'colorpicker-h" style="background: -ms-linear-gradient(top,' + i + ");background: linear-gradient(to bottom," + i + ');">' + function () { var e, t, r, o, s = ""; for (r = "filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=", e = 0, t = (o = i.split(",")).length - 1; e < t; e++)s += '<div class="' + n + 'colorpicker-h-chunk" style="height:' + 100 / t + "%;" + r + o[e] + ",endColorstr=" + o[e + 1] + ");-ms-" + r + o[e] + ",endColorstr=" + o[e + 1] + ')"></div>'; return s }() + '<div id="' + t + '-hp" class="' + n + 'colorpicker-h-marker"></div></div>', '<div id="' + t + '" class="' + this.classes + '"><div id="' + t + '-sv" class="' + n + 'colorpicker-sv"><div class="' + n + 'colorpicker-overlay1"><div class="' + n + 'colorpicker-overlay2"><div id="' + t + '-svp" class="' + n + 'colorpicker-selector1"><div class="' + n + 'colorpicker-selector2"></div></div></div></div></div>' + e + "</div>" } }), an = Dt.extend({ init: function (e) { e = a.extend({ height: 100, text: "Drop an image here", multiple: !1, accept: null }, e), this._super(e), this.classes.add("dropzone"), e.multiple && this.classes.add("multiple") }, renderHtml: function () { var e, t, n = this.settings; return e = { id: this._id, hidefocus: "1" }, t = _e.create("div", e, "<span>" + this.translate(n.text) + "</span>"), n.height && _e.css(t, "height", n.height + "px"), n.width && _e.css(t, "width", n.width + "px"), t.className = this.classes, t.outerHTML }, postRender: function () { var e = this, t = function (t) { t.preventDefault(), e.classes.toggle("dragenter"), e.getEl().className = e.classes }; e._super(), e.$el.on("dragover", function (e) { e.preventDefault() }), e.$el.on("dragenter", t), e.$el.on("dragleave", t), e.$el.on("drop", function (t) { if (t.preventDefault(), !e.state.get("disabled")) { var n = function (t) { var n = e.settings.accept; if ("string" != typeof n) return t; var i = new RegExp("(" + n.split(/\s*,\s*/).join("|") + ")$", "i"); return a.grep(t, function (e) { return i.test(e.name) }) }(t.dataTransfer.files); e.value = function () { return n.length ? e.settings.multiple ? n : n[0] : null }, n.length && e.fire("change", t) } }) }, remove: function () { this.$el.off(), this._super() } }), ln = Dt.extend({ init: function (e) { var t = this; e.delimiter || (e.delimiter = "\xbb"), t._super(e), t.classes.add("path"), t.canFocus = !0, t.on("click", function (e) { var n; (n = e.target.getAttribute("data-index")) && t.fire("select", { value: t.row()[n], index: n }) }), t.row(t.settings.row) }, focus: function () { return this.getEl().firstChild.focus(), this }, row: function (e) { return arguments.length ? (this.state.set("row", e), this) : this.state.get("row") }, renderHtml: function () { return '<div id="' + this._id + '" class="' + this.classes + '">' + this._getDataPathHtml(this.state.get("row")) + "</div>" }, bindStates: function () { var e = this; return e.state.on("change:row", function (t) { e.innerHtml(e._getDataPathHtml(t.value)) }), e._super() }, _getDataPathHtml: function (e) { var t, n, i = e || [], r = "", o = this.classPrefix; for (t = 0, n = i.length; t < n; t++)r += (t > 0 ? '<div class="' + o + 'divider" aria-hidden="true"> ' + this.settings.delimiter + " </div>" : "") + '<div role="button" class="' + o + "path-item" + (t === n - 1 ? " " + o + "last" : "") + '" data-index="' + t + '" tabindex="-1" id="' + this._id + "-" + t + '" aria-level="' + (t + 1) + '">' + i[t].name + "</div>"; return r || (r = '<div class="' + o + 'path-item">\xa0</div>'), r } }), un = ln.extend({ postRender: function () { var e = this, t = e.settings.editor; function n(e) { if (1 === e.nodeType) { if ("BR" === e.nodeName || e.getAttribute("data-mce-bogus")) return !0; if ("bookmark" === e.getAttribute("data-mce-type")) return !0 } return !1 } return !1 !== t.settings.elementpath && (e.on("select", function (e) { t.focus(), t.selection.select(this.row()[e.index].element), t.nodeChanged() }), t.on("nodeChange", function (i) { for (var r = [], o = i.parents, s = o.length; s--;)if (1 === o[s].nodeType && !n(o[s])) { var a = t.fire("ResolveName", { name: o[s].nodeName.toLowerCase(), target: o[s] }); if (a.isDefaultPrevented() || r.push({ name: a.name, element: o[s] }), a.isPropagationStopped()) break } e.row(r) })), e._super() } }), cn = ut.extend({ Defaults: { layout: "flex", align: "center", defaults: { flex: 1 } }, renderHtml: function () { var e = this, t = e._layout, n = e.classPrefix; return e.classes.add("formitem"), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1">' + (e.settings.title ? '<div id="' + e._id + '-title" class="' + n + 'title">' + e.settings.title + "</div>" : "") + '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>" } }), dn = ut.extend({ Defaults: { containerCls: "form", layout: "flex", direction: "column", align: "stretch", flex: 1, padding: 15, labelGap: 30, spacing: 10, callbacks: { submit: function () { this.submit() } } }, preRender: function () { var e = this, t = e.items(); e.settings.formItemDefaults || (e.settings.formItemDefaults = { layout: "flex", autoResize: "overflow", defaults: { flex: 1 } }), t.each(function (t) { var n, i = t.settings.label; i && ((n = new cn(a.extend({ items: { type: "label", id: t._id + "-l", text: i, flex: 0, forId: t._id, disabled: t.disabled() } }, e.settings.formItemDefaults))).type = "formitem", t.aria("labelledby", t._id + "-l"), "undefined" == typeof t.settings.flex && (t.settings.flex = 1), e.replace(t, n), n.add(t)) }) }, submit: function () { return this.fire("submit", { data: this.toJSON() }) }, postRender: function () { this._super(), this.fromJSON(this.settings.data) }, bindStates: function () { var e = this; function t() { var t, n, i = 0, r = []; if (!1 !== e.settings.labelGapCalc) for (("children" === e.settings.labelGapCalc ? e.find("formitem") : e.items()).filter("formitem").each(function (e) { var t = e.items()[0], n = t.getEl().clientWidth; i = n > i ? n : i, r.push(t) }), n = e.settings.labelGap || 0, t = r.length; t--;)r[t].settings.minWidth = i + n } e._super(), e.on("show", t), t() } }), fn = dn.extend({ Defaults: { containerCls: "fieldset", layout: "flex", direction: "column", align: "stretch", flex: 1, padding: "25 15 5 15", labelGap: 30, spacing: 10, border: 1 }, renderHtml: function () { var e = this, t = e._layout, n = e.classPrefix; return e.preRender(), t.preRender(e), '<fieldset id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1">' + (e.settings.title ? '<legend id="' + e._id + '-title" class="' + n + 'fieldset-title">' + e.settings.title + "</legend>" : "") + '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></fieldset>" } }), hn = 0, mn = function (e) { var t = (new Date).getTime(); return e + "_" + Math.floor(1e9 * Math.random()) + ++hn + String(t) }, gn = function (e) { if (null === e || e === undefined) throw new Error("Node cannot be null or undefined"); return { dom: k.constant(e) } }, pn = { fromHtml: function (e, t) { var n = (t || document).createElement("div"); if (n.innerHTML = e, !n.hasChildNodes() || n.childNodes.length > 1) throw console.error("HTML does not have a single root node", e), "HTML must have a single root node"; return gn(n.childNodes[0]) }, fromTag: function (e, t) { var n = (t || document).createElement(e); return gn(n) }, fromText: function (e, t) { var n = (t || document).createTextNode(e); return gn(n) }, fromDom: gn, fromPoint: function (e, t, n) { return P.from(e.dom().elementFromPoint(t, n)).map(gn) } }, vn = function (e) { var t, n = !1; return function () { return n || (n = !0, t = e.apply(null, arguments)), t } }, bn = 8, yn = 9, xn = 1, wn = 3, _n = function (e) { return e.dom().nodeName.toLowerCase() }, Rn = function (e) { return e.dom().nodeType }, Cn = function (e) { return function (t) { return Rn(t) === e } }, kn = Cn(xn), En = Cn(wn), Hn = Cn(yn), Sn = { name: _n, type: Rn, value: function (e) { return e.dom().nodeValue }, isElement: kn, isText: En, isDocument: Hn, isComment: function (e) { return Rn(e) === bn || "#comment" === _n(e) } }, Mn = (vn(function () { return Mn(pn.fromDom(document)) }), function (e) { var t = e.dom().body; if (null === t || t === undefined) throw "Body is not available yet"; return pn.fromDom(t) }), Tn = function (e) { return function (t) { return function (e) { if (null === e) return "null"; var t = typeof e; return "object" === t && Array.prototype.isPrototypeOf(e) ? "array" : "object" === t && String.prototype.isPrototypeOf(e) ? "string" : t }(t) === e } }, Pn = { isString: Tn("string"), isObject: Tn("object"), isArray: Tn("array"), isNull: Tn("null"), isBoolean: Tn("boolean"), isUndefined: Tn("undefined"), isFunction: Tn("function"), isNumber: Tn("number") }, Wn = (Vt = Object.keys) === undefined ? function (e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(n); return t } : Vt, Dn = function (e, t) { for (var n = Wn(e), i = 0, r = n.length; i < r; i++) { var o = n[i]; t(e[o], o, e) } }, Nn = function (e, t) { var n = {}; return Dn(e, function (i, r) { var o = t(i, r, e); n[o.k] = o.v }), n }, An = function (e, t) { var n = []; return Dn(e, function (e, i) { n.push(t(e, i)) }), n }, Bn = function (e) { return An(e, function (e) { return e }) }, On = { bifilter: function (e, t) { var n = {}, i = {}; return Dn(e, function (e, r) { (t(e, r) ? n : i)[r] = e }), { t: n, f: i } }, each: Dn, map: function (e, t) { return Nn(e, function (e, n, i) { return { k: n, v: t(e, n, i) } }) }, mapToArray: An, tupleMap: Nn, find: function (e, t) { for (var n = Wn(e), i = 0, r = n.length; i < r; i++) { var o = n[i], s = e[o]; if (t(s, o, e)) return P.some(s) } return P.none() }, keys: Wn, values: Bn, size: function (e) { return Bn(e).length } }, zn = function (e) { return e.slice(0).sort() }, Ln = { sort: zn, reqMessage: function (e, t) { throw new Error("All required keys (" + zn(e).join(", ") + ") were not specified. Specified keys were: " + zn(t).join(", ") + ".") }, unsuppMessage: function (e) { throw new Error("Unsupported keys for object: " + zn(e).join(", ")) }, validateStrArr: function (e, t) { if (!Pn.isArray(t)) throw new Error("The " + e + " fields must be an array. Was: " + t + "."); ee.each(t, function (t) { if (!Pn.isString(t)) throw new Error("The value " + t + " in the " + e + " fields was not a string.") }) }, invalidTypeMessage: function (e, t) { throw new Error("All values need to be of type: " + t + ". Keys (" + zn(e).join(", ") + ") were not.") }, checkDupes: function (e) { var t = zn(e); ee.find(t, function (e, n) { return n < t.length - 1 && e === t[n + 1] }).each(function (e) { throw new Error("The field: " + e + " occurs more than once in the combined fields: [" + t.join(", ") + "].") }) } }, In = { immutable: function () { var e = arguments; return function () { for (var t = new Array(arguments.length), n = 0; n < t.length; n++)t[n] = arguments[n]; if (e.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + e.length + ']", got ' + t.length + " arguments"); var i = {}; return ee.each(e, function (e, n) { i[e] = k.constant(t[n]) }), i } }, immutableBag: function (e, t) { var n = e.concat(t); if (0 === n.length) throw new Error("You must specify at least one required or optional field."); return Ln.validateStrArr("required", e), Ln.validateStrArr("optional", t), Ln.checkDupes(n), function (i) { var r = On.keys(i); ee.forall(e, function (e) { return ee.contains(r, e) }) || Ln.reqMessage(e, r); var o = ee.filter(r, function (e) { return !ee.contains(n, e) }); o.length > 0 && Ln.unsuppMessage(o); var s = {}; return ee.each(e, function (e) { s[e] = k.constant(i[e]) }), ee.each(t, function (e) { s[e] = k.constant(Object.prototype.hasOwnProperty.call(i, e) ? P.some(i[e]) : P.none()) }), s } } }, Fn = ("undefined" != typeof window ? window : Function("return this;")(), function (e, t) { var n = function (e, t) { for (var n = 0; n < e.length; n++) { var i = e[n]; if (i.test(t)) return i } return undefined }(e, t); if (!n) return { major: 0, minor: 0 }; var i = function (e) { return Number(t.replace(n, "$" + e)) }; return Vn(i(1), i(2)) }), Un = function () { return Vn(0, 0) }, Vn = function (e, t) { return { major: e, minor: t } }, jn = { nu: Vn, detect: function (e, t) { var n = String(t).toLowerCase(); return 0 === e.length ? Un() : Fn(e, n) }, unknown: Un }, Yn = "Firefox", qn = function (e, t) { return function () { return t === e } }, $n = function (e) { var t = e.current; return { current: t, version: e.version, isEdge: qn("Edge", t), isChrome: qn("Chrome", t), isIE: qn("IE", t), isOpera: qn("Opera", t), isFirefox: qn(Yn, t), isSafari: qn("Safari", t) } }, Xn = { unknown: function () { return $n({ current: undefined, version: jn.unknown() }) }, nu: $n, edge: k.constant("Edge"), chrome: k.constant("Chrome"), ie: k.constant("IE"), opera: k.constant("Opera"), firefox: k.constant(Yn), safari: k.constant("Safari") }, Jn = "Windows", Gn = "Android", Kn = "Solaris", Zn = "FreeBSD", Qn = function (e, t) { return function () { return t === e } }, ei = function (e) { var t = e.current; return { current: t, version: e.version, isWindows: Qn(Jn, t), isiOS: Qn("iOS", t), isAndroid: Qn(Gn, t), isOSX: Qn("OSX", t), isLinux: Qn("Linux", t), isSolaris: Qn(Kn, t), isFreeBSD: Qn(Zn, t) } }, ti = { unknown: function () { return ei({ current: undefined, version: jn.unknown() }) }, nu: ei, windows: k.constant(Jn), ios: k.constant("iOS"), android: k.constant(Gn), linux: k.constant("Linux"), osx: k.constant("OSX"), solaris: k.constant(Kn), freebsd: k.constant(Zn) }, ni = function (e, t) { var n = String(t).toLowerCase(); return ee.find(e, function (e) { return e.search(n) }) }, ii = function (e, t) { return ni(e, t).map(function (e) { var n = jn.detect(e.versionRegexes, t); return { current: e.name, version: n } }) }, ri = function (e, t) { return ni(e, t).map(function (e) { var n = jn.detect(e.versionRegexes, t); return { current: e.name, version: n } }) }, oi = function (e, t) { return -1 !== e.indexOf(t) }, si = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/, ai = function (e) { return function (t) { return oi(t, e) } }, li = [{ name: "Edge", versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/], search: function (e) { return oi(e, "edge/") && oi(e, "chrome") && oi(e, "safari") && oi(e, "applewebkit") } }, { name: "Chrome", versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, si], search: function (e) { return oi(e, "chrome") && !oi(e, "chromeframe") } }, { name: "IE", versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/], search: function (e) { return oi(e, "msie") || oi(e, "trident") } }, { name: "Opera", versionRegexes: [si, /.*?opera\/([0-9]+)\.([0-9]+).*/], search: ai("opera") }, { name: "Firefox", versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/], search: ai("firefox") }, { name: "Safari", versionRegexes: [si, /.*?cpu os ([0-9]+)_([0-9]+).*/], search: function (e) { return (oi(e, "safari") || oi(e, "mobile/")) && oi(e, "applewebkit") } }], ui = [{ name: "Windows", search: ai("win"), versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/] }, { name: "iOS", search: function (e) { return oi(e, "iphone") || oi(e, "ipad") }, versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/] }, { name: "Android", search: ai("android"), versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/] }, { name: "OSX", search: ai("os x"), versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/] }, { name: "Linux", search: ai("linux"), versionRegexes: [] }, { name: "Solaris", search: ai("sunos"), versionRegexes: [] }, { name: "FreeBSD", search: ai("freebsd"), versionRegexes: [] }], ci = { browsers: k.constant(li), oses: k.constant(ui) }, di = function (e) { var t, n, i, r, o, s, a, l, u, c, d, f = ci.browsers(), h = ci.oses(), m = ii(f, e).fold(Xn.unknown, Xn.nu), g = ri(h, e).fold(ti.unknown, ti.nu); return { browser: m, os: g, deviceType: (n = m, i = e, r = (t = g).isiOS() && !0 === /ipad/i.test(i), o = t.isiOS() && !r, s = t.isAndroid() && 3 === t.version.major, a = t.isAndroid() && 4 === t.version.major, l = r || s || a && !0 === /mobile/i.test(i), u = t.isiOS() || t.isAndroid(), c = u && !l, d = n.isSafari() && t.isiOS() && !1 === /safari/i.test(i), { isiPad: k.constant(r), isiPhone: k.constant(o), isTablet: k.constant(l), isPhone: k.constant(c), isTouch: k.constant(u), isAndroid: t.isAndroid, isiOS: t.isiOS, isWebView: k.constant(d) }) } }, fi = vn(function () { var e = navigator.userAgent; return di(e) }), hi = xn, mi = yn, gi = function (e) { return e.nodeType !== hi && e.nodeType !== mi || 0 === e.childElementCount }, pi = { all: function (e, t) { var n = t === undefined ? document : t.dom(); return gi(n) ? [] : ee.map(n.querySelectorAll(e), pn.fromDom) }, is: function (e, t) { var n = e.dom(); if (n.nodeType !== hi) return !1; if (n.matches !== undefined) return n.matches(t); if (n.msMatchesSelector !== undefined) return n.msMatchesSelector(t); if (n.webkitMatchesSelector !== undefined) return n.webkitMatchesSelector(t); if (n.mozMatchesSelector !== undefined) return n.mozMatchesSelector(t); throw new Error("Browser lacks native selectors") }, one: function (e, t) { var n = t === undefined ? document : t.dom(); return gi(n) ? P.none() : P.from(n.querySelector(e)).map(pn.fromDom) } }, vi = (fi().browser.isIE(), In.immutable("element", "offset"), function (e, t) { return pi.all(t, e) }), bi = a.trim, yi = function (e) { return function (t) { if (t && 1 === t.nodeType) { if (t.contentEditable === e) return !0; if (t.getAttribute("data-mce-contenteditable") === e) return !0 } return !1 } }, xi = yi("true"), wi = yi("false"), _i = function (e, t, n, i, r) { return { type: e, title: t, url: n, level: i, attach: r } }, Ri = function (e) { return e.innerText || e.textContent }, Ci = function (e) { return (t = e) && "A" === t.nodeName && (t.id || t.name) && Ei(e); var t }, ki = function (e) { return e && /^(H[1-6])$/.test(e.nodeName) }, Ei = function (e) { return function (e) { for (; e = e.parentNode;) { var t = e.contentEditable; if (t && "inherit" !== t) return xi(e) } return !1 }(e) && !wi(e) }, Hi = function (e) { return ki(e) && Ei(e) }, Si = function (e) { var t, n, i = (t = e).id ? t.id : mn("h"); return _i("header", Ri(e), "#" + i, ki(n = e) ? parseInt(n.nodeName.substr(1), 10) : 0, function () { e.id = i }) }, Mi = function (e) { var t = e.id || e.name, n = Ri(e); return _i("anchor", n || "#" + t, "#" + t, 0, k.noop) }, Ti = function (e) { var t, n; return t = "h1,h2,h3,h4,h5,h6,a:not([href])", n = e, ee.map(vi(pn.fromDom(n), t), function (e) { return e.dom() }) }, Pi = function (e) { return bi(e.title).length > 0 }, Wi = function (e) { var t, n, i = Ti(e); return ee.filter((n = i, ee.map(ee.filter(n, Hi), Si)).concat((t = i, ee.map(ee.filter(t, Ci), Mi))), Pi) }, Di = {}, Ni = function (e) { return { title: e.title, value: { title: { raw: e.title }, url: e.url, attach: e.attach } } }, Ai = function (e, t) { return { title: e, value: { title: e, url: t, attach: k.noop } } }, Bi = function (e, t, n) { var i = t in e ? e[t] : n; return !1 === i ? null : i }, Oi = function (e, t, n, i) { var r, o, s, l, u = { title: "-" }, c = function (e) { var i = e.hasOwnProperty(n) ? e[n] : [], r = ee.filter(i, function (e) { return n = e, i = t, !ee.exists(i, function (e) { return e.url === n }); var n, i }); return a.map(r, function (e) { return { title: e, value: { title: e, url: e, attach: k.noop } } }) }, d = function (e) { var n, i = ee.filter(t, function (t) { return t.type === e }); return n = i, a.map(n, Ni) }; return !1 === i.typeahead_urls ? [] : "file" === n ? (r = [zi(e, c(Di)), zi(e, d("header")), zi(e, (o = d("anchor"), s = Bi(i, "anchor_top", "#top"), l = Bi(i, "anchor_bottom", "#bottom"), null !== s && o.unshift(Ai("<top>", s)), null !== l && o.push(Ai("<bottom>", l)), o))], ee.foldl(r, function (e, t) { return 0 === e.length || 0 === t.length ? e.concat(t) : e.concat(u, t) }, [])) : zi(e, c(Di)) }, zi = function (e, t) { var n = e.toLowerCase(), i = a.grep(t, function (e) { return -1 !== e.title.toLowerCase().indexOf(n) }); return 1 === i.length && i[0].title === e ? [] : i }, Li = function (e, t, n, i) { var r = function (r) { var o = Wi(n), s = Oi(r, o, i, t); e.showAutoComplete(s, r) }; e.on("autocomplete", function () { r(e.value()) }), e.on("selectitem", function (t) { var n = t.value; e.value(n.url); var r, o = (r = n.title).raw ? r.raw : r; "image" === i ? e.fire("change", { meta: { alt: o, attach: n.attach } }) : e.fire("change", { meta: { text: o, attach: n.attach } }), e.focus() }), e.on("click", function (t) { 0 === e.value().length && "INPUT" === t.target.nodeName && r("") }), e.on("PostRender", function () { e.getRoot().on("submit", function (t) { var n, r, o; t.isDefaultPrevented() || (n = e.value(), o = Di[r = i], /^https?/.test(n) && (o ? -1 === ee.indexOf(o, n) && (Di[r] = o.slice(0, 5).concat(n)) : Di[r] = [n])) }) }) }, Ii = function (e, t, n) { var i = t.filepicker_validator_handler; i && e.state.on("change:value", function (t) { var r; 0 !== (r = t.value).length ? i({ url: r, type: n }, function (t) { var n, i, r, o = (i = (n = t).status, r = n.message, "valid" === i ? { status: "ok", message: r } : "unknown" === i ? { status: "warn", message: r } : "invalid" === i ? { status: "warn", message: r } : { status: "none", message: "" }); e.statusMessage(o.message), e.statusLevel(o.status) }) : e.statusLevel("none") }) }, Fi = Qt.extend({ Statics: { clearHistory: function () { Di = {} } }, init: function (e) { var t, n, i, r = this, o = window.tinymce ? window.tinymce.activeEditor : s.activeEditor, l = o.settings, u = e.filetype; e.spellcheck = !1, (i = l.file_picker_types || l.file_browser_callback_types) && (i = a.makeMap(i, /[, ]/)), i && !i[u] || (!(n = l.file_picker_callback) || i && !i[u] ? !(n = l.file_browser_callback) || i && !i[u] || (t = function () { n(r.getEl("inp").id, r.value(), u, window) }) : t = function () { var e = r.fire("beforecall").meta; e = a.extend({ filetype: u }, e), n.call(o, function (e, t) { r.value(e).fire("change", { meta: t }) }, r.value(), e) }), t && (e.icon = "browse", e.onaction = t), r._super(e), r.classes.add("filepicker"), Li(r, l, o.getBody(), u), Ii(r, l, u) } }), Ui = $t.extend({ recalc: function (e) { var t = e.layoutRect(), n = e.paddingBox; e.items().filter(":visible").each(function (e) { e.layoutRect({ x: n.left, y: n.top, w: t.innerW - n.right - n.left, h: t.innerH - n.top - n.bottom }), e.recalc && e.recalc() }) } }), Vi = $t.extend({ recalc: function (e) { var t, n, i, r, o, s, a, l, u, c, d, f, h, m, g, p, v, b, y, x, w, _, R, C, k, E, H, S, M, T, P, W, D, N, A, B, O, z = [], L = Math.max, I = Math.min; for (i = e.items().filter(":visible"), r = e.layoutRect(), o = e.paddingBox, s = e.settings, f = e.isRtl() ? s.direction || "row-reversed" : s.direction, a = s.align, l = e.isRtl() ? s.pack || "end" : s.pack, u = s.spacing || 0, "row-reversed" !== f && "column-reverse" !== f || (i = i.set(i.toArray().reverse()), f = f.split("-")[0]), "column" === f ? (C = "y", _ = "h", R = "minH", k = "maxH", H = "innerH", E = "top", S = "deltaH", M = "contentH", N = "left", W = "w", T = "x", P = "innerW", D = "minW", A = "right", B = "deltaW", O = "contentW") : (C = "x", _ = "w", R = "minW", k = "maxW", H = "innerW", E = "left", S = "deltaW", M = "contentW", N = "top", W = "h", T = "y", P = "innerH", D = "minH", A = "bottom", B = "deltaH", O = "contentH"), d = r[H] - o[E] - o[E], w = c = 0, t = 0, n = i.length; t < n; t++)m = (h = i[t]).layoutRect(), d -= t < n - 1 ? u : 0, (g = h.settings.flex) > 0 && (c += g, m[k] && z.push(h), m.flex = g), d -= m[R], (p = o[N] + m[D] + o[A]) > w && (w = p); if ((y = {})[R] = d < 0 ? r[R] - d + r[S] : r[H] - d + r[S], y[D] = w + r[B], y[M] = r[H] - d, y[O] = w, y.minW = I(y.minW, r.maxW), y.minH = I(y.minH, r.maxH), y.minW = L(y.minW, r.startMinWidth), y.minH = L(y.minH, r.startMinHeight), !r.autoResize || y.minW === r.minW && y.minH === r.minH) { for (b = d / c, t = 0, n = z.length; t < n; t++)v = (m = (h = z[t]).layoutRect())[k], (p = m[R] + m.flex * b) > v ? (d -= m[k] - m[R], c -= m.flex, m.flex = 0, m.maxFlexSize = v) : m.maxFlexSize = 0; for (b = d / c, x = o[E], y = {}, 0 === c && ("end" === l ? x = d + o[E] : "center" === l ? (x = Math.round(r[H] / 2 - (r[H] - d) / 2) + o[E]) < 0 && (x = o[E]) : "justify" === l && (x = o[E], u = Math.floor(d / (i.length - 1)))), y[T] = o[N], t = 0, n = i.length; t < n; t++)p = (m = (h = i[t]).layoutRect()).maxFlexSize || m[R], "center" === a ? y[T] = Math.round(r[P] / 2 - m[W] / 2) : "stretch" === a ? (y[W] = L(m[D] || 0, r[P] - o[N] - o[A]), y[T] = o[N]) : "end" === a && (y[T] = r[P] - m[W] - o.top), m.flex > 0 && (p += m.flex * b), y[_] = p, y[C] = x, h.layoutRect(y), h.recalc && h.recalc(), x += p + u } else if (y.w = y.minW, y.h = y.minH, e.layoutRect(y), this.recalc(e), null === e._lastRect) { var F = e.parent(); F && (F._lastRect = null, F.recalc()) } } }), ji = qt.extend({ Defaults: { containerClass: "flow-layout", controlClass: "flow-layout-item", endClass: "break" }, recalc: function (e) { e.items().filter(":visible").each(function (e) { e.recalc && e.recalc() }) }, isNative: function () { return !0 } }), Yi = function (e, t) { return pi.one(t, e) }, qi = function (e, t) { return function () { e.execCommand("mceToggleFormat", !1, t) } }, $i = function (e, t) { return function () { var n = this; e.formatter ? e.formatter.formatChanged(t, function (e) { n.active(e) }) : e.on("init", function () { e.formatter.formatChanged(t, function (e) { n.active(e) }) }) } }, Xi = function (e) { e.addMenuItem("align", { text: "Align", menu: [{ text: "Left", icon: "alignleft", onclick: qi(e, "alignleft") }, { text: "Center", icon: "aligncenter", onclick: qi(e, "aligncenter") }, { text: "Right", icon: "alignright", onclick: qi(e, "alignright") }, { text: "Justify", icon: "alignjustify", onclick: qi(e, "alignjustify") }] }), a.each({ alignleft: ["Align left", "JustifyLeft"], aligncenter: ["Align center", "JustifyCenter"], alignright: ["Align right", "JustifyRight"], alignjustify: ["Justify", "JustifyFull"], alignnone: ["No alignment", "JustifyNone"] }, function (t, n) { e.addButton(n, { active: !1, tooltip: t[0], cmd: t[1], onPostRender: $i(e, n) }) }) }, Ji = function (e) { return function (t, n) { return P.from(n).map(pn.fromDom).filter(Sn.isElement).bind(function (n) { return function (e, t, n) { for (; n !== t;) { if (n.style[e]) { var i = n.style[e]; return "" !== i ? P.some(i) : P.none() } n = n.parentNode } return P.none() }(e, t, n.dom()).or((i = e, r = n.dom(), P.from(m.DOM.getStyle(r, i, !0)))); var i, r }).getOr("") } }, Gi = { getFontSize: Ji("fontSize"), getFontFamily: k.compose(function (e) { return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",") }, Ji("fontFamily")), toPt: function (e, t) { return /[0-9.]+px$/.test(e) ? (n = 72 * parseInt(e, 10) / 96, i = t || 0, r = Math.pow(10, i), Math.round(n * r) / r + "pt") : e; var n, i, r } }, Ki = function (e) { return e ? e.split(",")[0] : "" }, Zi = function (e, t) { return function () { var n = this; e.on("init nodeChange", function (i) { var r, o, s, l = Gi.getFontFamily(e.getBody(), i.element), u = (r = t, o = l, a.each(r, function (e) { e.value.toLowerCase() === o.toLowerCase() && (s = e.value) }), a.each(r, function (e) { s || Ki(e.value).toLowerCase() !== Ki(o).toLowerCase() || (s = e.value) }), s); n.value(u || null), !u && l && n.text(Ki(l)) }) } }, Qi = function (e) { e.addButton("fontselect", function () { var t, n = (t = function (e) { for (var t = (e = e.replace(/;$/, "").split(";")).length; t--;)e[t] = e[t].split("="); return e }(e.settings.font_formats || "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"), a.map(t, function (e) { return { text: { raw: e[0] }, value: e[1], textStyle: -1 === e[1].indexOf("dings") ? "font-family:" + e[1] : "" } })); return { type: "listbox", text: "Font Family", tooltip: "Font Family", values: n, fixedWidth: !0, onPostRender: Zi(e, n), onselect: function (t) { t.control.settings.value && e.execCommand("FontName", !1, t.control.settings.value) } } }) }, er = function (e) { Qi(e) }, tr = function (e, t, n) { var i; return a.each(e, function (e) { e.value === n ? i = n : e.value === t && (i = t) }), i }, nr = function (e) { e.addButton("fontsizeselect", function () { var t, n, i, r = (t = e.settings.fontsize_formats || "8pt 10pt 12pt 14pt 18pt 24pt 36pt", a.map(t.split(" "), function (e) { var t = e, n = e, i = e.split("="); return i.length > 1 && (t = i[0], n = i[1]), { text: t, value: n } })); return { type: "listbox", text: "Font Sizes", tooltip: "Font Sizes", values: r, fixedWidth: !0, onPostRender: (n = e, i = r, function () { var e = this; n.on("init nodeChange", function (t) { var r, o, s, a; if (r = Gi.getFontSize(n.getBody(), t.element)) for (s = 3; !a && s >= 0; s--)o = Gi.toPt(r, s), a = tr(i, o, r); e.value(a || null), a || e.text(o) }) }), onclick: function (t) { t.control.settings.value && e.execCommand("FontSize", !1, t.control.settings.value) } } }) }, ir = function (e) { nr(e) }, rr = function (e, t) { var n = t.length; return a.each(t, function (t) { t.menu && (t.hidden = 0 === rr(e, t.menu)); var i = t.format; i && (t.hidden = !e.formatter.canApply(i)), t.hidden && n-- }), n }, or = function (e, t) { var n = t.items().length; return t.items().each(function (t) { t.menu && t.visible(or(e, t.menu) > 0), !t.menu && t.settings.menu && t.visible(rr(e, t.settings.menu) > 0); var i = t.settings.format; i && t.visible(e.formatter.canApply(i)), t.visible() || n-- }), n }, sr = function (e) { var t, n, i, r, o, s, l, u, c = (n = 0, i = [], r = [{ title: "Headings", items: [{ title: "Heading 1", format: "h1" }, { title: "Heading 2", format: "h2" }, { title: "Heading 3", format: "h3" }, { title: "Heading 4", format: "h4" }, { title: "Heading 5", format: "h5" }, { title: "Heading 6", format: "h6" }] }, { title: "Inline", items: [{ title: "Bold", icon: "bold", format: "bold" }, { title: "Italic", icon: "italic", format: "italic" }, { title: "Underline", icon: "underline", format: "underline" }, { title: "Strikethrough", icon: "strikethrough", format: "strikethrough" }, { title: "Superscript", icon: "superscript", format: "superscript" }, { title: "Subscript", icon: "subscript", format: "subscript" }, { title: "Code", icon: "code", format: "code" }] }, { title: "Blocks", items: [{ title: "Paragraph", format: "p" }, { title: "Blockquote", format: "blockquote" }, { title: "Div", format: "div" }, { title: "Pre", format: "pre" }] }, { title: "Alignment", items: [{ title: "Left", icon: "alignleft", format: "alignleft" }, { title: "Center", icon: "aligncenter", format: "aligncenter" }, { title: "Right", icon: "alignright", format: "alignright" }, { title: "Justify", icon: "alignjustify", format: "alignjustify" }] }], o = function (e) { var t = []; if (e) return a.each(e, function (e) { var r = { text: e.title, icon: e.icon }; if (e.items) r.menu = o(e.items); else { var s = e.format || "custom" + n++; e.format || (e.name = s, i.push(e)), r.format = s, r.cmd = e.cmd } t.push(r) }), t }, (t = e).on("init", function () { a.each(i, function (e) { t.formatter.register(e.name, e) }) }), { type: "menu", items: t.settings.style_formats_merge ? t.settings.style_formats ? o(r.concat(t.settings.style_formats)) : o(r) : o(t.settings.style_formats || r), onPostRender: function (e) { t.fire("renderFormatsMenu", { control: e.control }) }, itemDefaults: { preview: !0, textStyle: function () { if (this.settings.format) return t.formatter.getCssText(this.settings.format) }, onPostRender: function () { var e = this; e.parent().on("show", function () { var n, i; (n = e.settings.format) && (e.disabled(!t.formatter.canApply(n)), e.active(t.formatter.match(n))), (i = e.settings.cmd) && e.active(t.queryCommandState(i)) }) }, onclick: function () { this.settings.format && qi(t, this.settings.format)(), this.settings.cmd && t.execCommand(this.settings.cmd) } } }); s = c, e.addMenuItem("formats", { text: "Formats", menu: s }), u = c, (l = e).addButton("styleselect", { type: "menubutton", text: "Formats", menu: u, onShowMenu: function () { l.settings.style_formats_autohide && or(l, this.menu) } }) }, ar = function (e, t) { return function () { var n, i, r, o = []; return a.each(t, function (t) { o.push({ text: t[0], value: t[1], textStyle: function () { return e.formatter.getCssText(t[1]) } }) }), { type: "listbox", text: t[0][0], values: o, fixedWidth: !0, onselect: function (t) { if (t.control) { var n = t.control.value(); qi(e, n)() } }, onPostRender: (n = e, i = o, function () { var e = this; n.on("nodeChange", function (t) { var o = n.formatter, s = null; a.each(t.parents, function (e) { if (a.each(i, function (t) { if (r ? o.matchNode(e, r, { value: t.value }) && (s = t.value) : o.matchNode(e, t.value) && (s = t.value), s) return !1 }), s) return !1 }), e.value(s) }) }) } } }, lr = function (e) { var t, n, i = function (e) { for (var t = (e = e.replace(/;$/, "").split(";")).length; t--;)e[t] = e[t].split("="); return e }(e.settings.block_formats || "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"); e.addMenuItem("blockformats", { text: "Blocks", menu: (t = e, n = i, a.map(n, function (e) { return { text: e[0], onclick: qi(t, e[1]), textStyle: function () { return t.formatter.getCssText(e[1]) } } })) }), e.addButton("formatselect", ar(e, i)) }, ur = function (e, t) { var n, i; if ("string" == typeof t) i = t.split(" "); else if (a.isArray(t)) return ee.flatten(a.map(t, function (t) { return ur(e, t) })); return n = a.grep(i, function (t) { return "|" === t || t in e.menuItems }), a.map(n, function (t) { return "|" === t ? { text: "-" } : e.menuItems[t] }) }, cr = function (e) { return e && "-" === e.text }, dr = function (e) { var t = ee.filter(e, function (e, t, n) { return !cr(e) || !cr(n[t - 1]) }); return ee.filter(t, function (e, t, n) { return !cr(e) || t > 0 && t < n.length - 1 }) }, fr = function (e) { var t, n, i, r, o = e.settings.insert_button_items; return dr(o ? ur(e, o) : (t = e, n = "insert", i = [{ text: "-" }], r = a.grep(t.menuItems, function (e) { return e.context === n }), a.each(r, function (e) { "before" === e.separator && i.push({ text: "|" }), e.prependToContext ? i.unshift(e) : i.push(e), "after" === e.separator && i.push({ text: "|" }) }), i)) }, hr = function (e) { var t; (t = e).addButton("insert", { type: "menubutton", icon: "insert", menu: [], oncreatemenu: function () { this.menu.add(fr(t)), this.menu.renderNew() } }) }, mr = function (e) { var t, n, i; t = e, a.each({ bold: "Bold", italic: "Italic", underline: "Underline", strikethrough: "Strikethrough", subscript: "Subscript", superscript: "Superscript" }, function (e, n) { t.addButton(n, { active: !1, tooltip: e, onPostRender: $i(t, n), onclick: qi(t, n) }) }), n = e, a.each({ outdent: ["Decrease indent", "Outdent"], indent: ["Increase indent", "Indent"], cut: ["Cut", "Cut"], copy: ["Copy", "Copy"], paste: ["Paste", "Paste"], help: ["Help", "mceHelp"], selectall: ["Select all", "SelectAll"], visualaid: ["Visual aids", "mceToggleVisualAid"], newdocument: ["New document", "mceNewDocument"], removeformat: ["Clear formatting", "RemoveFormat"], remove: ["Remove", "Delete"] }, function (e, t) { n.addButton(t, { tooltip: e[0], cmd: e[1] }) }), i = e, a.each({ blockquote: ["Blockquote", "mceBlockQuote"], subscript: ["Subscript", "Subscript"], superscript: ["Superscript", "Superscript"] }, function (e, t) { i.addButton(t, { active: !1, tooltip: e[0], cmd: e[1], onPostRender: $i(i, t) }) }) }, gr = function (e) { var t; mr(e), t = e, a.each({ bold: ["Bold", "Bold", "Meta+B"], italic: ["Italic", "Italic", "Meta+I"], underline: ["Underline", "Underline", "Meta+U"], strikethrough: ["Strikethrough", "Strikethrough"], subscript: ["Subscript", "Subscript"], superscript: ["Superscript", "Superscript"], removeformat: ["Clear formatting", "RemoveFormat"], newdocument: ["New document", "mceNewDocument"], cut: ["Cut", "Cut", "Meta+X"], copy: ["Copy", "Copy", "Meta+C"], paste: ["Paste", "Paste", "Meta+V"], selectall: ["Select all", "SelectAll", "Meta+A"] }, function (e, n) { t.addMenuItem(n, { text: e[0], icon: n, shortcut: e[2], cmd: e[1] }) }), t.addMenuItem("codeformat", { text: "Code", icon: "code", onclick: qi(t, "code") }) }, pr = function (e, t) { return function () { var n = this, i = function () { var n = "redo" === t ? "hasRedo" : "hasUndo"; return !!e.undoManager && e.undoManager[n]() }; n.disabled(!i()), e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", function () { n.disabled(e.readonly || !i()) }) } }, vr = function (e) { var t, n; (t = e).addMenuItem("undo", { text: "Undo", icon: "undo", shortcut: "Meta+Z", onPostRender: pr(t, "undo"), cmd: "undo" }), t.addMenuItem("redo", { text: "Redo", icon: "redo", shortcut: "Meta+Y", onPostRender: pr(t, "redo"), cmd: "redo" }), (n = e).addButton("undo", { tooltip: "Undo", onPostRender: pr(n, "undo"), cmd: "undo" }), n.addButton("redo", { tooltip: "Redo", onPostRender: pr(n, "redo"), cmd: "redo" }) }, br = function (e) { var t, n; (t = e).addMenuItem("visualaid", { text: "Visual aids", selectable: !0, onPostRender: (n = t, function () { var e = this; n.on("VisualAid", function (t) { e.active(t.hasVisual) }), e.active(n.hasVisual) }), cmd: "mceToggleVisualAid" }) }, yr = { setup: function (e) { var t; e.rtl && (ot.rtl = !0), e.on("mousedown", function () { kt.hideAll() }), (t = e).settings.ui_container && (de.container = Yi(pn.fromDom(document.body), t.settings.ui_container).fold(k.constant(null), function (e) { return e.dom() })), Dt.tooltips = !de.iOS, ot.translate = function (e) { return s.translate(e) }, lr(e), Xi(e), gr(e), vr(e), ir(e), er(e), sr(e), br(e), hr(e) } }, xr = $t.extend({ recalc: function (e) { var t, n, i, r, o, s, a, l, u, c, d, f, h, m, g, p, v, b, y, x, w, _, R, C, k, E, H, S, M = [], T = []; t = e.settings, r = e.items().filter(":visible"), o = e.layoutRect(), i = t.columns || Math.ceil(Math.sqrt(r.length)), n = Math.ceil(r.length / i), b = t.spacingH || t.spacing || 0, y = t.spacingV || t.spacing || 0, x = t.alignH || t.align, w = t.alignV || t.align, p = e.paddingBox, S = "reverseRows" in t ? t.reverseRows : e.isRtl(), x && "string" == typeof x && (x = [x]), w && "string" == typeof w && (w = [w]); for (d = 0; d < i; d++)M.push(0); for (f = 0; f < n; f++)T.push(0); for (f = 0; f < n; f++)for (d = 0; d < i && (c = r[f * i + d]); d++)C = (u = c.layoutRect()).minW, k = u.minH, M[d] = C > M[d] ? C : M[d], T[f] = k > T[f] ? k : T[f]; for (E = o.innerW - p.left - p.right, _ = 0, d = 0; d < i; d++)_ += M[d] + (d > 0 ? b : 0), E -= (d > 0 ? b : 0) + M[d]; for (H = o.innerH - p.top - p.bottom, R = 0, f = 0; f < n; f++)R += T[f] + (f > 0 ? y : 0), H -= (f > 0 ? y : 0) + T[f]; if (_ += p.left + p.right, R += p.top + p.bottom, (l = {}).minW = _ + (o.w - o.innerW), l.minH = R + (o.h - o.innerH), l.contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH, l.minW = Math.min(l.minW, o.maxW), l.minH = Math.min(l.minH, o.maxH), l.minW = Math.max(l.minW, o.startMinWidth), l.minH = Math.max(l.minH, o.startMinHeight), !o.autoResize || l.minW === o.minW && l.minH === o.minH) { var P; o.autoResize && ((l = e.layoutRect(l)).contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH), P = "start" === t.packV ? 0 : H > 0 ? Math.floor(H / n) : 0; var W = 0, D = t.flexWidths; if (D) for (d = 0; d < D.length; d++)W += D[d]; else W = i; var N = E / W; for (d = 0; d < i; d++)M[d] += D ? D[d] * N : N; for (m = p.top, f = 0; f < n; f++) { for (h = p.left, a = T[f] + P, d = 0; d < i && (c = r[S ? f * i + i - 1 - d : f * i + d]); d++)g = c.settings, u = c.layoutRect(), s = Math.max(M[d], u.startMinWidth), u.x = h, u.y = m, "center" === (v = g.alignH || (x ? x[d] || x[0] : null)) ? u.x = h + s / 2 - u.w / 2 : "right" === v ? u.x = h + s - u.w : "stretch" === v && (u.w = s), "center" === (v = g.alignV || (w ? w[d] || w[0] : null)) ? u.y = m + a / 2 - u.h / 2 : "bottom" === v ? u.y = m + a - u.h : "stretch" === v && (u.h = a), c.layoutRect(u), h += s + b, c.recalc && c.recalc(); m += a + y } } else if (l.w = l.minW, l.h = l.minH, e.layoutRect(l), this.recalc(e), null === e._lastRect) { var A = e.parent(); A && (A._lastRect = null, A.recalc()) } } }), wr = Dt.extend({ renderHtml: function () { var e = this; return e.classes.add("iframe"), e.canFocus = !1, '<iframe id="' + e._id + '" class="' + e.classes + '" tabindex="-1" src="' + (e.settings.url || "javascript:''") + '" frameborder="0"></iframe>' }, src: function (e) { this.getEl().src = e }, html: function (e, t) { var n = this, i = this.getEl().contentWindow.document.body; return i ? (i.innerHTML = e, t && t()) : R.setTimeout(function () { n.html(e) }), this } }), _r = Dt.extend({ init: function (e) { this._super(e), this.classes.add("widget").add("infobox"), this.canFocus = !1 }, severity: function (e) { this.classes.remove("error"), this.classes.remove("warning"), this.classes.remove("success"), this.classes.add(e) }, help: function (e) { this.state.set("help", e) }, renderHtml: function () { var e = this, t = e.classPrefix; return '<div id="' + e._id + '" class="' + e.classes + '"><div id="' + e._id + '-body">' + e.encode(e.state.get("text")) + '<button role="button" tabindex="-1"><i class="' + t + "ico " + t + 'i-help"></i></button></div></div>' }, bindStates: function () { var e = this; return e.state.on("change:text", function (t) { e.getEl("body").firstChild.data = e.encode(t.value), e.state.get("rendered") && e.updateLayoutRect() }), e.state.on("change:help", function (t) { e.classes.toggle("has-help", t.value), e.state.get("rendered") && e.updateLayoutRect() }), e._super() } }), Rr = Dt.extend({ init: function (e) { var t = this; t._super(e), t.classes.add("widget").add("label"), t.canFocus = !1, e.multiline && t.classes.add("autoscroll"), e.strong && t.classes.add("strong") }, initLayoutRect: function () { var e = this, t = e._super(); return e.settings.multiline && (_e.getSize(e.getEl()).width > t.maxW && (t.minW = t.maxW, e.classes.add("multiline")), e.getEl().style.width = t.minW + "px", t.startMinH = t.h = t.minH = Math.min(t.maxH, _e.getSize(e.getEl()).height)), t }, repaint: function () { return this.settings.multiline || (this.getEl().style.lineHeight = this.layoutRect().h + "px"), this._super() }, severity: function (e) { this.classes.remove("error"), this.classes.remove("warning"), this.classes.remove("success"), this.classes.add(e) }, renderHtml: function () { var e, t, n = this, i = n.settings.forId, r = n.settings.html ? n.settings.html : n.encode(n.state.get("text")); return !i && (t = n.settings.forName) && (e = n.getRoot().find("#" + t)[0]) && (i = e._id), i ? '<label id="' + n._id + '" class="' + n.classes + '"' + (i ? ' for="' + i + '"' : "") + ">" + r + "</label>" : '<span id="' + n._id + '" class="' + n.classes + '">' + r + "</span>" }, bindStates: function () { var e = this; return e.state.on("change:text", function (t) { e.innerHtml(e.encode(t.value)), e.state.get("rendered") && e.updateLayoutRect() }), e._super() } }), Cr = ut.extend({ Defaults: { role: "toolbar", layout: "flow" }, init: function (e) { this._super(e), this.classes.add("toolbar") }, postRender: function () { return this.items().each(function (e) { e.classes.add("toolbar-item") }), this._super() } }), kr = Cr.extend({ Defaults: { role: "menubar", containerCls: "menubar", ariaRoot: !0, defaults: { type: "menubutton" } } }), Er = Xt.extend({ init: function (e) { var t = this; t._renderOpen = !0, t._super(e), e = t.settings, t.classes.add("menubtn"), e.fixedWidth && t.classes.add("fixed-width"), t.aria("haspopup", !0), t.state.set("menu", e.menu || t.render()) }, showMenu: function (e) { var t, n = this; if (n.menu && n.menu.visible() && !1 !== e) return n.hideMenu(); n.menu || (t = n.state.get("menu") || [], n.classes.add("opened"), t.length ? t = { type: "menu", animate: !0, items: t } : (t.type = t.type || "menu", t.animate = !0), t.renderTo ? n.menu = t.parent(n).show().renderTo() : n.menu = g.create(t).parent(n).renderTo(), n.fire("createmenu"), n.menu.reflow(), n.menu.on("cancel", function (e) { e.control.parent() === n.menu && (e.stopPropagation(), n.focus(), n.hideMenu()) }), n.menu.on("select", function () { n.focus() }), n.menu.on("show hide", function (e) { e.control === n.menu && (n.activeMenu("show" === e.type), n.classes.toggle("opened", "show" === e.type)), n.aria("expanded", "show" === e.type) }).fire("show")), n.menu.show(), n.menu.layoutRect({ w: n.layoutRect().w }), n.menu.repaint(), n.menu.moveRel(n.getEl(), n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]), n.fire("showmenu") }, hideMenu: function () { this.menu && (this.menu.items().each(function (e) { e.hideMenu && e.hideMenu() }), this.menu.hide()) }, activeMenu: function (e) { this.classes.toggle("active", e) }, renderHtml: function () { var e, t = this, n = t._id, i = t.classPrefix, r = t.settings.icon, o = t.state.get("text"), s = ""; return (e = t.settings.image) ? (r = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "", o && (t.classes.add("btn-has-text"), s = '<span class="' + i + 'txt">' + t.encode(o) + "</span>"), r = t.settings.icon ? i + "ico " + i + "i-" + r : "", t.aria("role", t.parent() instanceof kr ? "menuitem" : "button"), '<div id="' + n + '" class="' + t.classes + '" tabindex="-1" aria-labelledby="' + n + '"><button id="' + n + '-open" role="presentation" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + e + "></i>" : "") + s + ' <i class="' + i + 'caret"></i></button></div>' }, postRender: function () { var e = this; return e.on("click", function (t) { t.control === e && function (e, t) { for (; e;) { if (t === e) return !0; e = e.parentNode } return !1 }(t.target, e.getEl()) && (e.focus(), e.showMenu(!t.aria), t.aria && e.menu.items().filter(":visible")[0].focus()) }), e.on("mouseenter", function (t) { var n, i = t.control, r = e.parent(); i && r && i instanceof Er && i.parent() === r && (r.items().filter("MenuButton").each(function (e) { e.hideMenu && e !== i && (e.menu && e.menu.visible() && (n = !0), e.hideMenu()) }), n && (i.focus(), i.showMenu())) }), e._super() }, bindStates: function () { var e = this; return e.state.on("change:menu", function () { e.menu && e.menu.remove(), e.menu = null }), e._super() }, remove: function () { this._super(), this.menu && this.menu.remove() } }), Hr = kt.extend({ Defaults: { defaultType: "menuitem", border: 1, layout: "stack", role: "application", bodyRole: "menu", ariaRoot: !0 }, init: function (e) { if (e.autohide = !0, e.constrainToViewport = !0, "function" == typeof e.items && (e.itemsFactory = e.items, e.items = []), e.itemDefaults) for (var t = e.items, n = t.length; n--;)t[n] = a.extend({}, e.itemDefaults, t[n]); this._super(e), this.classes.add("menu"), e.animate && 11 !== de.ie && this.classes.add("animate") }, repaint: function () { return this.classes.toggle("menu-align", !0), this._super(), this.getEl().style.height = "", this.getEl("body").style.height = "", this }, cancel: function () { this.hideAll(), this.fire("select") }, load: function () { var e, t = this; function n() { t.throbber && (t.throbber.hide(), t.throbber = null) } t.settings.itemsFactory && (t.throbber || (t.throbber = new Mt(t.getEl("body"), !0), 0 === t.items().length ? (t.throbber.show(), t.fire("loading")) : t.throbber.show(100, function () { t.items().remove(), t.fire("loading") }), t.on("hide close", n)), t.requestTime = e = (new Date).getTime(), t.settings.itemsFactory(function (i) { 0 !== i.length ? t.requestTime === e && (t.getEl().style.width = "", t.getEl("body").style.width = "", n(), t.items().remove(), t.getEl("body").innerHTML = "", t.add(i), t.renderNew(), t.fire("loaded")) : t.hide() })) }, hideAll: function () { return this.find("menuitem").exec("hideMenu"), this._super() }, preRender: function () { var e = this; return e.items().each(function (t) { var n = t.settings; if (n.icon || n.image || n.selectable) return e._hasIcons = !0, !1 }), e.settings.itemsFactory && e.on("postrender", function () { e.settings.itemsFactory && e.load() }), e.on("show hide", function (t) { t.control === e && ("show" === t.type ? R.setTimeout(function () { e.classes.add("in") }, 0) : e.classes.remove("in")) }), e._super() } }), Sr = Er.extend({ init: function (e) { var t, n, i, r, o = this; o._super(e), e = o.settings, o._values = t = e.values, t && ("undefined" != typeof e.value && function s(t) { for (var r = 0; r < t.length; r++) { if (n = t[r].selected || e.value === t[r].value) return i = i || t[r].text, o.state.set("value", t[r].value), !0; if (t[r].menu && s(t[r].menu)) return !0 } }(t), !n && t.length > 0 && (i = t[0].text, o.state.set("value", t[0].value)), o.state.set("menu", t)), o.state.set("text", e.text || i), o.classes.add("listbox"), o.on("select", function (t) { var n = t.control; r && (t.lastControl = r), e.multiple ? n.active(!n.active()) : o.value(t.control.value()), r = n }) }, bindStates: function () { var e = this; return e.on("show", function (t) { var n, i; n = t.control, i = e.value(), n instanceof Hr && n.items().each(function (e) { e.hasMenus() || e.active(e.value() === i) }) }), e.state.on("change:value", function (t) { var n = function i(e, t) { var n; if (e) for (var r = 0; r < e.length; r++) { if (e[r].value === t) return e[r]; if (e[r].menu && (n = i(e[r].menu, t))) return n } }(e.state.get("menu"), t.value); n ? e.text(n.text) : e.text(e.settings.text) }), e._super() } }), Mr = Dt.extend({ Defaults: { border: 0, role: "menuitem" }, init: function (e) { var t, n = this; n._super(e), e = n.settings, n.classes.add("menu-item"), e.menu && n.classes.add("menu-item-expand"), e.preview && n.classes.add("menu-item-preview"), "-" !== (t = n.state.get("text")) && "|" !== t || (n.classes.add("menu-item-sep"), n.aria("role", "separator"), n.state.set("text", "-")), e.selectable && (n.aria("role", "menuitemcheckbox"), n.classes.add("menu-item-checkbox"), e.icon = "selected"), e.preview || e.selectable || n.classes.add("menu-item-normal"), n.on("mousedown", function (e) { e.preventDefault() }), e.menu && !e.ariaHideMenu && n.aria("haspopup", !0) }, hasMenus: function () { return !!this.settings.menu }, showMenu: function () { var e, t = this, n = t.settings, i = t.parent(); if (i.items().each(function (e) { e !== t && e.hideMenu() }), n.menu) { (e = t.menu) ? e.show() : ((e = n.menu).length ? e = { type: "menu", items: e } : e.type = e.type || "menu", i.settings.itemDefaults && (e.itemDefaults = i.settings.itemDefaults), (e = t.menu = g.create(e).parent(t).renderTo()).reflow(), e.on("cancel", function (n) { n.stopPropagation(), t.focus(), e.hide() }), e.on("show hide", function (e) { e.control.items && e.control.items().each(function (e) { e.active(e.settings.selected) }) }).fire("show"), e.on("hide", function (n) { n.control === e && t.classes.remove("selected") }), e.submenu = !0), e._parentMenu = i, e.classes.add("menu-sub"); var r = e.testMoveRel(t.getEl(), t.isRtl() ? ["tl-tr", "bl-br", "tr-tl", "br-bl"] : ["tr-tl", "br-bl", "tl-tr", "bl-br"]); e.moveRel(t.getEl(), r), e.rel = r, r = "menu-sub-" + r, e.classes.remove(e._lastRel).add(r), e._lastRel = r, t.classes.add("selected"), t.aria("expanded", !0) } }, hideMenu: function () { var e = this; return e.menu && (e.menu.items().each(function (e) { e.hideMenu && e.hideMenu() }), e.menu.hide(), e.aria("expanded", !1)), e }, renderHtml: function () { var e, t = this, n = t._id, i = t.settings, r = t.classPrefix, o = t.state.get("text"), s = t.settings.icon, a = "", l = i.shortcut, u = t.encode(i.url); function c(e) { return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") } function d(e) { var t = i.match || ""; return t ? e.replace(new RegExp(c(t), "gi"), function (e) { return "!mce~match[" + e + "]mce~match!" }) : e } function f(e) { return e.replace(new RegExp(c("!mce~match["), "g"), "<b>").replace(new RegExp(c("]mce~match!"), "g"), "</b>") } return s && t.parent().classes.add("menu-has-icons"), i.image && (a = " style=\"background-image: url('" + i.image + "')\""), l && (l = function (e) { var t, n, i = {}; for (i = de.mac ? { alt: "&#x2325;", ctrl: "&#x2318;", shift: "&#x21E7;", meta: "&#x2318;" } : { meta: "Ctrl" }, e = e.split("+"), t = 0; t < e.length; t++)(n = i[e[t].toLowerCase()]) && (e[t] = n); return e.join("+") }(l)), s = r + "ico " + r + "i-" + (t.settings.icon || "none"), e = "-" !== o ? '<i class="' + s + '"' + a + "></i>\xa0" : "", o = f(t.encode(d(o))), u = f(t.encode(d(u))), '<div id="' + n + '" class="' + t.classes + '" tabindex="-1">' + e + ("-" !== o ? '<span id="' + n + '-text" class="' + r + 'text">' + o + "</span>" : "") + (l ? '<div id="' + n + '-shortcut" class="' + r + 'menu-shortcut">' + l + "</div>" : "") + (i.menu ? '<div class="' + r + 'caret"></div>' : "") + (u ? '<div class="' + r + 'menu-item-link">' + u + "</div>" : "") + "</div>" }, postRender: function () { var e = this, t = e.settings, n = t.textStyle; if ("function" == typeof n && (n = n.call(this)), n) { var i = e.getEl("text"); i && (i.setAttribute("style", n), e._textStyle = n) } return e.on("mouseenter click", function (n) { n.control === e && (t.menu || "click" !== n.type ? (e.showMenu(), n.aria && e.menu.focus(!0)) : (e.fire("select"), R.requestAnimationFrame(function () { e.parent().hideAll() }))) }), e._super(), e }, hover: function () { return this.parent().items().each(function (e) { e.classes.remove("selected") }), this.classes.toggle("selected", !0), this }, active: function (e) { return function (e, t) { var n = e._textStyle; if (n) { var i = e.getEl("text"); i.setAttribute("style", n), t && (i.style.color = "", i.style.backgroundColor = "") } }(this, e), void 0 !== e && this.aria("checked", e), this._super(e) }, remove: function () { this._super(), this.menu && this.menu.remove() } }), Tr = Kt.extend({ Defaults: { classes: "radio", role: "radio" } }), Pr = Dt.extend({ renderHtml: function () { var e = this, t = e.classPrefix; return e.classes.add("resizehandle"), "both" === e.settings.direction && e.classes.add("resizehandle-both"), e.canFocus = !1, '<div id="' + e._id + '" class="' + e.classes + '"><i class="' + t + "ico " + t + 'i-resize"></i></div>' }, postRender: function () { var e = this; e._super(), e.resizeDragHelper = new dt(this._id, { start: function () { e.fire("ResizeStart") }, drag: function (t) { "both" !== e.settings.direction && (t.deltaX = 0), e.fire("Resize", t) }, stop: function () { e.fire("ResizeEnd") } }) }, remove: function () { return this.resizeDragHelper && this.resizeDragHelper.destroy(), this._super() } }); function Wr(e) { var t = ""; if (e) for (var n = 0; n < e.length; n++)t += '<option value="' + e[n] + '">' + e[n] + "</option>"; return t } var Dr = Dt.extend({ Defaults: { classes: "selectbox", role: "selectbox", options: [] }, init: function (e) { var t = this; t._super(e), t.settings.size && (t.size = t.settings.size), t.settings.options && (t._options = t.settings.options), t.on("keydown", function (e) { var n; 13 === e.keyCode && (e.preventDefault(), t.parents().reverse().each(function (e) { if (e.toJSON) return n = e, !1 }), t.fire("submit", { data: n.toJSON() })) }) }, options: function (e) { return arguments.length ? (this.state.set("options", e), this) : this.state.get("options") }, renderHtml: function () { var e, t = this, n = ""; return e = Wr(t._options), t.size && (n = ' size = "' + t.size + '"'), '<select id="' + t._id + '" class="' + t.classes + '"' + n + ">" + e + "</select>" }, bindStates: function () { var e = this; return e.state.on("change:options", function (t) { e.getEl().innerHTML = Wr(t.value) }), e._super() } }); function Nr(e, t, n) { return e < t && (e = t), e > n && (e = n), e } function Ar(e, t, n) { e.setAttribute("aria-" + t, n) } function Br(e, t) { var n, i, r, o, s; "v" === e.settings.orientation ? (r = "top", i = "height", n = "h") : (r = "left", i = "width", n = "w"), s = e.getEl("handle"), o = ((e.layoutRect()[n] || 100) - _e.getSize(s)[i]) * ((t - e._minValue) / (e._maxValue - e._minValue)) + "px", s.style[r] = o, s.style.height = e.layoutRect().h + "px", Ar(s, "valuenow", t), Ar(s, "valuetext", "" + e.settings.previewFilter(t)), Ar(s, "valuemin", e._minValue), Ar(s, "valuemax", e._maxValue) } var Or = Dt.extend({ init: function (e) { var t = this; e.previewFilter || (e.previewFilter = function (e) { return Math.round(100 * e) / 100 }), t._super(e), t.classes.add("slider"), "v" === e.orientation && t.classes.add("vertical"), t._minValue = Pn.isNumber(e.minValue) ? e.minValue : 0, t._maxValue = Pn.isNumber(e.maxValue) ? e.maxValue : 100, t._initValue = t.state.get("value") }, renderHtml: function () { var e = this._id, t = this.classPrefix; return '<div id="' + e + '" class="' + this.classes + '"><div id="' + e + '-handle" class="' + t + 'slider-handle" role="slider" tabindex="-1"></div></div>' }, reset: function () { this.value(this._initValue).repaint() }, postRender: function () { var e, t, n, i, r, o, s, a, l, u, c, d, f, h, m = this; e = m._minValue, t = m._maxValue, "v" === m.settings.orientation ? (n = "screenY", i = "top", r = "height", o = "h") : (n = "screenX", i = "left", r = "width", o = "w"), m._super(), function (e, t) { function n(n) { var i, r, o; i = Nr(i = (((i = m.value()) + (o = e)) / (t - o) + .05 * n) * (t - (r = e)) - r, e, t), m.value(i), m.fire("dragstart", { value: i }), m.fire("drag", { value: i }), m.fire("dragend", { value: i }) } m.on("keydown", function (e) { switch (e.keyCode) { case 37: case 38: n(-1); break; case 39: case 40: n(1) } }) }(e, t), s = e, a = t, l = m.getEl("handle"), m._dragHelper = new dt(m._id, { handle: m._id + "-handle", start: function (e) { u = e[n], c = parseInt(m.getEl("handle").style[i], 10), d = (m.layoutRect()[o] || 100) - _e.getSize(l)[r], m.fire("dragstart", { value: h }) }, drag: function (e) { var t = e[n] - u; f = Nr(c + t, 0, d), l.style[i] = f + "px", h = s + f / d * (a - s), m.value(h), m.tooltip().text("" + m.settings.previewFilter(h)).show().moveRel(l, "bc tc"), m.fire("drag", { value: h }) }, stop: function () { m.tooltip().hide(), m.fire("dragend", { value: h }) } }) }, repaint: function () { this._super(), Br(this, this.value()) }, bindStates: function () { var e = this; return e.state.on("change:value", function (t) { Br(e, t.value) }), e._super() } }), zr = Dt.extend({ renderHtml: function () { return this.classes.add("spacer"), this.canFocus = !1, '<div id="' + this._id + '" class="' + this.classes + '"></div>' } }), Lr = Er.extend({ Defaults: { classes: "widget btn splitbtn", role: "button" }, repaint: function () { var e, t, n = this.getEl(), i = this.layoutRect(); return this._super(), e = n.firstChild, t = n.lastChild, xe(e).css({ width: i.w - _e.getSize(t).width, height: i.h - 2 }), xe(t).css({ height: i.h - 2 }), this }, activeMenu: function (e) { xe(this.getEl().lastChild).toggleClass(this.classPrefix + "active", e) }, renderHtml: function () { var e, t, n = this, i = n._id, r = n.classPrefix, o = n.state.get("icon"), s = n.state.get("text"), a = n.settings, l = ""; return (e = a.image) ? (o = "none", "string" != typeof e && (e = window.getSelection ? e[0] : e[1]), e = " style=\"background-image: url('" + e + "')\"") : e = "", o = a.icon ? r + "ico " + r + "i-" + o : "", s && (n.classes.add("btn-has-text"), l = '<span class="' + r + 'txt">' + n.encode(s) + "</span>"), t = "boolean" == typeof a.active ? ' aria-pressed="' + a.active + '"' : "", '<div id="' + i + '" class="' + n.classes + '" role="button"' + t + ' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">' + (o ? '<i class="' + o + '"' + e + "></i>" : "") + l + '</button><button type="button" class="' + r + 'open" hidefocus="1" tabindex="-1">' + (n._menuBtnText ? (o ? "\xa0" : "") + n._menuBtnText : "") + ' <i class="' + r + 'caret"></i></button></div>' }, postRender: function () { var e = this.settings.onclick; return this.on("click", function (t) { var n = t.target; if (t.control === this) for (; n;) { if (t.aria && "down" !== t.aria.key || "BUTTON" === n.nodeName && -1 === n.className.indexOf("open")) return t.stopImmediatePropagation(), void (e && e.call(this, t)); n = n.parentNode } }), delete this.settings.onclick, this._super() } }), Ir = ji.extend({ Defaults: { containerClass: "stack-layout", controlClass: "stack-layout-item", endClass: "break" }, isNative: function () { return !0 } }), Fr = vt.extend({ Defaults: { layout: "absolute", defaults: { type: "panel" } }, activateTab: function (e) { var t; this.activeTabId && (t = this.getEl(this.activeTabId), xe(t).removeClass(this.classPrefix + "active"), t.setAttribute("aria-selected", "false")), this.activeTabId = "t" + e, (t = this.getEl("t" + e)).setAttribute("aria-selected", "true"), xe(t).addClass(this.classPrefix + "active"), this.items()[e].show().fire("showtab"), this.reflow(), this.items().each(function (t, n) { e !== n && t.hide() }) }, renderHtml: function () { var e = this, t = e._layout, n = "", i = e.classPrefix; return e.preRender(), t.preRender(e), e.items().each(function (t, r) { var o = e._id + "-t" + r; t.aria("role", "tabpanel"), t.aria("labelledby", o), n += '<div id="' + o + '" class="' + i + 'tab" unselectable="on" role="tab" aria-controls="' + t._id + '" aria-selected="false" tabIndex="-1">' + e.encode(t.settings.title) + "</div>" }), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1"><div id="' + e._id + '-head" class="' + i + 'tabs" role="tablist">' + n + '</div><div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + t.renderHtml(e) + "</div></div>" }, postRender: function () { var e = this; e._super(), e.settings.activeTab = e.settings.activeTab || 0, e.activateTab(e.settings.activeTab), this.on("click", function (t) { var n = t.target.parentNode; if (n && n.id === e._id + "-head") for (var i = n.childNodes.length; i--;)n.childNodes[i] === t.target && e.activateTab(i) }) }, initLayoutRect: function () { var e, t, n, i = this; t = (t = _e.getSize(i.getEl("head")).width) < 0 ? 0 : t, n = 0, i.items().each(function (e) { t = Math.max(t, e.layoutRect().minW), n = Math.max(n, e.layoutRect().minH) }), i.items().each(function (e) { e.settings.x = 0, e.settings.y = 0, e.settings.w = t, e.settings.h = n, e.layoutRect({ x: 0, y: 0, w: t, h: n }) }); var r = _e.getSize(i.getEl("head")).height; return i.settings.minWidth = t, i.settings.minHeight = n + r, (e = i._super()).deltaH += r, e.innerH = e.h - e.deltaH, e } }), Ur = Dt.extend({ init: function (e) { var t = this; t._super(e), t.classes.add("textbox"), e.multiline ? t.classes.add("multiline") : (t.on("keydown", function (e) { var n; 13 === e.keyCode && (e.preventDefault(), t.parents().reverse().each(function (e) { if (e.toJSON) return n = e, !1 }), t.fire("submit", { data: n.toJSON() })) }), t.on("keyup", function (e) { t.state.set("value", e.target.value) })) }, repaint: function () { var e, t, n, i, r, o = this, s = 0; e = o.getEl().style, t = o._layoutRect, r = o._lastRepaintRect || {}; var a = document; return !o.settings.multiline && a.all && (!a.documentMode || a.documentMode <= 8) && (e.lineHeight = t.h - s + "px"), i = (n = o.borderBox).left + n.right + 8, s = n.top + n.bottom + (o.settings.multiline ? 8 : 0), t.x !== r.x && (e.left = t.x + "px", r.x = t.x), t.y !== r.y && (e.top = t.y + "px", r.y = t.y), t.w !== r.w && (e.width = t.w - i + "px", r.w = t.w), t.h !== r.h && (e.height = t.h - s + "px", r.h = t.h), o._lastRepaintRect = r, o.fire("repaint", {}, !1), o }, renderHtml: function () { var e, t, n = this, i = n.settings; return e = { id: n._id, hidefocus: "1" }, a.each(["rows", "spellcheck", "maxLength", "size", "readonly", "min", "max", "step", "list", "pattern", "placeholder", "required", "multiple"], function (t) { e[t] = i[t] }), n.disabled() && (e.disabled = "disabled"), i.subtype && (e.type = i.subtype), (t = _e.create(i.multiline ? "textarea" : "input", e)).value = n.state.get("value"), t.className = n.classes, t.outerHTML }, value: function (e) { return arguments.length ? (this.state.set("value", e), this) : (this.state.get("rendered") && this.state.set("value", this.getEl().value), this.state.get("value")) }, postRender: function () { var e = this; e.getEl().value = e.state.get("value"), e._super(), e.$el.on("change", function (t) { e.state.set("value", t.target.value), e.fire("change", t) }) }, bindStates: function () { var e = this; return e.state.on("change:value", function (t) { e.getEl().value !== t.value && (e.getEl().value = t.value) }), e.state.on("change:disabled", function (t) { e.getEl().disabled = t.value }), e._super() }, remove: function () { this.$el.off(), this._super() } }), Vr = function () { return { Selector: Fe, Collection: je, ReflowQueue: Ze, Control: ot, Factory: g, KeyboardNavigation: at, Container: ut, DragHelper: dt, Scrollable: pt, Panel: vt, Movable: Se, Resizable: bt, FloatPanel: kt, Window: Ut, MessageBox: jt, Tooltip: Wt, Widget: Dt, Progress: Nt, Notification: Bt, Layout: qt, AbsoluteLayout: $t, Button: Xt, ButtonGroup: Gt, Checkbox: Kt, ComboBox: Qt, ColorBox: en, PanelButton: tn, ColorButton: rn, ColorPicker: sn, Path: ln, ElementPath: un, FormItem: cn, Form: dn, FieldSet: fn, FilePicker: Fi, FitLayout: Ui, FlexLayout: Vi, FlowLayout: ji, FormatControls: yr, GridLayout: xr, Iframe: wr, InfoBox: _r, Label: Rr, Toolbar: Cr, MenuBar: kr, MenuButton: Er, MenuItem: Mr, Throbber: Mt, Menu: Hr, ListBox: Sr, Radio: Tr, ResizeHandle: Pr, SelectBox: Dr, Slider: Or, Spacer: zr, SplitButton: Lr, StackLayout: Ir, TabPanel: Fr, TextBox: Ur, DropZone: an, BrowseButton: Jt } }, jr = function (e) { e.ui ? a.each(Vr(), function (t, n) { e.ui[n] = t }) : e.ui = Vr() }; a.each(Vr(), function (e, t) { g.add(t, e) }), jr(window.tinymce ? window.tinymce : {}), o.add("modern", function (e) { return yr.setup(e), Yt(e) }) }();

/*
 *  webui popover plugin  - v1.2.17
 *  A lightWeight popover plugin with jquery ,enchance the  popover plugin of bootstrap with some awesome new features. It works well with bootstrap ,but bootstrap is not necessary!
 *  https://github.com/sandywalker/webui-popover
 *
 *  Made by Sandy Duan
 *  Under MIT License
 */
!function (a, b, c) { "use strict"; !function (b) { "function" == typeof define && define.amd ? define(["jquery"], b) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(a.jQuery) }(function (d) { function e(a, b) { return this.$element = d(a), b && ("string" === d.type(b.delay) || "number" === d.type(b.delay)) && (b.delay = { show: b.delay, hide: b.delay }), this.options = d.extend({}, i, b), this._defaults = i, this._name = f, this._targetclick = !1, this.init(), k.push(this.$element), this } var f = "webuiPopover", g = "webui-popover", h = "webui.popover", i = { placement: "auto", container: null, width: "auto", height: "auto", trigger: "click", style: "", selector: !1, delay: { show: null, hide: 300 }, async: { type: "GET", before: null, success: null, error: null }, cache: !0, multi: !1, arrow: !0, title: "", content: "", closeable: !1, padding: !0, url: "", type: "html", direction: "", animation: null, template: '<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>', backdrop: !1, dismissible: !0, onShow: null, onHide: null, abortXHR: !0, autoHide: !1, offsetTop: 0, offsetLeft: 0, iframeOptions: { frameborder: "0", allowtransparency: "true", id: "", name: "", scrolling: "", onload: "", height: "", width: "" }, hideEmpty: !1 }, j = g + "-rtl", k = [], l = d('<div class="webui-popover-backdrop"></div>'), m = 0, n = !1, o = -2e3, p = d(b), q = function (a, b) { return isNaN(a) ? b || 0 : Number(a) }, r = function (a) { return a.data("plugin_" + f) }, s = function () { for (var a = null, b = 0; b < k.length; b++)a = r(k[b]), a && a.hide(!0); p.trigger("hiddenAll." + h) }, t = function (a) { for (var b = null, c = 0; c < k.length; c++)b = r(k[c]), b && b.id !== a.id && b.hide(!0); p.trigger("hiddenAll." + h) }, u = "ontouchstart" in b.documentElement && /Mobi/.test(navigator.userAgent), v = function (a) { var b = { x: 0, y: 0 }; if ("touchstart" === a.type || "touchmove" === a.type || "touchend" === a.type || "touchcancel" === a.type) { var c = a.originalEvent.touches[0] || a.originalEvent.changedTouches[0]; b.x = c.pageX, b.y = c.pageY } else ("mousedown" === a.type || "mouseup" === a.type || "click" === a.type) && (b.x = a.pageX, b.y = a.pageY); return b }; e.prototype = { init: function () { if (this.$element[0] instanceof b.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!"); "manual" !== this.getTrigger() && (u ? this.$element.off("touchend", this.options.selector).on("touchend", this.options.selector, d.proxy(this.toggle, this)) : "click" === this.getTrigger() ? this.$element.off("click", this.options.selector).on("click", this.options.selector, d.proxy(this.toggle, this)) : "hover" === this.getTrigger() && this.$element.off("mouseenter mouseleave click", this.options.selector).on("mouseenter", this.options.selector, d.proxy(this.mouseenterHandler, this)).on("mouseleave", this.options.selector, d.proxy(this.mouseleaveHandler, this))), this._poped = !1, this._inited = !0, this._opened = !1, this._idSeed = m, this.id = f + this._idSeed, this.options.container = d(this.options.container || b.body).first(), this.options.backdrop && l.appendTo(this.options.container).hide(), m++, "sticky" === this.getTrigger() && this.show(), this.options.selector && (this._options = d.extend({}, this.options, { selector: "" })) }, destroy: function () { for (var a = -1, b = 0; b < k.length; b++)if (k[b] === this.$element) { a = b; break } k.splice(a, 1), this.hide(), this.$element.data("plugin_" + f, null), "click" === this.getTrigger() ? this.$element.off("click") : "hover" === this.getTrigger() && this.$element.off("mouseenter mouseleave"), this.$target && this.$target.remove() }, getDelegateOptions: function () { var a = {}; return this._options && d.each(this._options, function (b, c) { i[b] !== c && (a[b] = c) }), a }, hide: function (a, b) { if ((a || "sticky" !== this.getTrigger()) && this._opened) { b && (b.preventDefault(), b.stopPropagation()), this.xhr && this.options.abortXHR === !0 && (this.xhr.abort(), this.xhr = null); var c = d.Event("hide." + h); if (this.$element.trigger(c, [this.$target]), this.$target) { this.$target.removeClass("in").addClass(this.getHideAnimation()); var e = this; setTimeout(function () { e.$target.hide(), e.getCache() || e.$target.remove() }, e.getHideDelay()) } this.options.backdrop && l.hide(), this._opened = !1, this.$element.trigger("hidden." + h, [this.$target]), this.options.onHide && this.options.onHide(this.$target) } }, resetAutoHide: function () { var a = this, b = a.getAutoHide(); b && (a.autoHideHandler && clearTimeout(a.autoHideHandler), a.autoHideHandler = setTimeout(function () { a.hide() }, b)) }, delegate: function (a) { var b = d(a).data("plugin_" + f); return b || (b = new e(a, this.getDelegateOptions()), d(a).data("plugin_" + f, b)), b }, toggle: function (a) { var b = this; a && (a.preventDefault(), a.stopPropagation(), this.options.selector && (b = this.delegate(a.currentTarget))), b[b.getTarget().hasClass("in") ? "hide" : "show"]() }, hideAll: function () { s() }, hideOthers: function () { t(this) }, show: function () { if (!this._opened) { var a = this.getTarget().removeClass().addClass(g).addClass(this._customTargetClass); if (this.options.multi || this.hideOthers(), !this.getCache() || !this._poped || "" === this.content) { if (this.content = "", this.setTitle(this.getTitle()), this.options.closeable || a.find(".close").off("click").remove(), this.isAsync() ? this.setContentASync(this.options.content) : this.setContent(this.getContent()), this.canEmptyHide() && "" === this.content) return; a.show() } this.displayContent(), this.options.onShow && this.options.onShow(a), this.bindBodyEvents(), this.options.backdrop && l.show(), this._opened = !0, this.resetAutoHide() } }, displayContent: function () { var a = this.getElementPosition(), b = this.getTarget().removeClass().addClass(g).addClass(this._customTargetClass), c = this.getContentElement(), e = b[0].offsetWidth, f = b[0].offsetHeight, i = "bottom", k = d.Event("show." + h); if (this.canEmptyHide()) { var l = c.children().html(); if (null !== l && 0 === l.trim().length) return } this.$element.trigger(k, [b]); var m = this.$element.data("width") || this.options.width; "" === m && (m = this._defaults.width), "auto" !== m && b.width(m); var n = this.$element.data("height") || this.options.height; "" === n && (n = this._defaults.height), "auto" !== n && c.height(n), this.options.style && this.$target.addClass(g + "-" + this.options.style), "rtl" !== this.options.direction || c.hasClass(j) || c.addClass(j), this.options.arrow || b.find(".webui-arrow").remove(), b.detach().css({ top: o, left: o, display: "block" }), this.getAnimation() && b.addClass(this.getAnimation()), b.appendTo(this.options.container), i = this.getPlacement(a), this.$element.trigger("added." + h), this.initTargetEvents(), this.options.padding || ("auto" !== this.options.height && c.css("height", c.outerHeight()), this.$target.addClass("webui-no-padding")), this.options.maxHeight && c.css("maxHeight", this.options.maxHeight), this.options.maxWidth && c.css("maxWidth", this.options.maxWidth), e = b[0].offsetWidth, f = b[0].offsetHeight; var p = this.getTargetPositin(a, i, e, f); if (this.$target.css(p.position).addClass(i).addClass("in"), "iframe" === this.options.type) { var q = b.find("iframe"), r = b.width(), s = q.parent().height(); "" !== this.options.iframeOptions.width && "auto" !== this.options.iframeOptions.width && (r = this.options.iframeOptions.width), "" !== this.options.iframeOptions.height && "auto" !== this.options.iframeOptions.height && (s = this.options.iframeOptions.height), q.width(r).height(s) } if (this.options.arrow || this.$target.css({ margin: 0 }), this.options.arrow) { var t = this.$target.find(".webui-arrow"); t.removeAttr("style"), "left" === i || "right" === i ? t.css({ top: this.$target.height() / 2 }) : ("top" === i || "bottom" === i) && t.css({ left: this.$target.width() / 2 }), p.arrowOffset && (-1 === p.arrowOffset.left || -1 === p.arrowOffset.top ? t.hide() : t.css(p.arrowOffset)) } this._poped = !0, this.$element.trigger("shown." + h, [this.$target]) }, isTargetLoaded: function () { return 0 === this.getTarget().find("i.glyphicon-refresh").length }, getTriggerElement: function () { return this.$element }, getTarget: function () { if (!this.$target) { var a = f + this._idSeed; this.$target = d(this.options.template).attr("id", a), this._customTargetClass = this.$target.attr("class") !== g ? this.$target.attr("class") : null, this.getTriggerElement().attr("data-target", a) } return this.$target.data("trigger-element") || this.$target.data("trigger-element", this.getTriggerElement()), this.$target }, removeTarget: function () { this.$target.remove(), this.$target = null, this.$contentElement = null }, getTitleElement: function () { return this.getTarget().find("." + g + "-title") }, getContentElement: function () { return this.$contentElement || (this.$contentElement = this.getTarget().find("." + g + "-content")), this.$contentElement }, getTitle: function () { return this.$element.attr("data-title") || this.options.title || this.$element.attr("title") }, getUrl: function () { return this.$element.attr("data-url") || this.options.url }, getAutoHide: function () { return this.$element.attr("data-auto-hide") || this.options.autoHide }, getOffsetTop: function () { return q(this.$element.attr("data-offset-top")) || this.options.offsetTop }, getOffsetLeft: function () { return q(this.$element.attr("data-offset-left")) || this.options.offsetLeft }, getCache: function () { var a = this.$element.attr("data-cache"); if ("undefined" != typeof a) switch (a.toLowerCase()) { case "true": case "yes": case "1": return !0; case "false": case "no": case "0": return !1 }return this.options.cache }, getTrigger: function () { return this.$element.attr("data-trigger") || this.options.trigger }, getDelayShow: function () { var a = this.$element.attr("data-delay-show"); return "undefined" != typeof a ? a : 0 === this.options.delay.show ? 0 : this.options.delay.show || 100 }, getHideDelay: function () { var a = this.$element.attr("data-delay-hide"); return "undefined" != typeof a ? a : 0 === this.options.delay.hide ? 0 : this.options.delay.hide || 100 }, getAnimation: function () { var a = this.$element.attr("data-animation"); return a || this.options.animation }, getHideAnimation: function () { var a = this.getAnimation(); return a ? a + "-out" : "out" }, setTitle: function (a) { var b = this.getTitleElement(); a ? ("rtl" !== this.options.direction || b.hasClass(j) || b.addClass(j), b.html(a)) : b.remove() }, hasContent: function () { return this.getContent() }, canEmptyHide: function () { return this.options.hideEmpty && "html" === this.options.type }, getIframe: function () { var a = d("<iframe></iframe>").attr("src", this.getUrl()), b = this; return d.each(this._defaults.iframeOptions, function (c) { "undefined" != typeof b.options.iframeOptions[c] && a.attr(c, b.options.iframeOptions[c]) }), a }, getContent: function () { if (this.getUrl()) switch (this.options.type) { case "iframe": this.content = this.getIframe(); break; case "html": try { this.content = d(this.getUrl()), this.content.is(":visible") || this.content.show() } catch (a) { throw new Error("Unable to get popover content. Invalid selector specified.") } } else if (!this.content) { var b = ""; if (b = d.isFunction(this.options.content) ? this.options.content.apply(this.$element[0], [this]) : this.options.content, this.content = this.$element.attr("data-content") || b, !this.content) { var c = this.$element.next(); c && c.hasClass(g + "-content") && (this.content = c) } } return this.content }, setContent: function (a) { var b = this.getTarget(), c = this.getContentElement(); "string" == typeof a ? c.html(a) : a instanceof d && (c.html(""), this.options.cache ? a.removeClass(g + "-content").appendTo(c) : a.clone(!0, !0).removeClass(g + "-content").appendTo(c)), this.$target = b }, isAsync: function () { return "async" === this.options.type }, setContentASync: function (a) { var b = this; this.xhr || (this.xhr = d.ajax({ url: this.getUrl(), type: this.options.async.type, cache: this.getCache(), beforeSend: function (a, c) { b.options.async.before && b.options.async.before(b, a, c) }, success: function (c) { b.bindBodyEvents(), a && d.isFunction(a) ? b.content = a.apply(b.$element[0], [c]) : b.content = c, b.setContent(b.content); var e = b.getContentElement(); e.removeAttr("style"), b.displayContent(), b.options.async.success && b.options.async.success(b, c) }, complete: function () { b.xhr = null }, error: function (a, c) { b.options.async.error && b.options.async.error(b, a, c) } })) }, bindBodyEvents: function () { n || (this.options.dismissible && "click" === this.getTrigger() ? u ? p.off("touchstart.webui-popover").on("touchstart.webui-popover", d.proxy(this.bodyTouchStartHandler, this)) : (p.off("keyup.webui-popover").on("keyup.webui-popover", d.proxy(this.escapeHandler, this)), p.off("click.webui-popover").on("click.webui-popover", d.proxy(this.bodyClickHandler, this))) : "hover" === this.getTrigger() && p.off("touchend.webui-popover").on("touchend.webui-popover", d.proxy(this.bodyClickHandler, this))) }, mouseenterHandler: function (a) { var b = this; a && this.options.selector && (b = this.delegate(a.currentTarget)), b._timeout && clearTimeout(b._timeout), b._enterTimeout = setTimeout(function () { b.getTarget().is(":visible") || b.show() }, this.getDelayShow()) }, mouseleaveHandler: function () { var a = this; clearTimeout(a._enterTimeout), a._timeout = setTimeout(function () { a.hide() }, this.getHideDelay()) }, escapeHandler: function (a) { 27 === a.keyCode && this.hideAll() }, bodyTouchStartHandler: function (a) { var b = this, c = d(a.currentTarget); c.on("touchend", function (a) { b.bodyClickHandler(a), c.off("touchend") }), c.on("touchmove", function () { c.off("touchend") }) }, bodyClickHandler: function (a) { n = !0; for (var b = !0, c = 0; c < k.length; c++) { var d = r(k[c]); if (d && d._opened) { var e = d.getTarget().offset(), f = e.left, g = e.top, h = e.left + d.getTarget().width(), i = e.top + d.getTarget().height(), j = v(a), l = j.x >= f && j.x <= h && j.y >= g && j.y <= i; if (l) { b = !1; break } } } b && s() }, initTargetEvents: function () { "hover" === this.getTrigger() && this.$target.off("mouseenter mouseleave").on("mouseenter", d.proxy(this.mouseenterHandler, this)).on("mouseleave", d.proxy(this.mouseleaveHandler, this)), this.$target.find(".close").off("click").on("click", d.proxy(this.hide, this, !0)) }, getPlacement: function (a) { var b, c = this.options.container, d = c.innerWidth(), e = c.innerHeight(), f = c.scrollTop(), g = c.scrollLeft(), h = Math.max(0, a.left - g), i = Math.max(0, a.top - f); b = "function" == typeof this.options.placement ? this.options.placement.call(this, this.getTarget()[0], this.$element[0]) : this.$element.data("placement") || this.options.placement; var j = "horizontal" === b, k = "vertical" === b, l = "auto" === b || j || k; return l ? b = d / 3 > h ? e / 3 > i ? j ? "right-bottom" : "bottom-right" : 2 * e / 3 > i ? k ? e / 2 >= i ? "bottom-right" : "top-right" : "right" : j ? "right-top" : "top-right" : 2 * d / 3 > h ? e / 3 > i ? j ? d / 2 >= h ? "right-bottom" : "left-bottom" : "bottom" : 2 * e / 3 > i ? j ? d / 2 >= h ? "right" : "left" : e / 2 >= i ? "bottom" : "top" : j ? d / 2 >= h ? "right-top" : "left-top" : "top" : e / 3 > i ? j ? "left-bottom" : "bottom-left" : 2 * e / 3 > i ? k ? e / 2 >= i ? "bottom-left" : "top-left" : "left" : j ? "left-top" : "top-left" : "auto-top" === b ? b = d / 3 > h ? "top-right" : 2 * d / 3 > h ? "top" : "top-left" : "auto-bottom" === b ? b = d / 3 > h ? "bottom-right" : 2 * d / 3 > h ? "bottom" : "bottom-left" : "auto-left" === b ? b = e / 3 > i ? "left-top" : 2 * e / 3 > i ? "left" : "left-bottom" : "auto-right" === b && (b = e / 3 > i ? "right-bottom" : 2 * e / 3 > i ? "right" : "right-top"), b }, getElementPosition: function () { var a = this.$element[0].getBoundingClientRect(), c = this.options.container, e = c.css("position"); if (c.is(b.body) || "static" === e) return d.extend({}, this.$element.offset(), { width: this.$element[0].offsetWidth || a.width, height: this.$element[0].offsetHeight || a.height }); if ("fixed" === e) { var f = c[0].getBoundingClientRect(); return { top: a.top - f.top + c.scrollTop(), left: a.left - f.left + c.scrollLeft(), width: a.width, height: a.height } } return "relative" === e ? { top: this.$element.offset().top - c.offset().top, left: this.$element.offset().left - c.offset().left, width: this.$element[0].offsetWidth || a.width, height: this.$element[0].offsetHeight || a.height } : void 0 }, getTargetPositin: function (a, c, d, e) { var f = a, g = this.options.container, h = this.$element.outerWidth(), i = this.$element.outerHeight(), j = b.documentElement.scrollTop + g.scrollTop(), k = b.documentElement.scrollLeft + g.scrollLeft(), l = {}, m = null, n = this.options.arrow ? 20 : 0, p = 10, q = n + p > h ? n : 0, r = n + p > i ? n : 0, s = 0, t = b.documentElement.clientHeight + j, u = b.documentElement.clientWidth + k, v = f.left + f.width / 2 - q > 0, w = f.left + f.width / 2 + q < u, x = f.top + f.height / 2 - r > 0, y = f.top + f.height / 2 + r < t; switch (c) { case "bottom": l = { top: f.top + f.height, left: f.left + f.width / 2 - d / 2 }; break; case "top": l = { top: f.top - e, left: f.left + f.width / 2 - d / 2 }; break; case "left": l = { top: f.top + f.height / 2 - e / 2, left: f.left - d }; break; case "right": l = { top: f.top + f.height / 2 - e / 2, left: f.left + f.width }; break; case "top-right": l = { top: f.top - e, left: v ? f.left - q : p }, m = { left: v ? Math.min(h, d) / 2 + q : o }; break; case "top-left": s = w ? q : -p, l = { top: f.top - e, left: f.left - d + f.width + s }, m = { left: w ? d - Math.min(h, d) / 2 - q : o }; break; case "bottom-right": l = { top: f.top + f.height, left: v ? f.left - q : p }, m = { left: v ? Math.min(h, d) / 2 + q : o }; break; case "bottom-left": s = w ? q : -p, l = { top: f.top + f.height, left: f.left - d + f.width + s }, m = { left: w ? d - Math.min(h, d) / 2 - q : o }; break; case "right-top": s = y ? r : -p, l = { top: f.top - e + f.height + s, left: f.left + f.width }, m = { top: y ? e - Math.min(i, e) / 2 - r : o }; break; case "right-bottom": l = { top: x ? f.top - r : p, left: f.left + f.width }, m = { top: x ? Math.min(i, e) / 2 + r : o }; break; case "left-top": s = y ? r : -p, l = { top: f.top - e + f.height + s, left: f.left - d }, m = { top: y ? e - Math.min(i, e) / 2 - r : o }; break; case "left-bottom": l = { top: x ? f.top - r : p, left: f.left - d }, m = { top: x ? Math.min(i, e) / 2 + r : o } }return l.top += this.getOffsetTop(), l.left += this.getOffsetLeft(), { position: l, arrowOffset: m } } }, d.fn[f] = function (a, b) { var c = [], g = this.each(function () { var g = d.data(this, "plugin_" + f); g ? "destroy" === a ? g.destroy() : "string" == typeof a && c.push(g[a]()) : (a ? "string" == typeof a ? "destroy" !== a && (b || (g = new e(this, null), c.push(g[a]()))) : "object" == typeof a && (g = new e(this, a)) : g = new e(this, null), d.data(this, "plugin_" + f, g)) }); return c.length ? c : g }; var w = function () { var a = function () { s() }, b = function (a, b) { b = b || {}, d(a).webuiPopover(b) }, e = function (a) { var b = !0; return d(a).each(function (a, e) { b = b && d(e).data("plugin_" + f) !== c }), b }, g = function (a, b) { b ? d(a).webuiPopover(b).webuiPopover("show") : d(a).webuiPopover("show") }, h = function (a) { d(a).webuiPopover("hide") }, j = function (a) { i = d.extend({}, i, a) }, k = function (a, b) { var c = d(a).data("plugin_" + f); if (c) { var e = c.getCache(); c.options.cache = !1, c.options.content = b, c._opened ? (c._opened = !1, c.show()) : c.isAsync() ? c.setContentASync(b) : c.setContent(b), c.options.cache = e } }, l = function (a, b) { var c = d(a).data("plugin_" + f); if (c) { var e = c.getCache(), g = c.options.type; c.options.cache = !1, c.options.url = b, c._opened ? (c._opened = !1, c.show()) : (c.options.type = "async", c.setContentASync(c.content)), c.options.cache = e, c.options.type = g } }; return { show: g, hide: h, create: b, isCreated: e, hideAll: a, updateContent: k, updateContentAsync: l, setDefaultOptions: j } }(); a.WebuiPopovers = w }) }(window, document);


//multistep modal
sendEvent = function (step) {
    $('#EditRatingModal').trigger('next.m.' + step);
}

// mobile menu


moveElements();

function moveElements() {
    var desktop = checkWindowWidth(768);
    var signInBox = $('.sign-in-box');
    var userDMenu = $('li.user-dropdown-menu-item');
    var userdBox = $('.dropdown-user-info');

    if (desktop) {
        signInBox.detach();
        userDMenu.detach();
        userdBox.detach();

        signInBox.insertAfter('.signin-box-move-desktop-helper');
        $('ul.user-dropdown-menu').append(userDMenu);
        $('ul.user-dropdown-menu').prepend(userdBox);

    } else {
        signInBox.detach();
        userDMenu.detach();
        userdBox.detach();

        signInBox.insertBefore('.mobile-menu-helper-bottom');
        userDMenu.insertBefore('.mobile-menu-helper-bottom');
        userdBox.insertAfter('.mobile-menu-helper-top');
    }
}

function checkWindowWidth(MqL) {
    //check window width (scrollbar included)
    var e = window,
        a = 'inner';
    if (!('innerWidth' in window)) {
        a = 'client';
        e = document.documentElement || document.body;
    }
    if (e[a + 'Width'] >= MqL) {
        return true;
    } else {
        return false;
    }
}

function viewMore(element, visibility) {
    if (visibility == 'hide') {
        $(element).parent('.view-more-parent').addClass('expanded');
        $(element).remove();
    }
    else if ($(element).hasClass('view-more')) {
        $(element).parent('.view-more-parent').addClass('expanded has-hide');
        $(element).removeClass('view-more').addClass('view-less').html('- View Less');
    }
    else if ($(element).hasClass('view-less')) {
        $(element).parent('.view-more-parent').removeClass('expanded has-hide');
        $(element).removeClass('view-less').addClass('view-more').html('+ View More');
    }
}


$(window).on('resize', function () {
    moveElements();
});




var courseSidebar = $('.course-sidebar');
var footer = $('.footer-area');
var courseHeader = $('.course-header-area');
var margin = 10;

if ($('div').hasClass('course-sidebar')) {
    var offsetTop = courseSidebar.offset().top + (193 - margin);
}




$(window).on('scroll', function () {

    if (checkWindowWidth(1200)) {
        footer = $('.footer-area');
        var scrollTop = $(window).scrollTop();
        var offsetBottom = footer.offset().top - (margin * 2 + courseSidebar.height());
        if (scrollTop > offsetTop && courseSidebar.hasClass('natural')) {
            courseSidebar.removeClass('natural').addClass('fixed').css('top', margin);
            courseHeader.clone().addClass('duplicated').insertAfter(".course-header-area");
        }
        if (offsetTop > scrollTop && courseSidebar.hasClass('fixed')) {
            courseSidebar.removeClass('fixed').addClass('natural').css('top', 'auto');
            $(".course-header-area.duplicated").remove();
        }
        if (scrollTop > offsetBottom && courseSidebar.hasClass('fixed')) {
            courseSidebar.removeClass('fixed').addClass('bottom').css('top', (offsetBottom + margin) - 400);
        }
        if (offsetBottom > scrollTop && courseSidebar.hasClass('bottom')) {
            courseSidebar.removeClass('bottom').addClass('fixed').css('top', margin);
        }
    }

});



$(document).on('load', function () {




    //open search form
    $('.mobile-search-trigger').on('click', function (event) {
        event.preventDefault();
        toggleSearch();
    });

    //mobile - open lateral menu clicking on the menu icon
    $('.mobile-nav-trigger').on('click', function (event) {
        if (!checkWindowWidth(768)) event.preventDefault();
        $('.mobile-main-nav').addClass('nav-is-visible');
        toggleSearch('close');
        $('.mobile-overlay').addClass('is-visible');
    });

    //submenu items - go back link
    $('.go-back').on('click', function (event) {
        event.preventDefault();
        $(this).parent('ul').addClass('is-hidden').parent('.has-children').parent('ul').removeClass('moves-out');
    });
    $('.go-back-menu').on('click', function (event) {
        event.preventDefault();
        $(this).parent('ul').addClass('is-hidden').parent('.has-children').parent('ul').removeClass('moves-out').addClass('is-hidden').parent('.has-children').parent('ul').removeClass('moves-out');
    });

    //open submenu
    $('.has-children').children('a').on('click', function (event) {
        event.preventDefault();
        var selected = $(this);
        if (selected.next('ul').hasClass('is-hidden')) {
            //desktop version only
            selected.addClass('selected').next('ul').removeClass('is-hidden').end().parent('.has-children').parent('ul').addClass('moves-out');
            selected.parent('.has-children').siblings('.has-children').children('ul').addClass('is-hidden').end().children('a').removeClass('selected');
            $('.mobile-overlay').addClass('is-visible');
        } else {
            selected.removeClass('selected').next('ul').addClass('is-hidden').end().parent('.has-children').parent('ul').removeClass('moves-out');
            $('.mobile-overlay').removeClass('is-visible');
        }
        toggleSearch('close');
    });

    //close lateral menu on mobile
    $('.mobile-overlay').on('click', function () {
        closeNav();
        $('.mobile-overlay').removeClass('is-visible');
    });


    //prevent default clicking on direct children of .mobile-main-nav
    $('.mobile-main-nav').children('.has-children').children('a').on('click', function (event) {
        event.preventDefault();
    });

    function toggleSearch(type) {
        if (type == "close") {
            //close serach
            $('.mobile-search').removeClass('is-visible');
            $('.mobile-search-trigger').removeClass('search-is-visible');
        } else {
            //toggle search visibility
            $('.mobile-search').toggleClass('is-visible');
            $('.mobile-search-trigger').toggleClass('search-is-visible');
        }
    }

    function closeNav() {
        // $('.mobile-nav-trigger').removeClass('nav-is-visible');
        $('.mobile-main-nav').removeClass('nav-is-visible');
        setTimeout(function () { $('.has-children ul').addClass('is-hidden'); }, 600);
        $('.has-children a').removeClass('selected');
        $('.moves-out').removeClass('moves-out');
    }





    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })




    // course carousel

    $('.course-carousel').slick({
        dots: false,
        infinite: false,
        speed: 300,
        slidesToShow: 6,
        slidesToScroll: 6,
        swipe: false,
        touchMove: false,
        responsive: [
            {
                breakpoint: 1300,
                settings: {
                    slidesToShow: 5,
                    slidesToScroll: 5,
                }
            },
            {
                breakpoint: 1100,
                settings: {
                    slidesToShow: 4,
                    slidesToScroll: 4
                }
            },
            {
                breakpoint: 840,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                }
            },
            {
                breakpoint: 620,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                }
            },
            {
                breakpoint: 480,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                }
            }
        ]
    });




    $('a.has-popover').webuiPopover({
        trigger: 'hover',
        placement: 'horizontal',
        delay: {
            show: 300,
            hide: null
        },
        width: 335
    });

    if ($('div').hasClass('course-preview-video')) {
        jwplayer("course-preview-video").setup({
            "file": "http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4",
            "image": "http://mrfatta.com/wp-content/uploads/2015/05/CarWrap_Sample.jpg",
            "width": "100%",
            aspectratio: "16:9",
            listbar: {
                position: 'right',
                size: 260
            },
        });
    }



});

/*
 * Note that this is toastr v2.1.3, the "latest" version in url has no more maintenance,
 * please go to https://cdnjs.com/libraries/toastr.js and pick a certain version you want to use,
 * make sure you copy the url from the website since the url may change between versions.
 * */
!function (e) { e(["jquery"], function (e) { return function () { function t(e, t, n) { return g({ type: O.error, iconClass: m().iconClasses.error, message: e, optionsOverride: n, title: t }) } function n(t, n) { return t || (t = m()), v = e("#" + t.containerId), v.length ? v : (n && (v = d(t)), v) } function o(e, t, n) { return g({ type: O.info, iconClass: m().iconClasses.info, message: e, optionsOverride: n, title: t }) } function s(e) { C = e } function i(e, t, n) { return g({ type: O.success, iconClass: m().iconClasses.success, message: e, optionsOverride: n, title: t }) } function a(e, t, n) { return g({ type: O.warning, iconClass: m().iconClasses.warning, message: e, optionsOverride: n, title: t }) } function r(e, t) { var o = m(); v || n(o), u(e, o, t) || l(o) } function c(t) { var o = m(); return v || n(o), t && 0 === e(":focus", t).length ? void h(t) : void (v.children().length && v.remove()) } function l(t) { for (var n = v.children(), o = n.length - 1; o >= 0; o--)u(e(n[o]), t) } function u(t, n, o) { var s = !(!o || !o.force) && o.force; return !(!t || !s && 0 !== e(":focus", t).length) && (t[n.hideMethod]({ duration: n.hideDuration, easing: n.hideEasing, complete: function () { h(t) } }), !0) } function d(t) { return v = e("<div/>").attr("id", t.containerId).addClass(t.positionClass), v.appendTo(e(t.target)), v } function p() { return { tapToDismiss: !0, toastClass: "toast", containerId: "toast-container", debug: !1, showMethod: "fadeIn", showDuration: 300, showEasing: "swing", onShown: void 0, hideMethod: "fadeOut", hideDuration: 1e3, hideEasing: "swing", onHidden: void 0, closeMethod: !1, closeDuration: !1, closeEasing: !1, closeOnHover: !0, extendedTimeOut: 1e3, iconClasses: { error: "toast-error", info: "toast-info", success: "toast-success", warning: "toast-warning" }, iconClass: "toast-info", positionClass: "toast-top-right", timeOut: 5e3, titleClass: "toast-title", messageClass: "toast-message", escapeHtml: !1, target: "body", closeHtml: '<button type="button">&times;</button>', closeClass: "toast-close-button", newestOnTop: !0, preventDuplicates: !1, progressBar: !1, progressClass: "toast-progress", rtl: !1 } } function f(e) { C && C(e) } function g(t) { function o(e) { return null == e && (e = ""), e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } function s() { c(), u(), d(), p(), g(), C(), l(), i() } function i() { var e = ""; switch (t.iconClass) { case "toast-success": case "toast-info": e = "polite"; break; default: e = "assertive" }I.attr("aria-live", e) } function a() { E.closeOnHover && I.hover(H, D), !E.onclick && E.tapToDismiss && I.click(b), E.closeButton && j && j.click(function (e) { e.stopPropagation ? e.stopPropagation() : void 0 !== e.cancelBubble && e.cancelBubble !== !0 && (e.cancelBubble = !0), E.onCloseClick && E.onCloseClick(e), b(!0) }), E.onclick && I.click(function (e) { E.onclick(e), b() }) } function r() { I.hide(), I[E.showMethod]({ duration: E.showDuration, easing: E.showEasing, complete: E.onShown }), E.timeOut > 0 && (k = setTimeout(b, E.timeOut), F.maxHideTime = parseFloat(E.timeOut), F.hideEta = (new Date).getTime() + F.maxHideTime, E.progressBar && (F.intervalId = setInterval(x, 10))) } function c() { t.iconClass && I.addClass(E.toastClass).addClass(y) } function l() { E.newestOnTop ? v.prepend(I) : v.append(I) } function u() { if (t.title) { var e = t.title; E.escapeHtml && (e = o(t.title)), M.append(e).addClass(E.titleClass), I.append(M) } } function d() { if (t.message) { var e = t.message; E.escapeHtml && (e = o(t.message)), B.append(e).addClass(E.messageClass), I.append(B) } } function p() { E.closeButton && (j.addClass(E.closeClass).attr("role", "button"), I.prepend(j)) } function g() { E.progressBar && (q.addClass(E.progressClass), I.prepend(q)) } function C() { E.rtl && I.addClass("rtl") } function O(e, t) { if (e.preventDuplicates) { if (t.message === w) return !0; w = t.message } return !1 } function b(t) { var n = t && E.closeMethod !== !1 ? E.closeMethod : E.hideMethod, o = t && E.closeDuration !== !1 ? E.closeDuration : E.hideDuration, s = t && E.closeEasing !== !1 ? E.closeEasing : E.hideEasing; if (!e(":focus", I).length || t) return clearTimeout(F.intervalId), I[n]({ duration: o, easing: s, complete: function () { h(I), clearTimeout(k), E.onHidden && "hidden" !== P.state && E.onHidden(), P.state = "hidden", P.endTime = new Date, f(P) } }) } function D() { (E.timeOut > 0 || E.extendedTimeOut > 0) && (k = setTimeout(b, E.extendedTimeOut), F.maxHideTime = parseFloat(E.extendedTimeOut), F.hideEta = (new Date).getTime() + F.maxHideTime) } function H() { clearTimeout(k), F.hideEta = 0, I.stop(!0, !0)[E.showMethod]({ duration: E.showDuration, easing: E.showEasing }) } function x() { var e = (F.hideEta - (new Date).getTime()) / F.maxHideTime * 100; q.width(e + "%") } var E = m(), y = t.iconClass || E.iconClass; if ("undefined" != typeof t.optionsOverride && (E = e.extend(E, t.optionsOverride), y = t.optionsOverride.iconClass || y), !O(E, t)) { T++, v = n(E, !0); var k = null, I = e("<div/>"), M = e("<div/>"), B = e("<div/>"), q = e("<div/>"), j = e(E.closeHtml), F = { intervalId: null, hideEta: null, maxHideTime: null }, P = { toastId: T, state: "visible", startTime: new Date, options: E, map: t }; return s(), r(), a(), f(P), E.debug && console && console.log(P), I } } function m() { return e.extend({}, p(), b.options) } function h(e) { v || (v = n()), e.is(":visible") || (e.remove(), e = null, 0 === v.children().length && (v.remove(), w = void 0)) } var v, C, w, T = 0, O = { error: "error", info: "info", success: "success", warning: "warning" }, b = { clear: r, remove: c, error: t, getContainer: n, info: o, options: {}, subscribe: s, success: i, version: "2.1.3", warning: a }; return b }() }) }("function" == typeof define && define.amd ? define : function (e, t) { "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : window.toastr = t(window.jQuery) });
//# sourceMappingURL=toastr.js.map
!function (t, e, s, i) { function o(e, o) { this.w = t(s), this.el = t(e), (o = o || a).rootClass !== i && "dd" !== o.rootClass && (o.listClass = o.listClass ? o.listClass : o.rootClass + "-list", o.itemClass = o.itemClass ? o.itemClass : o.rootClass + "-item", o.dragClass = o.dragClass ? o.dragClass : o.rootClass + "-dragel", o.handleClass = o.handleClass ? o.handleClass : o.rootClass + "-handle", o.collapsedClass = o.collapsedClass ? o.collapsedClass : o.rootClass + "-collapsed", o.placeClass = o.placeClass ? o.placeClass : o.rootClass + "-placeholder", o.noDragClass = o.noDragClass ? o.noDragClass : o.rootClass + "-nodrag", o.noChildrenClass = o.noChildrenClass ? o.noChildrenClass : o.rootClass + "-nochildren", o.emptyClass = o.emptyClass ? o.emptyClass : o.rootClass + "-empty"), this.options = t.extend({}, a, o), this.options.json !== i && this._build(), this.init() } var n = "ontouchstart" in s, l = function () { var t = s.createElement("div"), i = s.documentElement; if (!("pointerEvents" in t.style)) return !1; t.style.pointerEvents = "auto", t.style.pointerEvents = "x", i.appendChild(t); var o = e.getComputedStyle && "auto" === e.getComputedStyle(t, "").pointerEvents; return i.removeChild(t), !!o }(), a = { contentCallback: function (t) { return t.content ? t.content : t.id }, listNodeName: "ol", itemNodeName: "li", handleNodeName: "div", contentNodeName: "span", rootClass: "dd", listClass: "dd-list", itemClass: "dd-item", dragClass: "dd-dragel", handleClass: "dd-handle", contentClass: "dd-content", collapsedClass: "dd-collapsed", placeClass: "dd-placeholder", noDragClass: "dd-nodrag", noChildrenClass: "dd-nochildren", emptyClass: "dd-empty", expandBtnHTML: '<button class="dd-expand" data-action="expand" type="button">Expand</button>', collapseBtnHTML: '<button class="dd-collapse" data-action="collapse" type="button">Collapse</button>', group: 0, maxDepth: 5, threshold: 20, fixedDepth: !1, fixed: !1, includeContent: !1, scroll: !1, scrollSensitivity: 1, scrollSpeed: 5, scrollTriggers: { top: 40, left: 40, right: -40, bottom: -40 }, effect: { animation: "none", time: "slow" }, callback: function (t, e, s) { }, onDragStart: function (t, e, s) { }, beforeDragStop: function (t, e, s) { }, listRenderer: function (t, e) { var s = "<" + e.listNodeName + ' class="' + e.listClass + '">'; return s += t, s += "</" + e.listNodeName + ">" }, itemRenderer: function (e, s, i, o, n) { var l = t.map(e, function (t, e) { return " " + e + '="' + t + '"' }).join(" "), a = "<" + o.itemNodeName + l + ">"; return a += "<" + o.handleNodeName + ' class="' + o.handleClass + '">', a += "<" + o.contentNodeName + ' class="' + o.contentClass + '">', a += s, a += "</" + o.contentNodeName + ">", a += "</" + o.handleNodeName + ">", a += i, a += "</" + o.itemNodeName + ">" } }; o.prototype = { init: function () { var s = this; s.reset(), s.el.data("nestable-group", this.options.group), s.placeEl = t('<div class="' + s.options.placeClass + '"/>'); var i = this.el.find(s.options.itemNodeName); t.each(i, function (e, i) { var o = t(i), n = o.parent(); s.setParent(o), n.hasClass(s.options.collapsedClass) && s.collapseItem(n.parent()) }), i.length || this.appendEmptyElement(this.el), s.el.on("click", "button", function (e) { if (!s.dragEl) { var i = t(e.currentTarget), o = i.data("action"), n = i.parents(s.options.itemNodeName).eq(0); "collapse" === o && s.collapseItem(n), "expand" === o && s.expandItem(n) } }); var o = function (e) { var i = t(e.target); if (!i.hasClass(s.options.handleClass)) { if (i.closest("." + s.options.noDragClass).length) return; i = i.closest("." + s.options.handleClass) } i.length && !s.dragEl && (s.isTouch = /^touch/.test(e.type), s.isTouch && 1 !== e.touches.length || (e.preventDefault(), s.dragStart(e.touches ? e.touches[0] : e))) }, l = function (t) { s.dragEl && (t.preventDefault(), s.dragMove(t.touches ? t.touches[0] : t)) }, a = function (t) { s.dragEl && (t.preventDefault(), s.dragStop(t.touches ? t.changedTouches[0] : t)) }; n && (s.el[0].addEventListener("touchstart", o, !1), e.addEventListener("touchmove", l, !1), e.addEventListener("touchend", a, !1), e.addEventListener("touchcancel", a, !1)), s.el.on("mousedown", o), s.w.on("mousemove", l), s.w.on("mouseup", a); s.el.bind("destroy-nestable", function () { n && (s.el[0].removeEventListener("touchstart", o, !1), e.removeEventListener("touchmove", l, !1), e.removeEventListener("touchend", a, !1), e.removeEventListener("touchcancel", a, !1)), s.el.off("mousedown", o), s.w.off("mousemove", l), s.w.off("mouseup", a), s.el.off("click"), s.el.unbind("destroy-nestable"), s.el.data("nestable", null) }) }, destroy: function () { this.el.trigger("destroy-nestable") }, add: function (e) { var s = "." + this.options.listClass, o = t(this.el).children(s); e.parent_id !== i && (o = o.find('[data-id="' + e.parent_id + '"]'), delete e.parent_id, 0 === o.children(s).length && (o = o.append(this.options.listRenderer("", this.options))), o = o.find(s + ":first"), this.setParent(o.parent())), o.append(this._buildItem(e, this.options)) }, replace: function (t) { var e = this._buildItem(t, this.options); this._getItemById(t.id).replaceWith(e) }, removeItem: function (e) { var s = this.options, i = this.el; (e = e || this).remove(); var o = "." + s.listClass + " ." + s.listClass + ":not(:has(*))"; t(i).find(o).remove(); t(i).find('[data-action="expand"], [data-action="collapse"]').each(function () { 0 === t(this).siblings("." + s.listClass).length && t(this).remove() }) }, remove: function (t, e) { var s = this.options, i = this, o = this._getItemById(t), n = s.effect.animation || "fade", l = s.effect.time || "slow"; "fade" === n ? o.fadeOut(l, function () { i.removeItem(o) }) : this.removeItem(o), e && e() }, removeAll: function (e) { function s() { l.each(function () { i.removeItem(t(this)) }), n.show(), e && e() } var i = this, o = this.options, n = i.el.find(o.listNodeName).first(), l = n.children(o.itemNodeName), a = o.effect.animation || "fade", r = o.effect.time || "slow"; "fade" === a ? n.fadeOut(r, s) : s() }, _getItemById: function (e) { return t(this.el).children("." + this.options.listClass).find('[data-id="' + e + '"]') }, _build: function () { var e = this.options.json; "string" == typeof e && (e = JSON.parse(e)), t(this.el).html(this._buildList(e, this.options)) }, _buildList: function (e, s) { if (!e) return ""; var i = "", o = this; return t.each(e, function (t, e) { i += o._buildItem(e, s) }), s.listRenderer(i, s) }, _buildItem: function (e, s) { function i(t) { var e = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#039;" }; return t + "".replace(/[&<>"']/g, function (t) { return e[t] }) } function o(t) { var e = {}; for (var s in t) e[t[s]] = t[s]; return e } var n = function (e) { delete (e = t.extend({}, e)).children, delete e.classes, delete e.content; var s = {}; return t.each(e, function (t, e) { "object" == typeof e && (e = JSON.stringify(e)), s["data-" + t] = i(e) }), s }(e); n.class = function (e, s) { var i = e.classes || {}; "string" == typeof i && (i = [i]); var n = o(i); return n[s.itemClass] = s.itemClass, t.map(n, function (t) { return t }).join(" ") }(e, s); var l = s.contentCallback(e), a = this._buildList(e.children, s), r = t(s.itemRenderer(n, l, a, s, e)); return this.setParent(r), r[0].outerHTML }, serialize: function () { var e = this, s = function (i) { var o = []; return i.children(e.options.itemNodeName).each(function () { var i = t(this), n = t.extend({}, i.data()), l = i.children(e.options.listNodeName); if (e.options.includeContent) { var a = i.find("." + e.options.contentClass).html(); a && (n.content = a) } l.length && (n.children = s(l)), o.push(n) }), o }; return s(e.el.find(e.options.listNodeName).first()) }, asNestedSet: function () { function e(i, l, a) { var r, d, h = a + 1; return t(i).children(o.listNodeName).children(o.itemNodeName).length > 0 && (l++, t(i).children(o.listNodeName).children(o.itemNodeName).each(function () { h = e(t(this), l, h) }), l--), r = t(i).attr("data-id"), s(r) && (r = parseInt(r)), d = t(i).parent(o.listNodeName).parent(o.itemNodeName).attr("data-id") || "", s(d) && (r = parseInt(d)), r && n.push({ id: r, parent_id: d, depth: l, lft: a, rgt: h }), a = h + 1 } function s(e) { return t.isNumeric(e) && Math.floor(e) == e } var i = this, o = i.options, n = [], l = 1; return i.el.find(o.listNodeName).first().children(o.itemNodeName).each(function () { l = e(this, 0, l) }), n = n.sort(function (t, e) { return t.lft - e.lft }) }, returnOptions: function () { return this.options }, serialise: function () { return this.serialize() }, toHierarchy: function (e) { function s(e) { var o = (t(e).attr(i.attribute || "id") || "").match(i.expression || /(.+)[-=_](.+)/); if (o) { var n = { id: o[2] }; return t(e).children(i.listType).children(i.items).length > 0 && (n.children = [], t(e).children(i.listType).children(i.items).each(function () { var t = s(this); n.children.push(t) })), n } } var i = t.extend({}, this.options, e), o = []; return t(this.element).children(i.items).each(function () { var t = s(this); o.push(t) }), o }, toArray: function () { function e(n, l, a) { var r, d, h = a + 1; return n.children(s.options.listNodeName).children(s.options.itemNodeName).length > 0 && (l++, n.children(s.options.listNodeName).children(s.options.itemNodeName).each(function () { h = e(t(this), l, h) }), l--), r = n.data().id, d = l === i + 1 ? s.rootID : n.parent(s.options.listNodeName).parent(s.options.itemNodeName).data().id, r && o.push({ id: r, parent_id: d, depth: l, left: a, right: h }), a = h + 1 } var s = t.extend({}, this.options, this), i = s.startDepthCount || 0, o = [], n = 2, l = this; return l.el.find(l.options.listNodeName).first().children(l.options.itemNodeName).each(function () { n = e(t(this), i + 1, n) }), o = o.sort(function (t, e) { return t.left - e.left }) }, reset: function () { this.mouse = { offsetX: 0, offsetY: 0, startX: 0, startY: 0, lastX: 0, lastY: 0, nowX: 0, nowY: 0, distX: 0, distY: 0, dirAx: 0, dirX: 0, dirY: 0, lastDirX: 0, lastDirY: 0, distAxX: 0, distAxY: 0 }, this.isTouch = !1, this.moving = !1, this.dragEl = null, this.dragRootEl = null, this.dragDepth = 0, this.hasNewRoot = !1, this.pointEl = null }, expandItem: function (t) { t.removeClass(this.options.collapsedClass) }, collapseItem: function (t) { t.children(this.options.listNodeName).length && t.addClass(this.options.collapsedClass) }, expandAll: function () { var e = this; e.el.find(e.options.itemNodeName).each(function () { e.expandItem(t(this)) }) }, collapseAll: function () { var e = this; e.el.find(e.options.itemNodeName).each(function () { e.collapseItem(t(this)) }) }, setParent: function (e) { e.is(this.options.itemNodeName) && e.children(this.options.listNodeName).length && (e.children("[data-action]").remove(), e.prepend(t(this.options.expandBtnHTML)), e.prepend(t(this.options.collapseBtnHTML))) }, unsetParent: function (t) { t.removeClass(this.options.collapsedClass), t.children("[data-action]").remove(), t.children(this.options.listNodeName).remove() }, dragStart: function (e) { var i = this.mouse, o = t(e.target).closest(this.options.itemNodeName), n = { top: e.pageY, left: e.pageX }, l = this.options.onDragStart.call(this, this.el, o, n); if (void 0 === l || !1 !== l) { this.placeEl.css("height", o.height()), i.offsetX = e.pageX - o.offset().left, i.offsetY = e.pageY - o.offset().top, i.startX = i.lastX = e.pageX, i.startY = i.lastY = e.pageY, this.dragRootEl = this.el, this.dragEl = t(s.createElement(this.options.listNodeName)).addClass(this.options.listClass + " " + this.options.dragClass), this.dragEl.css("width", o.outerWidth()), this.setIndexOfItem(o), o.after(this.placeEl), o[0].parentNode.removeChild(o[0]), o.appendTo(this.dragEl), t(s.body).append(this.dragEl), this.dragEl.css({ left: e.pageX - i.offsetX, top: e.pageY - i.offsetY }); var a, r, d = this.dragEl.find(this.options.itemNodeName); for (a = 0; a < d.length; a++)(r = t(d[a]).parents(this.options.listNodeName).length) > this.dragDepth && (this.dragDepth = r) } }, createSubLevel: function (e, s) { var i = t("<" + this.options.listNodeName + "/>").addClass(this.options.listClass); return s && i.append(s), e.append(i), this.setParent(e), i }, setIndexOfItem: function (e, s) { (s = s || []).unshift(e.index()), t(e[0].parentNode)[0] !== this.dragRootEl[0] ? this.setIndexOfItem(t(e[0].parentNode), s) : this.dragEl.data("indexOfItem", s) }, restoreItemAtIndex: function (e, s) { for (var i = this.el, o = s.length - 1, n = 0; n < s.length; n++) { if (o === parseInt(n)) return void function (e, i) { 0 === s[o] ? t(e).prepend(i.clone(!0)) : t(e.children[s[o] - 1]).after(i.clone(!0)) }(i, e); var l = i[0] ? i[0] : i, a = l.children[s[n]]; i = a || this.createSubLevel(t(l)) } }, dragStop: function (t) { var e = { top: t.pageY, left: t.pageX }, s = this.dragEl.data("indexOfItem"), i = this.dragEl.children(this.options.itemNodeName).first(); i[0].parentNode.removeChild(i[0]), this.dragEl.remove(); var o = this.options.beforeDragStop.call(this, this.el, i, this.placeEl.parent()); if (void 0 !== o && !1 === o) { var n = this.placeEl.parent(); return this.placeEl.remove(), n.children().length || this.unsetParent(n.parent()), this.restoreItemAtIndex(i, s), void this.reset() } this.placeEl.replaceWith(i), this.hasNewRoot ? (!0 === this.options.fixed ? this.restoreItemAtIndex(i, s) : this.el.trigger("lostItem"), this.dragRootEl.trigger("gainedItem")) : this.dragRootEl.trigger("change"), this.options.callback.call(this, this.dragRootEl, i, e), this.reset() }, dragMove: function (i) { var o, n, a, r = this.options, d = this.mouse; this.dragEl.css({ left: i.pageX - d.offsetX, top: i.pageY - d.offsetY }), d.lastX = d.nowX, d.lastY = d.nowY, d.nowX = i.pageX, d.nowY = i.pageY, d.distX = d.nowX - d.lastX, d.distY = d.nowY - d.lastY, d.lastDirX = d.dirX, d.lastDirY = d.dirY, d.dirX = 0 === d.distX ? 0 : d.distX > 0 ? 1 : -1, d.dirY = 0 === d.distY ? 0 : d.distY > 0 ? 1 : -1; var h = Math.abs(d.distX) > Math.abs(d.distY) ? 1 : 0; if (!d.moving) return d.dirAx = h, void (d.moving = !0); if (r.scroll) if (void 0 !== e.jQuery.fn.scrollParent) { var c = !1, p = this.el.scrollParent()[0]; p !== s && "HTML" !== p.tagName ? (r.scrollTriggers.bottom + p.offsetHeight - i.pageY < r.scrollSensitivity ? p.scrollTop = c = p.scrollTop + r.scrollSpeed : i.pageY - r.scrollTriggers.top < r.scrollSensitivity && (p.scrollTop = c = p.scrollTop - r.scrollSpeed), r.scrollTriggers.right + p.offsetWidth - i.pageX < r.scrollSensitivity ? p.scrollLeft = c = p.scrollLeft + r.scrollSpeed : i.pageX - r.scrollTriggers.left < r.scrollSensitivity && (p.scrollLeft = c = p.scrollLeft - r.scrollSpeed)) : (i.pageY - t(s).scrollTop() < r.scrollSensitivity ? c = t(s).scrollTop(t(s).scrollTop() - r.scrollSpeed) : t(e).height() - (i.pageY - t(s).scrollTop()) < r.scrollSensitivity && (c = t(s).scrollTop(t(s).scrollTop() + r.scrollSpeed)), i.pageX - t(s).scrollLeft() < r.scrollSensitivity ? c = t(s).scrollLeft(t(s).scrollLeft() - r.scrollSpeed) : t(e).width() - (i.pageX - t(s).scrollLeft()) < r.scrollSensitivity && (c = t(s).scrollLeft(t(s).scrollLeft() + r.scrollSpeed))) } else console.warn("To use scrolling you need to have scrollParent() function, check documentation for more information"); this.scrollTimer && clearTimeout(this.scrollTimer), r.scroll && c && (this.scrollTimer = setTimeout(function () { t(e).trigger(i) }, 10)), d.dirAx !== h ? (d.distAxX = 0, d.distAxY = 0) : (d.distAxX += Math.abs(d.distX), 0 !== d.dirX && d.dirX !== d.lastDirX && (d.distAxX = 0), d.distAxY += Math.abs(d.distY), 0 !== d.dirY && d.dirY !== d.lastDirY && (d.distAxY = 0)), d.dirAx = h, d.dirAx && d.distAxX >= r.threshold && (d.distAxX = 0, a = this.placeEl.prev(r.itemNodeName), d.distX > 0 && a.length && !a.hasClass(r.collapsedClass) && !a.hasClass(r.noChildrenClass) && (o = a.find(r.listNodeName).last(), this.placeEl.parents(r.listNodeName).length + this.dragDepth <= r.maxDepth && (o.length ? (o = a.children(r.listNodeName).last()).append(this.placeEl) : this.createSubLevel(a, this.placeEl))), d.distX < 0 && (this.placeEl.next(r.itemNodeName).length || (n = this.placeEl.parent(), this.placeEl.closest(r.itemNodeName).after(this.placeEl), n.children().length || this.unsetParent(n.parent())))); var f = !1; if (l || (this.dragEl[0].style.visibility = "hidden"), this.pointEl = t(s.elementFromPoint(i.pageX - s.body.scrollLeft, i.pageY - (e.pageYOffset || s.documentElement.scrollTop))), l || (this.dragEl[0].style.visibility = "visible"), this.pointEl.hasClass(r.handleClass) && (this.pointEl = this.pointEl.closest(r.itemNodeName)), this.pointEl.hasClass(r.emptyClass)) f = !0; else if (!this.pointEl.length || !this.pointEl.hasClass(r.itemClass)) return; var u = this.pointEl.closest("." + r.rootClass), m = this.dragRootEl.data("nestable-id") !== u.data("nestable-id"); if (!d.dirAx || m || f) { if (m && r.group !== u.data("nestable-group")) return; if (this.options.fixedDepth && this.dragDepth + 1 !== this.pointEl.parents(r.listNodeName).length) return; if (this.dragDepth - 1 + this.pointEl.parents(r.listNodeName).length > r.maxDepth) return; var g = i.pageY < this.pointEl.offset().top + this.pointEl.height() / 2; n = this.placeEl.parent(), f ? ((o = t(s.createElement(r.listNodeName)).addClass(r.listClass)).append(this.placeEl), this.pointEl.replaceWith(o)) : g ? this.pointEl.before(this.placeEl) : this.pointEl.after(this.placeEl), n.children().length || this.unsetParent(n.parent()), this.dragRootEl.find(r.itemNodeName).length || this.appendEmptyElement(this.dragRootEl), this.dragRootEl = u, m && (this.hasNewRoot = this.el[0] !== this.dragRootEl[0]) } }, appendEmptyElement: function (t) { t.append('<div class="' + this.options.emptyClass + '"/>') } }, t.fn.nestable = function (s) { var i = this, n = this, l = arguments; return "Nestable" in e || (e.Nestable = {}, Nestable.counter = 0), i.each(function () { var e = t(this).data("nestable"); if (e) { if ("string" == typeof s && "function" == typeof e[s]) if (l.length > 1) { for (var i = [], a = 1; a < l.length; a++)i.push(l[a]); n = e[s].apply(e, i) } else n = e[s]() } else Nestable.counter++, t(this).data("nestable", new o(this, s)), t(this).data("nestable-id", Nestable.counter) }), n || i } }(window.jQuery || window.Zepto, window, document);
/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof module && module.exports ? module.exports = function (t, r) { return void 0 === r && (r = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), e(r), r } : e(jQuery) }(function (e) { "use strict"; function t(t) { var r = t.data; t.isDefaultPrevented() || (t.preventDefault(), e(t.target).closest("form").ajaxSubmit(r)) } function r(t) { var r = t.target, a = e(r); if (!a.is("[type=submit],[type=image]")) { var n = a.closest("[type=submit]"); if (0 === n.length) return; r = n[0] } var i = r.form; if (i.clk = r, "image" === r.type) if (void 0 !== t.offsetX) i.clk_x = t.offsetX, i.clk_y = t.offsetY; else if ("function" == typeof e.fn.offset) { var o = a.offset(); i.clk_x = t.pageX - o.left, i.clk_y = t.pageY - o.top } else i.clk_x = t.pageX - r.offsetLeft, i.clk_y = t.pageY - r.offsetTop; setTimeout(function () { i.clk = i.clk_x = i.clk_y = null }, 100) } function a() { if (e.fn.ajaxSubmit.debug) { var t = "[jquery.form] " + Array.prototype.join.call(arguments, ""); window.console && window.console.log ? window.console.log(t) : window.opera && window.opera.postError && window.opera.postError(t) } } var n = /\r?\n/g, i = {}; i.fileapi = void 0 !== e('<input type="file">').get(0).files, i.formdata = void 0 !== window.FormData; var o = !!e.fn.prop; e.fn.attr2 = function () { if (!o) return this.attr.apply(this, arguments); var e = this.prop.apply(this, arguments); return e && e.jquery || "string" == typeof e ? e : this.attr.apply(this, arguments) }, e.fn.ajaxSubmit = function (t, r, n, s) { function u(r) { var a, n, i = e.param(r, t.traditional).split("&"), o = i.length, s = []; for (a = 0; a < o; a++)i[a] = i[a].replace(/\+/g, " "), n = i[a].split("="), s.push([decodeURIComponent(n[0]), decodeURIComponent(n[1])]); return s } function c(r) { function n(e) { var t = null; try { e.contentWindow && (t = e.contentWindow.document) } catch (e) { a("cannot get iframe.contentWindow document: " + e) } if (t) return t; try { t = e.contentDocument ? e.contentDocument : e.document } catch (r) { a("cannot get iframe.contentDocument: " + r), t = e.document } return t } function i() { function t() { try { var e = n(v).readyState; a("state = " + e), e && "uninitialized" === e.toLowerCase() && setTimeout(t, 50) } catch (e) { a("Server abort: ", e, " (", e.name, ")"), s(L), j && clearTimeout(j), j = void 0 } } var r = p.attr2("target"), i = p.attr2("action"), o = p.attr("enctype") || p.attr("encoding") || "multipart/form-data"; w.setAttribute("target", m), l && !/post/i.test(l) || w.setAttribute("method", "POST"), i !== f.url && w.setAttribute("action", f.url), f.skipEncodingOverride || l && !/post/i.test(l) || p.attr({ encoding: "multipart/form-data", enctype: "multipart/form-data" }), f.timeout && (j = setTimeout(function () { T = !0, s(A) }, f.timeout)); var u = []; try { if (f.extraData) for (var c in f.extraData) f.extraData.hasOwnProperty(c) && (e.isPlainObject(f.extraData[c]) && f.extraData[c].hasOwnProperty("name") && f.extraData[c].hasOwnProperty("value") ? u.push(e('<input type="hidden" name="' + f.extraData[c].name + '">', k).val(f.extraData[c].value).appendTo(w)[0]) : u.push(e('<input type="hidden" name="' + c + '">', k).val(f.extraData[c]).appendTo(w)[0])); f.iframeTarget || h.appendTo(D), v.attachEvent ? v.attachEvent("onload", s) : v.addEventListener("load", s, !1), setTimeout(t, 15); try { w.submit() } catch (e) { document.createElement("form").submit.apply(w) } } finally { w.setAttribute("action", i), w.setAttribute("enctype", o), r ? w.setAttribute("target", r) : p.removeAttr("target"), e(u).remove() } } function s(t) { if (!x.aborted && !X) { if ((O = n(v)) || (a("cannot access response document"), t = L), t === A && x) return x.abort("timeout"), void S.reject(x, "timeout"); if (t === L && x) return x.abort("server abort"), void S.reject(x, "error", "server abort"); if (O && O.location.href !== f.iframeSrc || T) { v.detachEvent ? v.detachEvent("onload", s) : v.removeEventListener("load", s, !1); var r, i = "success"; try { if (T) throw "timeout"; var o = "xml" === f.dataType || O.XMLDocument || e.isXMLDoc(O); if (a("isXml=" + o), !o && window.opera && (null === O.body || !O.body.innerHTML) && --C) return a("requeing onLoad callback, DOM not available"), void setTimeout(s, 250); var u = O.body ? O.body : O.documentElement; x.responseText = u ? u.innerHTML : null, x.responseXML = O.XMLDocument ? O.XMLDocument : O, o && (f.dataType = "xml"), x.getResponseHeader = function (e) { return { "content-type": f.dataType }[e.toLowerCase()] }, u && (x.status = Number(u.getAttribute("status")) || x.status, x.statusText = u.getAttribute("statusText") || x.statusText); var c = (f.dataType || "").toLowerCase(), l = /(json|script|text)/.test(c); if (l || f.textarea) { var p = O.getElementsByTagName("textarea")[0]; if (p) x.responseText = p.value, x.status = Number(p.getAttribute("status")) || x.status, x.statusText = p.getAttribute("statusText") || x.statusText; else if (l) { var m = O.getElementsByTagName("pre")[0], g = O.getElementsByTagName("body")[0]; m ? x.responseText = m.textContent ? m.textContent : m.innerText : g && (x.responseText = g.textContent ? g.textContent : g.innerText) } } else "xml" === c && !x.responseXML && x.responseText && (x.responseXML = q(x.responseText)); try { M = N(x, c, f) } catch (e) { i = "parsererror", x.error = r = e || i } } catch (e) { a("error caught: ", e), i = "error", x.error = r = e || i } x.aborted && (a("upload aborted"), i = null), x.status && (i = x.status >= 200 && x.status < 300 || 304 === x.status ? "success" : "error"), "success" === i ? (f.success && f.success.call(f.context, M, "success", x), S.resolve(x.responseText, "success", x), d && e.event.trigger("ajaxSuccess", [x, f])) : i && (void 0 === r && (r = x.statusText), f.error && f.error.call(f.context, x, i, r), S.reject(x, "error", r), d && e.event.trigger("ajaxError", [x, f, r])), d && e.event.trigger("ajaxComplete", [x, f]), d && !--e.active && e.event.trigger("ajaxStop"), f.complete && f.complete.call(f.context, x, i), X = !0, f.timeout && clearTimeout(j), setTimeout(function () { f.iframeTarget ? h.attr("src", f.iframeSrc) : h.remove(), x.responseXML = null }, 100) } } } var u, c, f, d, m, h, v, x, y, b, T, j, w = p[0], S = e.Deferred(); if (S.abort = function (e) { x.abort(e) }, r) for (c = 0; c < g.length; c++)u = e(g[c]), o ? u.prop("disabled", !1) : u.removeAttr("disabled"); (f = e.extend(!0, {}, e.ajaxSettings, t)).context = f.context || f, m = "jqFormIO" + (new Date).getTime(); var k = w.ownerDocument, D = p.closest("body"); if (f.iframeTarget ? (b = (h = e(f.iframeTarget, k)).attr2("name")) ? m = b : h.attr2("name", m) : (h = e('<iframe name="' + m + '" src="' + f.iframeSrc + '" />', k)).css({ position: "absolute", top: "-1000px", left: "-1000px" }), v = h[0], x = { aborted: 0, responseText: null, responseXML: null, status: 0, statusText: "n/a", getAllResponseHeaders: function () { }, getResponseHeader: function () { }, setRequestHeader: function () { }, abort: function (t) { var r = "timeout" === t ? "timeout" : "aborted"; a("aborting upload... " + r), this.aborted = 1; try { v.contentWindow.document.execCommand && v.contentWindow.document.execCommand("Stop") } catch (e) { } h.attr("src", f.iframeSrc), x.error = r, f.error && f.error.call(f.context, x, r, t), d && e.event.trigger("ajaxError", [x, f, r]), f.complete && f.complete.call(f.context, x, r) } }, (d = f.global) && 0 == e.active++ && e.event.trigger("ajaxStart"), d && e.event.trigger("ajaxSend", [x, f]), f.beforeSend && !1 === f.beforeSend.call(f.context, x, f)) return f.global && e.active--, S.reject(), S; if (x.aborted) return S.reject(), S; (y = w.clk) && (b = y.name) && !y.disabled && (f.extraData = f.extraData || {}, f.extraData[b] = y.value, "image" === y.type && (f.extraData[b + ".x"] = w.clk_x, f.extraData[b + ".y"] = w.clk_y)); var A = 1, L = 2, F = e("meta[name=csrf-token]").attr("content"), E = e("meta[name=csrf-param]").attr("content"); E && F && (f.extraData = f.extraData || {}, f.extraData[E] = F), f.forceSync ? i() : setTimeout(i, 10); var M, O, X, C = 50, q = e.parseXML || function (e, t) { return window.ActiveXObject ? ((t = new ActiveXObject("Microsoft.XMLDOM")).async = "false", t.loadXML(e)) : t = (new DOMParser).parseFromString(e, "text/xml"), t && t.documentElement && "parsererror" !== t.documentElement.nodeName ? t : null }, _ = e.parseJSON || function (e) { return window.eval("(" + e + ")") }, N = function (t, r, a) { var n = t.getResponseHeader("content-type") || "", i = ("xml" === r || !r) && n.indexOf("xml") >= 0, o = i ? t.responseXML : t.responseText; return i && "parsererror" === o.documentElement.nodeName && e.error && e.error("parsererror"), a && a.dataFilter && (o = a.dataFilter(o, r)), "string" == typeof o && (("json" === r || !r) && n.indexOf("json") >= 0 ? o = _(o) : ("script" === r || !r) && n.indexOf("javascript") >= 0 && e.globalEval(o)), o }; return S } if (!this.length) return a("ajaxSubmit: skipping submit process - no element selected"), this; var l, f, d, p = this; "function" == typeof t ? t = { success: t } : "string" == typeof t || !1 === t && arguments.length > 0 ? (t = { url: t, data: r, dataType: n }, "function" == typeof s && (t.success = s)) : void 0 === t && (t = {}), l = t.method || t.type || this.attr2("method"), (d = (d = "string" == typeof (f = t.url || this.attr2("action")) ? e.trim(f) : "") || window.location.href || "") && (d = (d.match(/^([^#]+)/) || [])[1]), t = e.extend(!0, { url: d, success: e.ajaxSettings.success, type: l || e.ajaxSettings.type, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank" }, t); var m = {}; if (this.trigger("form-pre-serialize", [this, t, m]), m.veto) return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this; if (t.beforeSerialize && !1 === t.beforeSerialize(this, t)) return a("ajaxSubmit: submit aborted via beforeSerialize callback"), this; var h = t.traditional; void 0 === h && (h = e.ajaxSettings.traditional); var v, g = [], x = this.formToArray(t.semantic, g, t.filtering); if (t.data) { var y = e.isFunction(t.data) ? t.data(x) : t.data; t.extraData = y, v = e.param(y, h) } if (t.beforeSubmit && !1 === t.beforeSubmit(x, this, t)) return a("ajaxSubmit: submit aborted via beforeSubmit callback"), this; if (this.trigger("form-submit-validate", [x, this, t, m]), m.veto) return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this; var b = e.param(x, h); v && (b = b ? b + "&" + v : v), "GET" === t.type.toUpperCase() ? (t.url += (t.url.indexOf("?") >= 0 ? "&" : "?") + b, t.data = null) : t.data = b; var T = []; if (t.resetForm && T.push(function () { p.resetForm() }), t.clearForm && T.push(function () { p.clearForm(t.includeHidden) }), !t.dataType && t.target) { var j = t.success || function () { }; T.push(function (r, a, n) { var i = arguments, o = t.replaceTarget ? "replaceWith" : "html"; e(t.target)[o](r).each(function () { j.apply(this, i) }) }) } else t.success && (e.isArray(t.success) ? e.merge(T, t.success) : T.push(t.success)); if (t.success = function (e, r, a) { for (var n = t.context || this, i = 0, o = T.length; i < o; i++)T[i].apply(n, [e, r, a || p, p]) }, t.error) { var w = t.error; t.error = function (e, r, a) { var n = t.context || this; w.apply(n, [e, r, a, p]) } } if (t.complete) { var S = t.complete; t.complete = function (e, r) { var a = t.context || this; S.apply(a, [e, r, p]) } } var k = e("input[type=file]:enabled", this).filter(function () { return "" !== e(this).val() }).length > 0, D = "multipart/form-data", A = p.attr("enctype") === D || p.attr("encoding") === D, L = i.fileapi && i.formdata; a("fileAPI :" + L); var F, E = (k || A) && !L; !1 !== t.iframe && (t.iframe || E) ? t.closeKeepAlive ? e.get(t.closeKeepAlive, function () { F = c(x) }) : F = c(x) : F = (k || A) && L ? function (r) { for (var a = new FormData, n = 0; n < r.length; n++)a.append(r[n].name, r[n].value); if (t.extraData) { var i = u(t.extraData); for (n = 0; n < i.length; n++)i[n] && a.append(i[n][0], i[n][1]) } t.data = null; var o = e.extend(!0, {}, e.ajaxSettings, t, { contentType: !1, processData: !1, cache: !1, type: l || "POST" }); t.uploadProgress && (o.xhr = function () { var r = e.ajaxSettings.xhr(); return r.upload && r.upload.addEventListener("progress", function (e) { var r = 0, a = e.loaded || e.position, n = e.total; e.lengthComputable && (r = Math.ceil(a / n * 100)), t.uploadProgress(e, a, n, r) }, !1), r }), o.data = null; var s = o.beforeSend; return o.beforeSend = function (e, r) { t.formData ? r.data = t.formData : r.data = a, s && s.call(this, e, r) }, e.ajax(o) }(x) : e.ajax(t), p.removeData("jqxhr").data("jqxhr", F); for (var M = 0; M < g.length; M++)g[M] = null; return this.trigger("form-submit-notify", [this, t]), this }, e.fn.ajaxForm = function (n, i, o, s) { if (("string" == typeof n || !1 === n && arguments.length > 0) && (n = { url: n, data: i, dataType: o }, "function" == typeof s && (n.success = s)), n = n || {}, n.delegation = n.delegation && e.isFunction(e.fn.on), !n.delegation && 0 === this.length) { var u = { s: this.selector, c: this.context }; return !e.isReady && u.s ? (a("DOM not ready, queuing ajaxForm"), e(function () { e(u.s, u.c).ajaxForm(n) }), this) : (a("terminating; zero elements found by selector" + (e.isReady ? "" : " (DOM not ready)")), this) } return n.delegation ? (e(document).off("submit.form-plugin", this.selector, t).off("click.form-plugin", this.selector, r).on("submit.form-plugin", this.selector, n, t).on("click.form-plugin", this.selector, n, r), this) : this.ajaxFormUnbind().on("submit.form-plugin", n, t).on("click.form-plugin", n, r) }, e.fn.ajaxFormUnbind = function () { return this.off("submit.form-plugin click.form-plugin") }, e.fn.formToArray = function (t, r, a) { var n = []; if (0 === this.length) return n; var o, s = this[0], u = this.attr("id"), c = t || void 0 === s.elements ? s.getElementsByTagName("*") : s.elements; if (c && (c = e.makeArray(c)), u && (t || /(Edge|Trident)\//.test(navigator.userAgent)) && (o = e(':input[form="' + u + '"]').get()).length && (c = (c || []).concat(o)), !c || !c.length) return n; e.isFunction(a) && (c = e.map(c, a)); var l, f, d, p, m, h, v; for (l = 0, h = c.length; l < h; l++)if (m = c[l], (d = m.name) && !m.disabled) if (t && s.clk && "image" === m.type) s.clk === m && (n.push({ name: d, value: e(m).val(), type: m.type }), n.push({ name: d + ".x", value: s.clk_x }, { name: d + ".y", value: s.clk_y })); else if ((p = e.fieldValue(m, !0)) && p.constructor === Array) for (r && r.push(m), f = 0, v = p.length; f < v; f++)n.push({ name: d, value: p[f] }); else if (i.fileapi && "file" === m.type) { r && r.push(m); var g = m.files; if (g.length) for (f = 0; f < g.length; f++)n.push({ name: d, value: g[f], type: m.type }); else n.push({ name: d, value: "", type: m.type }) } else null !== p && void 0 !== p && (r && r.push(m), n.push({ name: d, value: p, type: m.type, required: m.required })); if (!t && s.clk) { var x = e(s.clk), y = x[0]; (d = y.name) && !y.disabled && "image" === y.type && (n.push({ name: d, value: x.val() }), n.push({ name: d + ".x", value: s.clk_x }, { name: d + ".y", value: s.clk_y })) } return n }, e.fn.formSerialize = function (t) { return e.param(this.formToArray(t)) }, e.fn.fieldSerialize = function (t) { var r = []; return this.each(function () { var a = this.name; if (a) { var n = e.fieldValue(this, t); if (n && n.constructor === Array) for (var i = 0, o = n.length; i < o; i++)r.push({ name: a, value: n[i] }); else null !== n && void 0 !== n && r.push({ name: this.name, value: n }) } }), e.param(r) }, e.fn.fieldValue = function (t) { for (var r = [], a = 0, n = this.length; a < n; a++) { var i = this[a], o = e.fieldValue(i, t); null === o || void 0 === o || o.constructor === Array && !o.length || (o.constructor === Array ? e.merge(r, o) : r.push(o)) } return r }, e.fieldValue = function (t, r) { var a = t.name, i = t.type, o = t.tagName.toLowerCase(); if (void 0 === r && (r = !0), r && (!a || t.disabled || "reset" === i || "button" === i || ("checkbox" === i || "radio" === i) && !t.checked || ("submit" === i || "image" === i) && t.form && t.form.clk !== t || "select" === o && -1 === t.selectedIndex)) return null; if ("select" === o) { var s = t.selectedIndex; if (s < 0) return null; for (var u = [], c = t.options, l = "select-one" === i, f = l ? s + 1 : c.length, d = l ? s : 0; d < f; d++) { var p = c[d]; if (p.selected && !p.disabled) { var m = p.value; if (m || (m = p.attributes && p.attributes.value && !p.attributes.value.specified ? p.text : p.value), l) return m; u.push(m) } } return u } return e(t).val().replace(n, "\r\n") }, e.fn.clearForm = function (t) { return this.each(function () { e("input,select,textarea", this).clearFields(t) }) }, e.fn.clearFields = e.fn.clearInputs = function (t) { var r = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; return this.each(function () { var a = this.type, n = this.tagName.toLowerCase(); r.test(a) || "textarea" === n ? this.value = "" : "checkbox" === a || "radio" === a ? this.checked = !1 : "select" === n ? this.selectedIndex = -1 : "file" === a ? /MSIE/.test(navigator.userAgent) ? e(this).replaceWith(e(this).clone(!0)) : e(this).val("") : t && (!0 === t && /hidden/.test(a) || "string" == typeof t && e(this).is(t)) && (this.value = "") }) }, e.fn.resetForm = function () { return this.each(function () { var t = e(this), r = this.tagName.toLowerCase(); switch (r) { case "input": this.checked = this.defaultChecked; case "textarea": return this.value = this.defaultValue, !0; case "option": case "optgroup": var a = t.parents("select"); return a.length && a[0].multiple ? "option" === r ? this.selected = this.defaultSelected : t.find("option").resetForm() : a.resetForm(), !0; case "select": return t.find("option").each(function (e) { if (this.selected = this.defaultSelected, this.defaultSelected && !t[0].multiple) return t[0].selectedIndex = e, !1 }), !0; case "label": var n = e(t.attr("for")), i = t.find("input,select,textarea"); return n[0] && i.unshift(n[0]), i.resetForm(), !0; case "form": return ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset(), !0; default: return t.find("form,input,label,select,textarea").resetForm(), !0 } }) }, e.fn.enable = function (e) { return void 0 === e && (e = !0), this.each(function () { this.disabled = !e }) }, e.fn.selected = function (t) { return void 0 === t && (t = !0), this.each(function () { var r = this.type; if ("checkbox" === r || "radio" === r) this.checked = t; else if ("option" === this.tagName.toLowerCase()) { var a = e(this).parent("select"); t && a[0] && "select-one" === a[0].type && a.find("option").selected(!1), this.selected = t } }) }, e.fn.ajaxSubmit.debug = !1 });
//# sourceMappingURL=jquery.form.min.js.map

! function (a) {
    var b = new Array,
        c = new Array;
    a.fn.doAutosize = function (b) {
        var c = a(this).data("minwidth"),
            d = a(this).data("maxwidth"),
            e = "",
            f = a(this),
            g = a("#" + a(this).data("tester_id"));
        if (e !== (e = f.val())) {
            var h = e.replace(/&/g, "&amp;").replace(/\s/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;");
            g.html(h);
            var i = g.width(),
                j = i + b.comfortZone >= c ? i + b.comfortZone : c,
                k = f.width(),
                l = k > j && j >= c || j > c && d > j;
            l && f.width(j)
        }
    }, a.fn.resetAutosize = function (b) {
        var c = a(this).data("minwidth") || b.minInputWidth || a(this).width(),
            d = a(this).data("maxwidth") || b.maxInputWidth || a(this).closest(".tagsinput").width() - b.inputPadding,
            e = a(this),
            f = a("<tester/>").css({ position: "absolute", top: -9999, left: -9999, width: "auto", fontSize: e.css("fontSize"), fontFamily: e.css("fontFamily"), fontWeight: e.css("fontWeight"), letterSpacing: e.css("letterSpacing"), whiteSpace: "nowrap" }),
            g = a(this).attr("id") + "_autosize_tester";
        !a("#" + g).length > 0 && (f.attr("id", g), f.appendTo("body")), e.data("minwidth", c), e.data("maxwidth", d), e.data("tester_id", g), e.css("width", c)
    }, a.fn.addTag = function (d, e) {
        return e = jQuery.extend({ focus: !1, callback: !0 }, e), this.each(function () {
            var f = a(this).attr("id"),
                g = a(this).val().split(b[f]);
            if ("" == g[0] && (g = new Array), d = jQuery.trim(d), e.unique) {
                var h = a(this).tagExist(d);
                1 == h && a("#" + f + "_tag").addClass("not_valid")
            } else var h = !1;
            if ("" != d && 1 != h) {
                if (a("<span>").addClass("tag").append(a("<span>").text(d).append("&nbsp;&nbsp;"), a("<a>", { href: "#", title: "Removing tag", text: "x" }).click(function () { return a("#" + f).removeTag(escape(d)) })).insertBefore("#" + f + "_addTag"), g.push(d), a("#" + f + "_tag").val(""), e.focus ? a("#" + f + "_tag").focus() : a("#" + f + "_tag").blur(), a.fn.tagsInput.updateTagsField(this, g), e.callback && c[f] && c[f].onAddTag) {
                    var i = c[f].onAddTag;
                    i.call(this, d)
                }
                if (c[f] && c[f].onChange) {
                    var j = g.length,
                        i = c[f].onChange;
                    i.call(this, a(this), g[j - 1])
                }
            }
        }), !1
    }, a.fn.removeTag = function (d) {
        return d = unescape(d), this.each(function () {
            var e = a(this).attr("id"),
                f = a(this).val().split(b[e]);
            for (a("#" + e + "_tagsinput .tag").remove(), str = "", i = 0; i < f.length; i++) f[i] != d && (str = str + b[e] + f[i]);
            if (a.fn.tagsInput.importTags(this, str), c[e] && c[e].onRemoveTag) {
                var g = c[e].onRemoveTag;
                g.call(this, d)
            }
        }), !1
    }, a.fn.tagExist = function (c) {
        var d = a(this).attr("id"),
            e = a(this).val().split(b[d]);
        return jQuery.inArray(c, e) >= 0
    }, a.fn.importTags = function (b) {
        var c = a(this).attr("id");
        a("#" + c + "_tagsinput .tag").remove(), a.fn.tagsInput.importTags(this, b)
    }, a.fn.tagsInput = function (e) {
        var f = jQuery.extend({ interactive: !0, defaultText: "add a tag", minChars: 0, width: "300px", height: "100px", autocomplete: { selectFirst: !1 }, hide: !0, delimiter: ",", unique: !0, removeWithBackspace: !0, placeholderColor: "#666666", autosize: !0, comfortZone: 20, inputPadding: 12 }, e),
            g = 0;
        return this.each(function () {
            if ("undefined" == typeof a(this).attr("data-tagsinput-init")) {
                a(this).attr("data-tagsinput-init", !0), f.hide && a(this).hide();
                var e = a(this).attr("id");
                (!e || b[a(this).attr("id")]) && (e = a(this).attr("id", "tags" + (new Date).getTime() + g++).attr("id"));
                var h = jQuery.extend({ pid: e, real_input: "#" + e, holder: "#" + e + "_tagsinput", input_wrapper: "#" + e + "_addTag", fake_input: "#" + e + "_tag" }, f);
                b[e] = h.delimiter, (f.onAddTag || f.onRemoveTag || f.onChange) && (c[e] = new Array, c[e].onAddTag = f.onAddTag, c[e].onRemoveTag = f.onRemoveTag, c[e].onChange = f.onChange);
                var i = '<div id="' + e + '_tagsinput" class="tagsinput"><div id="' + e + '_addTag">';
                if (f.interactive && (i = i + '<input id="' + e + '_tag" value="" data-default="' + f.defaultText + '" />'), i += '</div><div class="tags_clear"></div></div>', a(i).insertAfter(this), a(h.holder).css("width", f.width), a(h.holder).css("min-height", f.height), a(h.holder).css("height", f.height), "" != a(h.real_input).val() && a.fn.tagsInput.importTags(a(h.real_input), a(h.real_input).val()), f.interactive) {
                    if (a(h.fake_input).val(a(h.fake_input).attr("data-default")), a(h.fake_input).css("color", f.placeholderColor), a(h.fake_input).resetAutosize(f), a(h.holder).bind("click", h, function (b) { a(b.data.fake_input).focus() }), a(h.fake_input).bind("focus", h, function (b) { a(b.data.fake_input).val() == a(b.data.fake_input).attr("data-default") && a(b.data.fake_input).val(""), a(b.data.fake_input).css("color", "#000000") }), void 0 != f.autocomplete_url) {
                        autocomplete_options = { source: f.autocomplete_url };
                        for (attrname in f.autocomplete) autocomplete_options[attrname] = f.autocomplete[attrname];
                        void 0 !== jQuery.Autocompleter ? (a(h.fake_input).autocomplete(f.autocomplete_url, f.autocomplete), a(h.fake_input).bind("result", h, function (b, c, d) { c && a("#" + e).addTag(c[0] + "", { focus: !0, unique: f.unique }) })) : void 0 !== jQuery.ui.autocomplete && (a(h.fake_input).autocomplete(autocomplete_options), a(h.fake_input).bind("autocompleteselect", h, function (b, c) { return a(b.data.real_input).addTag(c.item.value, { focus: !0, unique: f.unique }), !1 }))
                    } else a(h.fake_input).bind("blur", h, function (b) { var c = a(this).attr("data-default"); return "" != a(b.data.fake_input).val() && a(b.data.fake_input).val() != c ? b.data.minChars <= a(b.data.fake_input).val().length && (!b.data.maxChars || b.data.maxChars >= a(b.data.fake_input).val().length) && a(b.data.real_input).addTag(a(b.data.fake_input).val(), { focus: !0, unique: f.unique }) : (a(b.data.fake_input).val(a(b.data.fake_input).attr("data-default")), a(b.data.fake_input).css("color", f.placeholderColor)), !1 });
                    a(h.fake_input).bind("keypress", h, function (b) { return d(b) ? (b.preventDefault(), b.data.minChars <= a(b.data.fake_input).val().length && (!b.data.maxChars || b.data.maxChars >= a(b.data.fake_input).val().length) && a(b.data.real_input).addTag(a(b.data.fake_input).val(), { focus: !0, unique: f.unique }), a(b.data.fake_input).resetAutosize(f), !1) : void (b.data.autosize && a(b.data.fake_input).doAutosize(f)) }), h.removeWithBackspace && a(h.fake_input).bind("keydown", function (b) {
                        if (8 == b.keyCode && "" == a(this).val()) {
                            b.preventDefault();
                            var c = a(this).closest(".tagsinput").find(".tag:last").text(),
                                d = a(this).attr("id").replace(/_tag$/, "");
                            c = c.replace(/[\s]+x$/, ""), a("#" + d).removeTag(escape(c)), a(this).trigger("focus")
                        }
                    }), a(h.fake_input).blur(), h.unique && a(h.fake_input).keydown(function (b) {
                        (8 == b.keyCode || String.fromCharCode(b.which).match(/\w+|[,/]+/)) && a(this).removeClass("not_valid")
                    })
                }
            }
        }), this
    }, a.fn.tagsInput.updateTagsField = function (c, d) {
        var e = a(c).attr("id");
        a(c).val(d.join(b[e]))
    }, a.fn.tagsInput.importTags = function (d, e) {
        a(d).val("");
        var f = a(d).attr("id"),
            g = e.split(b[f]);
        for (i = 0; i < g.length; i++) a(d).addTag(g[i], { focus: !1, callback: !1 });
        if (c[f] && c[f].onChange) {
            var h = c[f].onChange;
            h.call(d, d, g[i])
        }
    };
    var d = function (b) { var c = !1; return 13 == b.which ? !0 : ("string" == typeof b.data.delimiter ? b.which == b.data.delimiter.charCodeAt(0) && (c = !0) : a.each(b.data.delimiter, function (a, d) { b.which == d.charCodeAt(0) && (c = !0) }), c) }
}(jQuery);












